Началось тестирование сборок FreeBSD, переведённых на "ZFS on Linux"

Крис Мур (Kris Moore), создатель проекта PC-BSD и вице-президент компании iXsystems, объявил о начале тестирования установочных сборок FreeBSD 12-STABLE и FreeBSD 13-HEAD, в которых изначально поддерживаемая во FreeBSD реализация файловой системы ZFS заменена на наработки проекта "ZFS on Linux". Благодаря инициативе по обеспечению переносимости кода "ZFS on Linux" на другие системы, для FreeBSD были подготовлены порты sysutils/zol (утилиты) и sysutils/zol-kmod (модуль ядра), которые теперь предлагается протестировать. В контексте файловой системы наиболее простым способом тестирования является предоставление готовых установочных образов, в которых изначальная реализация ZFS отключена и предустановлены порты с "ZFS on Linux". В качестве ФС для корневого раздела могут использоваться UFS и ZFS. Напомним, что в декабре прошлого года разработчики FreeBSD выступили с инициативой перехода на реализацию ZFS от проекта "ZFS on Linux" (ZoL), вокруг которого последнее время сосредоточилась вся активность, связанная с развитием ZFS. В качестве причины миграции была упомянута стагнация кодовой базы ZFS от проекта Illumos (форк OpenSolaris), которая ранее использовалась в качестве основы для переноса связанных с ZFS изменений во FreeBSD. Основной вклад в поддержку кодовой базы ZFS в Illumos до недавнего времени вносила компания Delphix, развивающая операционную систему DelphixOS (форк Illumos). Год назад компания Delphix приняла решение о переходе на "ZFS on Linux", что привело к стагнации ZFS от проекта Illumos и сосредоточением всей связанной с разработкой активности в проекте "ZFS on Linux", который теперь рассматривается как основная реализация OpenZFS. Разработчики FreeBSD решили последовать общему примеру и не пытаться удержаться за Illumos, так как эта реализация уже сильно отстаёт по функциональности и требует больших ресурсов для сопровождения кода и переноса изменений. "ZFS on Linux" теперь рассматривается как основной единый совместный проект по разработке ZFS. Поддержка FreeBSD будет интегрирована непосредственно в код "ZFS on Linux" и развиваться в основном репозитории данного проекта. Некоторые возможности, которые доступны в порте "ZFS on Linux" для FreeBSD, но отсутствуют в реализации ZFS от Illumos: Режим multihost (MMP, Multi Modifier Protection); Расширенная система квот; Шифрование наборов данных; Раздельный выбор классов распределения блоков (allocation classes); Использование векторных процессорных инструкций для ускорения реализация RAIDZ и вычисления контрольных сумм; Улучшенный инструментарий командной строки; Исправление многих ошибок, связанных с состоянием гонки и блокировками.