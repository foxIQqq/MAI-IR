Релиз Firefox 104

Состоялся релиз web-браузера Firefox 104. Кроме того, сформированы обновления веток с длительным сроком поддержки - 91.13.0 и 102.2.0. На стадию бета-тестирования в ближайшие часы будет переведена ветка Firefox 105, релиз которой намечен на 20 сентября. Основные новшества в Firefox 104: Добавлен экспериментальный механизм QuickActions, позволяющий выполнять различные типовые действия с браузером из адресной строки. Например, для быстрого перехода к просмотру дополнений, закладок, сохранённых учётных записей (менеджер паролей) и открытия режима приватного просмотра можно ввести в адресной строке команды addons, bookmarks, logins, passwords и private, при распознании которых в выпадающем списке будет показана кнопка для перехода к соответствующему интерфейсу. Для включения QuickActions следует установить параметры browser.urlbar.quickactions.enabled=true и browser.urlbar.shortcuts.quickactions=true в about:config. Во встроенный интерфейс для просмотра документов в формате PDF добавлен режим редактирования, в котором предложены такие возможности, как рисование графических меток (рисунки линиями от руки) и прикрепление текстовых комментариев. Цвет, толщина линий и размер шрифта настраиваются через новые кнопки, добавленные в панель просмотрщика PDF. Для включения нового режима на странице about:config следует выставить параметр pdfjs.annotationEditorMode=0. По аналогии с регулированием ресурсов, выделяемых фоновым вкладкам, интерфейс пользователя теперь переводится в режим экономии энергопотребления в случае сворачивания окна браузера. В интерфейсе профилирования добавлена возможность анализа энергопотребления, связанного с работой сайта. Анализатор энергопотребления пока доступен только на системах с Windows 11 и на компьютерах Apple с чипом M1. В режиме "картинка в картинке" обеспечен показ субтитров, при просмотре видео с сервиса Disney+. Ранее субтитры показывались только для YouTube, Prime Video, Netflix, HBO Max, Funimation, Dailymotion, Tubi, Hotstar и SonyLIV и сайтов, использующих формат WebVTT (Web Video Text Track). Добавлена поддержка CSS-свойства scroll-snap-stop, которое позволяет настроить поведение при прокрутке при помощи тачпада: в режиме 'always' прокрутка останавливается на каждом элементе, а в режиме 'normal' при инерциальной прокрутке жестом допускается пропуск элементов. Также реализована поддержка корректировки позиции прокрутки в случае изменения содержимого (например, для сохранения той же позиции после удаления части вышестоящего контента). В JavaScript-объекты Array и TypedArrays добавлены методы Array.prototype.findLast(), Array.prototype.findLastIndex(), TypedArray.prototype.findLast() и TypedArray.prototype.findLastIndex(), позволяющие искать элементы c выводом результата относительно конца массива. [1,2,3,4].findLast((el) => el % 2 === 0) // → 4 (последний чётный элемент) В метод HTMLElement.focus() добавлена поддержка параметра option.focusVisible, при помощи которого можно включить отображение наглядного индикатора изменения фокуса ввода. Добавлено свойство SVGStyleElement.disabled, при помощи которого можно включить или отключить таблицы стилей для определённого элемента SVG или проверить их состояние (по аналогии с HTMLStyleElement.disabled). Повышена стабильность и производительность сворачивания и восстановления окон на платформе Linux при использовании web-фреймворка Marionette (WebDriver). Добавлена возможность прикрепления обработчиков касания к экрану (touch action). В версии для Android обеспечена поддержка автозаполнение форм с адресами на основе ранее указываемых адресов. В настройках предоставлена возможность редактирования и добавления адресов. Добавлена поддержка выборочного удаления истории, позволяющая удалить историю перемещений за последний час или за последние два дня. Устранено аварийное завершение при открытии ссылки из внешнего приложения. Кроме новшеств и исправления ошибок в Firefox 104 устранены 10 уязвимостей, из которых 8 помечены как опасные (6 сведены под CVE-2022-38476 и CVE-2022-38478) и вызваны проблемами работы с памятью, такими как переполнения буферов и обращение к уже освобождённым областям памяти. Потенциально данные проблемы способны привести к выполнению кода злоумышленника при открытии специально оформленных страниц.