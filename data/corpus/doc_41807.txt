В Chrome будет прекращена поддержка ядра Linux 3.16 и более ранних выпусков

Разработчики из компании Google сообщили о невозможности полноценной работы следующего выпуска браузера Chrome/Chromium в системах с ядрами Linux без поддержки установки фильтров системных вызовов (seccomp) с флагом SECCOMP_FILTER_FLAG_TSYNC. Таким образом, следующие выпуски Chrome/Chromuim можно будет в полной мере использовать только с ядрами Linux, начиная с выпуска 3.17. На системах с более ранними выпусками ядра будет проявляться проблема, приводящая к невозможности установить дополнения и браузерные приложения. Примечательно, что разработчики Chromium не согласны, что данное поведение является регрессивным изменением и требует исправления в кодовой базе Chromium, так как проблема решается обновлением ядра. В настоящий момент уведомление о проблеме помечено как не требующее исправления. При этом разработчики Chromium готовы рассмотреть патчи с исправлениями со стороны. Ядро 3.17 было выпущено в октябре прошлого года, поэтому поддержка TSYNC в дистрибутивах в основном реализована через дополнительные патчи. Например, TSYNC поддерживается в ядре 3.16 из состава Ubuntu 14.10, но отсутствует в выпусках с длительным сроком поддержки. Разработчики проекта Debian подготовили патч, реализующий SECCOMP_FILTER_FLAG_TSYNC для ядра 3.16 из Debian 8 "jessie". Поддержка TSYNC также бэкпортирована для ядер 3.14, 3.10, 3.8 и 3.4, используемых в Ubuntu 14.04, Android и Chrome OS. Флаг SECCOMP_FILTER_FLAG_TSYNC используется для sandbox-изоляции в Chrome и позволяет синхронизировать состояние фильтров системных вызовов (seccomp) для всех рабочих нитей, включая ранее запущенные нити, для которых уже установлены правила seccomp.