Выпуск postmarketOS 21.12, Linux-дистрибутива для смартфонов и мобильных устройств

Представлен выпуск проекта postmarketOS 21.12, развивающего дистрибутив Linux для смартфонов, базирующийся на пакетной базе Alpine Linux, стандартной Си-библиотеке Musl и наборе утилит BusyBox. Целью проекта является предоставление Linux-дистрибутива для смартфонов, не зависящего от жизненного цикла поддержки официальных прошивок и не привязанного к типовым решениям основных игроков индустрии, задающих вектор развития. Сборки подготовлены для PINE64 PinePhone, Purism Librem 5 и 23 поддерживаемых сообществом устройств, включая Samsung Galaxy A3/A3/S4, Xiaomi Mi Note 2/Redmi 2, OnePlus 6 и даже Nokia N900. Ограниченная экспериментальная поддержка предоставлена для более чем 300 устройств. Окружение postmarketOS максимально унифицировано и выносит все специфичные для конкретных устройств компоненты в отдельный пакет, все остальные пакеты идентичны для всех устройств и основаны на пакетах Alpine Linux. В сборках по возможности используется ванильное ядро Linux, а если это невозможно, то ядра из прошивок, подготовленных производителями устройств. В качестве основных пользовательских оболочек предлагаются KDE Plasma Mobile, Phosh и Sxmo, но имеется возможность установки и других окружений, включая GNOME, MATE и Xfce. В новом выпуске: Пакетная база синхронизирована с Alpine Linux 3.15. Число официально поддерживаемых сообществом устройств увеличено с 15 до 23. Добавлена поддержка устройств Arrow DragonBoard 410c, Lenovo A6000/A6010, ODROID HC, PINE64 PineBook Pro, PINE64 RockPro64, Samsung Galaxy Tab A 8.0/9.7 и Xiaomi Pocophone F1. Из списка поддерживаемых устройств временно удалён коммуникатор ПК Nokia N900, поддержка которого до появления мэйнтейнера будет переведена из категории устройств, поддерживаемых сообществом, в категорию "testing", для которой не публикуются готовые сборки. Изменение связано с уходом сопровождающего и необходимостью обновления ядра для Nokia N900 и тестирования сборок. Из проектов, продолжающих формирование сборок для Nokia N900, отмечается Maemo Leste. Для поддерживаемых смартфонов и планшетов сформированы сборки с интерфейсами пользователя Phosh, KDE Plasma Mobile и Sxmo, оптимизированными для мобильных устройств. Для других типов устройств, таких как ноутбук PineBook Pro, подготовлены сборки со стационарными рабочими столами на базе KDE Plasma, GNOME, Sway и Phosh. Обновлены версии мобильных интерфейсов пользователя. Графическая оболочка Sxmo (Simple X Mobile), придерживающаяся Unix-философии, обновлена до версии 1.6. Ключевым изменением в новой версии стал переход на использование оконного менеджера Sway вместо dwm (поддержка dwm сохранена в качестве опции) и перевод графического стека с X11 на Wayland. Из других улучшений в Sxmo отмечается переработка кода блокировки экрана, поддержка групповых чатов и возможность отправки/приёма MMS. Оболочка Plasma Mobile обновлена до версии 21.12, подробный обзор которой был предложен в отдельной новости. Окружение Phosh, основанное на технологиях GNOME и развиваемое компанией Purism для смартфона Librem 5, продолжает базироваться на версии 0.14.0, предложенной выпуске postmarketOS 21.06 SP4 и реализующей такие новшества, как вывод заставки для индикации запуска приложений, индикатор работы Wi-Fi в режиме точки доступа, кнопки перемотки в виджете с медиаплеером и прекращение воспроизведения при отключении наушников. Из дополнительных изменений, добавленных в postmarketOS 21.12, отмечается обновление многих программ GNOME, включая gnome-settings, до состояния GNOME 41, а также решение проблем с отображением пиктограммы Firefox в окне предпросмотра. Добавлен обработчик TTYescape, позволяющий переключиться в консольный режим с классической командной строкой на устройствах, к которым не подключена внешняя клавиатура. Режим рассматривается как аналог экрана "Ctrl+Alt+F1", предоставляемого в классических дистрибутивах Linux, который можно использовать для выборочного завершения процессов, разбора зависаний интерфейса и прочей диагностики. Активация консольного режима осуществляется тремя короткими нажатиями клавиши включения питания при удержании в этот момент кнопки увеличения громкости. Аналогичная комбинация используется для возвращения в графический интерфейс. Приложение postmarketos-tweaks обновлено до версии 0.9.0, в которой появилась возможность управления фильтром списка приложений в Phosh и изменения таймаута перехода в глубокий спящий режим. В postmarketOS 21.12 данный таймаут по умолчанию уменьшен с 15 до 2 минут для экономии заряда аккумулятора. Переписан инструментарий для генерации загрузочных файлов (postmarketos-mkinitfs), в котором улучшена поддержка скриптов для установки дополнительных файлов, связанных с процессом загрузки (boot-deploy), что заметно увеличило стабильность обновления ядра и initramfs. Предложен новый набор файлов конфигурации для Firefox (mobile-config-firefox 3.0.0), который адаптирован для изменений в оформлении Firefox 91. В новой версии навигационная панель Firefox перенесена вниз экрана, улучшен интерфейс режима читателя (reader view), по умолчанию добавлен блокировщик рекламы uBlock Origin.