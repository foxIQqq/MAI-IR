Компания System76 работает над созданием нового пользовательского окружения

Майкл Мёрфи (Michael Aaron Murphy), лидер разработчиков дистрибутива Pop!_OS и участник разработки операционной системы Redox, подтвердил сведения о разработке компанией System76 нового окружения рабочего стола, не основанного на GNOME Shell и написанного на языке Rust. Компания System76 специализируется на производстве ноутбуков, ПК и серверов, поставляемых с Linux. Для предустановки развивается собственная редакция Ubuntu Linux - Pop!_OS. После перехода Ubuntu на оболочку Unity в 2011 году в дистрибутиве Pop!_OS было предложено своё пользовательское окружение на базе модифицированной оболочки GNOME Shell и нескольких расширений к GNOME Shell. После возвращения Ubuntu на GNOME в 2017 году в Pop!_OS продолжили поставку своей оболочки, которая в летнем релизе трансформировалась в рабочий стол COSMIC. В COSMIC продолжено использование технологий GNOME, но c более глубокой переработкой рабочего стола и внесением изменений, выходящих за рамки дополнений к GNOME Shell. В соответствии с новым планом, компания System76 намерена полностью уйти от построения своего пользовательского окружения на базе GNOME Shell и развивать новый рабочий стол, применяя язык Rust при разработке. Следует отметить, что System76 имеет большой опыт разработки на Rust. В компании работает Джереми Соллер (Jeremy Soller), основатель операционной системы Redox, графической оболочки Orbital и тулкита OrbTk, написанных на языке Rust. В Pop!_OS уже поставляются такие компоненты на Rust, как менеджер обновлений, система управления энергопотреблением, инструментарий управления прошивками, сервис для запуска программ, инсталлятор, виджет настройки и конфигураторы. Разработчики Pop!_OS также раньше экспериментировали с созданием новой панели cosmic-panel, написанной на Rust. В качестве мотива ухода от использования оболочки GNOME Shell называются проблемы с сопровождением - каждый новый релиз GNOME Shell приводит к нарушению совместимости с дополнениями, применяемыми в Pop!_OS, поэтому признано более целесообразным создать собственное полноценное окружение рабочего стола, чем продолжать мучиться с сопровождением десятков тысяч строк кода c изменениями. Также упоминается невозможность реализовать всю задуманную функциональность только через дополнения к GNOME Shell, без внесения изменений в сам GNOME Shell и переработки некоторых подсистем. Новый рабочий стол развивается как универсальный проект, не привязанный к конкретному дистрибутиву, соответствующий спецификациям Freedesktop и способный работать поверх существующих типовых низкоуровневых компонентов, таких как композитные серверы mutter, kwin и wlroots (в Pop!_OS намерены использовать mutter и уже подготовили к нему обвязку на Rust). Проект планируется развивать под прежним именем - COSMIC, но использовать переписанную с нуля пользовательскую оболочку. Приложения, скорее всего, продолжат разрабатываться с использованием обвязки gtk-rs. В качестве первичного протокола заявлен Wayland, но не исключается предоставление возможности работы поверх сервера X11. Работа над новой оболочкой пока находится на стадии экспериментов и активируется после завершения формирования очередного релиза Pop!_OS 21.10, которому пока уделяется основное внимание.