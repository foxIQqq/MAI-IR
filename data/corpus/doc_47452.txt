GoPro перевёл видеокодек CineForm в разряд открытых проектов

Компания GoPro открыла исходные тексты реализации видеокодека CineForm, применяемого в профессиональном оборудовании для видеосъемки. Исходные тексты CineForm SDK опубликованы на gitHub под двумя лицензиями: Apache 2.0 и MIT. Кодек теперь можно свободно интегрировать в любые продукты без оплаты отчислений и расширять его функциональность, например, добавлять поддержку новых форматов изображений или вносить оптимизации. В ближайшее время ожидается интеграция CineForm в открытые видеопроигрыватели и пакеты перекодирования видео, без необходимости связывания с проприетарными бинарными библиотеками. CineForm предлагает 12-разрядный формат сжатия видео с использованием вейвлет-преобразования. Кроме полноценной реализации кодировщика и декодировщика, а также демонстраций для встраивания CineForm в приложения, в репозитории также опубликован код упрощённого варианта (WaveletDemo), который может применяться для изучения применения вейвлетов для сжатия видео или как отправная точка для создания новых кодеков. Реализация написана на языках C и C++ и включает ручные оптимизации с использованием инструкций SSE2. Работа SDK проверена в Linux (Ubuntu), Windows и macOS. Кодек CineForm примечателен тем, что спроектирован для обеспечения высокой скорости кодирования и качества видео, в ущерб результирующему размеру (выбирая из набора "размер, скорость и качество", как правило, остальные кодеки отдают предпочтение связке "размер и качество", жертвуя скоростью кодирования). Высокая скорость кодирования и высокое качество позволило CineForm занять нишу первичного формата для сохранения материалов с видеокамер и для профессиональной обработки и монтажа видео. Ближайшими конкурентами являются кодеки Avid DNxHD и Apple ProRES, которые, основаны на методе разбиения изображения на блоки с использованием дискретного косинусного преобразования (DCT), в то время как технология сжатия на основе вейвлетов оперирует изображением как единым целым, позволяя добиться более высокого визуального качества и сделать менее заметными артефакты при высоком уровне сжатия. Благодаря вейвлет-преобразованию, с ростом разрешений возрастает и эффективность работы CineForm. Особое место CineForm также занимает системах трансляции видео в режиме 360° (например, в камере Omni с работой в разрешениях 8Kp30 и 6Kp60 справляется только CineForm). Кодек поддерживает работу с пиксельными форматами 8/10/16-bit YUV 4:2:2 (прогрессивное и чересстрочное кодирование), 8/10/16-bit RGB 4:4:4, 8/16-bit RGBA 4:4:4:4 и 12/16-bit CFA Bayer RAW. Для любого формата может применяться двухканальное кодирование для стереоскопического, 3D и 360°-контента с разрешением выше 4K. Без потери качества кодек оперирует уровнем сжатия в диапазоне между 10:1 и 4:1 - CineForm работает в режиме обеспечения постоянного качества, меняя битрейт в зависимости от типов сцен (большинство других кодеков удерживают битрейт, допуская изменение качества).