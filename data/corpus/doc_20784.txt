Для включения во FreeBSD HEAD представлен переработанный код системы gvinum

Для включения во FreeBSD HEAD представлен переработанный код системы gvinum, разработка которого велась на протяжении двух последних лет. Внутренняя логика работы переведена на событийную модель обработки, переписаны некоторые ключевые компоненты, улучшена реализация перестроения и синхронизации разделов. Основные новшества: Добавлены недостающие команды, присутствующие в первоначальном vinum, такие как attach/detach, start, stop, concat, mirror, stripe, raid5; Поддержка исправления деградировавших разделов, находящихся в смонтированном состоянии. Возможность добавления дополнительных дисков в RAID 5 разделы, с целью увеличения размера раздела, с поддержкой фонового перестроения без остановки работы. Инициирование проверки целостности и перестроения массива более не блокируют работу пользовательских команд, а сразу возвращают управление в shell; По сравнению со старой реализацией gvinum, значительно увеличена стабильность работы; Сбойные диски теперь не исчезают из массива, а остаются в роли заглушки, позволяющей сохранить статус между перезагрузками; Gvinum теперь использует один рабочий поток и одну очередь событий, вместо отдельных потоков на каждый раздел или массив, что значительно упрощает реализацию и повышает надежность работы; Операции перестроения, инициализации, проверки целостности или увеличения размера отныне не запускаются в разных потоках, а работают как обычные запросы ввода/вывода с установкой специальных флагов, что позволяет реализовать операции равномерного перестроения массива и увеличения его размера, без размонтирования.