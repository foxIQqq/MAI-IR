В KWin интегрирован код с поддержкой OpenGL ES 2.0

Разработчики оконного менеджера KWin, используемого в проекте KDE, сообщили о добавлении в основную ветку проекта кода с новым композитным бэкендом, основанным на использовании OpenGL ES 2.0. Данный шаг является значительным достижением в направлении обеспечения работы Plasma Workspace на мобильных устройствах, таких как коммуникаторы и интернет планшеты (см. видео запуска оболочки Plasma на Nokia N900). Примечательно, что интеграция поддержки OpenGL ES обеспечит не только поддержку мобильных устройств, но и скажется на производительности KDE на обычных десктопах - код написанный для мобильных систем задействован в KWin и для обеспечения вывода для рабочих столов Plasma Desktop и Plasma Netbook. Так как по сравнению с ранее используемым glx-бэкендом, бэкенд на базе OpenGL ES отличается значительным упрощением кода, на его основе решено реализовать и поддержку композитинга на базе OpenGL 2. Старый glx-бэкенд оставлен как запасной вариант для систем с устаревшими графическими картами, которые не поддерживают OpenGL 2. Различные части OpenGL-стека унифицированы для обеспечения работы визуальных эффектов как на основе OpenGL 1, так и на базе OpenGL 2, что приведет к упрощению поддержания кодовой базы и позволит реализовать все доступные визуальные эффекты, независимо от уровня поддержки OpenGL видеокартой. KWin становится первым крупным оконным менеджером в полной мере использующим OpenGL 2 без прекращения возможности работы с использованием устаревших видеокарт. Кроме того, KWin является единственным оконным менеджером, который обеспечивает как работу в не композитном режиме (без визуальных эффектов), так и в композитном режиме (вывод производится через промежуточный буфер, который затем выводится на экран в виде текстуры OpenGL, что позволяет добиться применимости визуальных эффектов к окнам), работающим через OpenGL ES 2.0, OpenGL 2, OpenGL 1 и XRender. Таким образом, оболочка Plasma Workspaces предоставляет наглядное оформление (User Experience) без привлечения механизмов аппаратной акселерации и обеспечивает расширенные визуальные эффекты, такие как размытие фона под полупрозрачными элементами, при наличии современных видеокарт. Появление поддержки композитного бэкенда на основе OpenGL ES 2.0 несет в себе возможность углубления в несколько перспективных направлений дальнейшего развития, таких как разработка ранее недостижимых визуальных эффектов и портирование KDE Plasma Workspaces для работы с дисплейным сервером Wayland. Отдельно отмечается, что разработка поддержки OpenGL ES велась на обычном десктопе с видеокартой NVIDIA и свободным драйвером nouveau.