Выпуск новой стабильной ветки Tor 0.4.2

Представлен выпуск инструментария Tor 0.4.2.5, используемого для организации работы анонимной сети Tor. Tor 0.4.2.5 признан первым стабильным выпуском ветки 0.4.2, которая развивалась последние четыре месяца. Одновременно предложены обновления для старых веток 0.4.1.7, 0.4.0.6 и 0.3.5.9. Ветка 0.4.2 будет сопровождаться в рамках штатного цикла сопровождения - выпуск обновлений будет прекращён через 9 месяцев или через 3 месяца после релиза ветки 0.4.3.x. Длительный цикл поддержки (LTS) обеспечен для ветки 0.3.5, обновления для которой будут выпускаться до 1 февраля 2022 года. Поддержка веток 0.4.0.x и 0.2.9.x будет прекращена в начале следующего года. Основные новшества: На серверах каталогов включена блокировка подключения узлов, на которых используются устаревшие выпуски Tor, поддержка которых прекращена (будут заблокированы все узлы, на которых не используются актуальные ветки 0.2.9, 0.3.5, 0.4.0, 0.4.1 и 0.4.2). Блокировка позволит по мере прекращения поддержки очередных веток автоматически исключать из сети узлы, вовремя не перешедшие на актуальное программное обеспечение. Наличие в сети узлов с устаревшим программным обеспечением негативно отражается на стабильности и создаёт дополнительные риски нарушения безопасности. Если администратор не следит за обновлением Tor, то, вероятно, он халатно относится к обновлению системы и других серверных приложений, что повышает риск захвата контроля над узлом в результате целевых атак. Наличие узлов с уже неподдерживаемыми выпусками также мешает исправлению важных ошибок, препятствует распространению новых возможностей протокола и снижает эффективность работы сети. Операторы устаревших систем были уведомлены о планируемой блокировке ещё в сентябре. Для скрытых сервисов предоставлены средства для защиты от DoS-атак. Точки выбора соединения (intro points) теперь могут ограничивать интенсивность запросов от клиента, используя параметры, отправленные скрытым сервисом в ячейке ESTABLISH_INTRO. Если новое расширение не используется скрытым сервисом, то точка выбора соединения будет руководствоваться параметрами достижения консенсуса. В точках выбора соединения запрещено подключение клиентов прямого проброса (single-hop), которые использовались для работы сервиса Tor2web, поддержка которого давно прекращена. Блокировка позволит снизить нагрузку на сеть от клиентов-спамеров. Для скрытых сервисов реализован общий набор токенов (generic token bucket), использующий единый счётчик, который может применяться для борьбы с DoS-атаками. Режим "BEST" в команде ADD_ONION теперь по умолчанию применяет сервисы ED25519-V3 (v3) вместо RSA1024 (v2). В код настройки добавлена возможность разделения данных конфигурации между несколькими объектами. Проведена значительная чистка кода.