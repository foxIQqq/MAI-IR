В Firefox будет добавлена поддержка формата изображений WebP

В кодовую базу Firefox решено принять код с реализацией поддержки формата изображений WebP. В стабильных выпусках Firefox поддержка WebP будет включена в первой половине 2019 года. Формат WebP разработан компанией Google и поддерживает анимированные изображения. В режиме кодирования с потерями WebP позволяет добиться сокращения размера файла на 25%-34% по сравнению с файлами JPEG аналогичного качества, а в режиме сжатия без потерь обеспечивает сокращение результирующего размера файла на 26% по сравнению с максимальным уровнем сжатия PNG. Поддержка WebP до сих пор не была включена в состав Firefox из-за расхождения взглядов Mozilla и Google в области поддержки анимированных изображений. Разработчики из Mozilla продвигали формат APNG, а Google отказывался включать поддержку APNG из-за наличия собственного формата WebP. В прошлом году противостояние завершилось включением в Chromium поддержки APNG. Ответным шагом Mozilla стало включение WebP в Firefox после стабилизации API библиотеки libwebp. Кроме того, свою позицию в отношении WebP изменила и компания Microsoft, которая добавила поддержку данного формата в октябрьские сборки браузера Edge. Единственным популярным браузером без поддержки WebP остаётся Safari, в котором компания Apple продвигает собственный формат HEIF на основе технологий кодирования HEVC (H.265). В дальнейшем Mozilla, Apple и Google планируют добавить в свои браузеры новый формат изображений AVIF, развиваемый альянсом Open Media на базе технологий внутрикадрового сжатия видеокодека AV1. AVIF поддерживает как изображения в HDR (High Dynamic Range) и цветовом пространстве Wide-gamut, так и в стандартном динамическом диапазоне (SDR). AVIF развивается по аналогии с форматами WebP и HEIF/HEIC, которые используют методы внутрикадрового кодирования из VP8 и HEVC. Контейнер для распространения сжатых данных в AVIF полностью аналогичен HEIF.