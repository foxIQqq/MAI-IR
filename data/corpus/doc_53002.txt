Выпуск dav1d 0.7, декодировщика AV1 от проектов VideoLAN и FFmpeg

Сообщества VideoLAN и FFmpeg опубликовали выпуск библиотеки dav1d 0.7.0 с реализацией альтернативного свободного декодировщика формата кодирования видео AV1. Код проекта написан на языке C (C99) с ассемблерными вставками (NASM/GAS) и распространяется под лицензией BSD. Реализована поддержка архитектур x86, x86_64, ARMv7 и ARMv8, и операционных систем FreeBSD, Linux, Windows, macOS, Android и iOS. Библиотека dav1d поддерживает все возможности AV1, включая расширенные виды субдискретизации и все заявленные в спецификации параметры управления глубиной цвета (8, 10 и 12 бит). Работа библиотеки протестирована на большой коллекции файлов в формате AV1. Ключевой особенностью dav1d является ориентация на достижение максимально возможной производительности декодирования и обеспечение качественной работы в многопоточном режиме. В новой версии: Производительность реализации refmv (Dynamic Reference Motion Vector Prediction) увеличена примерно на 12% при сокращении потребления памяти примерно на 25%; Практически завершена реализация специфичных для архитектуры ARM64 оптимизаций, охватывающих многие операции при работе с глубиной цвета в 8, 10 и 12 бит; Добавлен фильтр CDEF, использующий инструкции AVX-512; Добавлены новые оптимизации на базе инструкций AVX2 и SSSE3; В утилите dav1dpla улучшена поддержка работы с глубиной цвета в 10 бит, с пиксельными форматами не-4:2:0 и подавлением цифрового шума на GPU. Напомним, что видеокодек AV1 разработан альянсом Open Media (AOMedia), в котором представлены такие компании, как Mozilla, Google, Microsoft, Intel, ARM, NVIDIA, IBM, Cisco, Amazon, Netflix, AMD, VideoLAN, Apple, CCN и Realtek. AV1 позиционируется как общедоступный и не требующий оплаты отчислений свободный формат кодирования видео, который заметно опережает H.264 и VP9 по уровню сжатия. Для всего диапазона протестированных разрешений в среднем AV1 обеспечивает тот же уровень качества при уменьшении битрейта на 13% по сравнению с VP9 и на 17% по сравнению с HEVC. На высоких битрейтах выигрыш увеличивается до 22-27% для VP9 и до 30-43% для HEVC. В тестах Facebook AV1 обогнал по уровню сжатия main profile H.264 (x264) на 50.3%, high profile H.264 на 46.2%, а VP9 (libvpx-vp9) на 34.0%.