Компания Intel представила OpenSWR, систему программной отрисовки OpenGL

Компания Intel представила высокопроизводительный открытый растеризатор OpenSWR, позволяющий обеспечить программную отрисовку OpenGL в Mesa на оборудовании без GPU. По сравнению с ныне применяемым в Mesa программным растеризатором LLVMpipe, решение от Intel обеспечивает прирост производительности в 29 раз при расчёте сцены из 2.9 млн треугольников и в 51 раз на сцене в 106.2 млн треугольников. Код OpenSWR распространяется под лицензией MIT. Предоставляемые проектом OpenSWR растеризатор и драйвер могут рассматриваться как программный GPU, который поддерживает OpenGL 3.3 и способен работать на широком спектре устройств, от ноутбуков и рабочих станций, до узлов в вычислительных кластерах, укомплектованных процессорами x86, начиная с Intel SandyBridge и AMD Bulldozer. В настоящее время OpenGL-растеризатор на базе OpenSWR успешно проходит 99% тестов из набора Visualization Toolkit (VTK) и 80% тестов piglit. Как и в LLVMpipe, в OpenSWR используются наработки проекта LLVM и для вычислений применяется только CPU. Высокая производительность достигается благодаря эффективному распараллеливанию операций на многоядерных процессорах, применению JIT-компиляции шейдеров и задействованию специализированных векторных наборов инструкций, таких как SSE (Streaming SIMD Extensions), AVX и AVX2 (Advanced Vector Extensions). Крупные операции отрисовки разбиваются на части с последующей параллельной обработкой вершин. Компания Intel намерена добиться включения OpenSWR в основной состав Mesa. При этом OpenSWR также может выступать в качестве прозрачной замены OpenGL-библиотеки, не требующей перекомпиляции приложений. OpenSWR развивается как часть более крупного проекта Software Defined Visualization (SDVis), охватывающего различные стороны визуализации научных расчётов и включающего такие разработки, как библиотека трассировки лучей Embree, распределённая инфраструктура трассировки лучей OSPRay, ParaView-плагин pvOSPRay и система фотореалистичной отрисовки GLuRay. Основной целью разработки OpenSWR было предоставление средств визуализации в крупных кластерах, по тем или иным причинам не укомплектованных GPU, но используемых для работы с очень большими геометрическими моделями. Архитектура OpenSWR прежде всего ориентирована на визуализацию в научных исследованиях, подразумевающую интенсивную обработку вершин и использование достаточно простых шейдеров, что значительно отличается от типовой нагрузки при запуске игровых приложений.