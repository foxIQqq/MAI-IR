Выпуск почтового сервера Exim 4.85 с поддержкой DANE

Представлен релиз почтового сервера Exim 4.85, в который внесены накопившиеся исправления и добавлены новые экспериментальные возможности. В соответствии с данными, полученными в результате автоматизированного опроса около двух миллионов почтовых серверов, Exim используется на 50.23% (было 44.23%) почтовых серверов, доля Postfix составляет 28.01% (23.36%), Sendmail - 9.39% (11.76%), Microsoft Exchange - 5.63% (12.25%). Добавленные улучшения: Поддержка верификации серверных сертификатов TLS с использованием DANE (DNS-based Authentication of Named Entities) без привлечения инфраструктуры открытых ключей (PKI, Public Key Infrastructure), т.е. без оценки валидности на основе заверения удостоверяющим центром. Для включения требуется сборка exim с опцией EXPERIMENTAL_DANE. При использовании DANE для подтверждения достоверности сервера применяется метод непосредственной передачи публичного ключа или сертификата сервера через DNS с проверкой подлинности переданных данных при помощи DNSSEC. Основной проблемой PKI является большое разрастание доверительной сети, в которой любой удостоверяющий центр может выписать валидный сертификат для любого домена, что подрывает всю систему при компрометации хотя бы одного удостоверяющего центра. В случае DANE за подтверждение сертификатов отвечает непосредственно владелец доменной зоны, права которого подтверждаются владельцем родительского домена более высокого уровня. Добавлена опция EXPERIMENTAL_CERTNAMES, включающая улучшенный механизм проверки серверных сертификатов, используемых в TLS для сопоставления результатов определения доступных MX. При сборке с EXPERIMENTAL_CERTNAMES опция "tls_verify_cert_hostname" не допускает многокомпонентные совпадения по маске. Опция EXPERIMENTAL_TPDA переименована в EXPERIMENTAL_EVENT ("event_action") с добавлением дополнительных типов обрабатываемых событий. Для привязки к событиям в условных операторах теперь нужно использовать переменную $event_name. Переименование выполнено так как функциональность вышла за рамки обработки только событий на стадии передачи данных. Устранены проблемы со сборкой на BSD-системах. Добавлена поддержка API arc4random. Расширена документация. Решены проблемы с интеграцией со SpamAssassin. Улучшен отладочный вывод. В exigrep добавлена опция "-M" для показа связанных сообщений; Улучшена поддержка LDAP. Добавлен оператор условной сортировки ${sort {list}{condition}{extractor}}. Обновлена реализация поддержки DSN (EXPERIMENTAL_DSN). Реализована возможность указания разделителя для результатов поиска MX/SRV/TLSA.