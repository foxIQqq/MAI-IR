Релиз Firefox 59

Состоялся релиз web-браузера Firefox 59, а также мобильной версии Firefox 59 для платформы Android. В ближайшие часы ожидается обновление ветки с длительным сроком поддержки 52.7.0. В ближайшее время на стадию бета-тестирования перейдёт ветка Firefox 60 (ESR), релиз которой намечен на 9 мая. Основные новшества: Продолжена работа по оптимизации производительности: Ускорена загрузка содержимого стартовой страницы. Переработан механизм кэширования - если определяется, что дисковый ввод/вывод на текущей системе слишком медленный, то параллельно с обращением к кэшу на диске отправляется сетевой запрос и используется первый полученный результат. В ситуации наличия медленных дисков и высокоскоростного сетевого соединения данный подход позволяет ускорить загрузку страниц. На платформе macOS включена отрисовка в отдельном потоке (OMTP, Off-Main-Thread Painting), которая ранее уже была включена для Linux и Windows; На стартовой странице появилась возможность перегруппировки избранных сайтов через перетаскивание пиктограмм мышью (Drag-and-drop), а также предоставлены средства для гибкой настройки выводимых блоков и их оформления; Во встроенном инструменте для создания скриншотов появился простейший редактор, предоставляющий возможности кадрирования сохранённых изображений (изменения видимой области), рисования произвольных линий кистью и выделения областей; В настройки (about:preferences) в секцию "Безопасность и Приватность" добавлена опция для постоянного блокирования вывода сайтами запросов на доставку уведомлений, а также на запросов доступа к микрофону, камере и местоположению. Выставление данной опции не влияет на явно добавленные пользователем разрешения для заслуживающих доверия сайтов; В приватном режиме при обращении к внешнему ресурсу в заголовке HTTP Referer теперь передаётся только имя хоста, а путь и все параметры запроса вырезаются. Т.е. вместо "Referer: https://www.example.com/путь/?аргументы" будет передан "Referer: https://www.example.com/". Подобное поведение поможет предотвратить передачу лишних данных о пользователе рекламным сетям и прочим внешним ресурсам; Прекращена поддержка сборки с использованием библиотеки GTK+ 2. Для платформы GNU/Linux теперь можно использовать только GTK+ 3; Расширен API WebExtensions: улучшена поддержка децентрализованных протоколов (разрешено использование через внешние расширения Secure Scuttlebutt, DATproject и IPFS), добавлена возможность динамической регистрации скриптов обработки контента, реализованы новые свойства для тем оформления, управления вкладками и доступом к настройкам, добавлены API pageAction, browserAction и SidebarAction. Улучшены возможности, связанные с организацией коммуникаций в режиме реального времени (WebRTC): реализован интерфейс RTCRtpTransceiver, позволяющий создавать приёмопередатчики, использующие API RTCPeerConnection (RTCPeerConnection.addTransceiver() ) и предоставляющие более тонкий контроль за вызовами. Добавлена серия методов, необходимых для поддержки хорошо масштабируемых телеконференций; В реализации формата WebVTT (Web Video Text Tracks, используется для вывода текста поверх видео) включена по умолчанию поддержка регионов (секция REGION, определяющая область вывода текста); Добавлена поддержка API PointerEvents, позволяющего контролировать в одном обработчике все события, связанные с перемещением указателя. Добавлены отдельные устройства для управления указателем ввода для мыши, пера и сенсорного экрана; Для HTML-элемента textarea добавлена поддержка атрибута autocomplete, который позволяет управлять включением или выключением автозаполнения форм; Добавлено новое CSS-свойство overscroll-behavior, позволяющее изменить поведение при достижении конца области прокрутки; Реализована поддержка липкого позиционирования CSS - position:sticky, при которой можно определить, чтобы при скроллинге часть блока оставалась видимой, пока сам блок полностью не выйдет за пределы экрана. Например, можно легко сделать так, чтобы заголовок с пояснениями по столбцам для длинной таблицы был виден, пока видна хоть одна ячейка таблицы, не прибегая к усложнениям в виде перехвата событий прокрутки и переключения позиции с "relative" на "fixed"; Добавлено CSS-свойство font-optical-sizing; Для вычисления задаваемых через CSS значений цветов и значений media query теперь можно использовать функцию calc(); Прекращена поддержка открытия в основной странице URL "data:", содержимое которых может быть использовано для отображения в адресной строке информации, вводящей пользователя в заблуждение (фишинга). Отныне не будет работать открытие ссылок "data:", которые включают в себя непосредственно данные страницы, через JavaScript-методы window.open("data:...") и window.location = "data:...", а также клики на ссылки с <a href="data:..."> и редиректы через meta refresh и код состояния 302. При этом останутся работоспособны такие способы как явное копирование блока "data:" в адресную строку через буфер обмена и открытие блоков с MIME-типами "plain/text", "data:application/pdf", "data:application/json" и "image/*" (за исключением "data:image/svg+xml"); Попытка загрузки изображений с внешних областей, требующих аутентификации, теперь не будет приводить к выводу диалога HTTP-аутентификации; Передаваемые при HTTP-аутентификации значения имени пользователя и пароля теперь передаются в кодировке utf-8 вместо ISO-8859-1, что соответствует поведению других браузеров; Расширены инструменты для web-разработчиков: В интерфейсе инспектирования хранилищ информация о Cookie теперь включает столбец со значением флага sameSite. В инструменте Rulers в верхнем правом углу обеспечено отображение текущих размеров области просмотра. В инструменте Responsive Design Mode добавлена возможность установки разрешения экрана при помощи клавиш управления курсором. Во вкладке с HTTP-заголовками в Network Monitor реализовано отображение кодов ответа. Во вкладке Response интерфейса сетевого мониторинга обеспечен показ эскизов результатов отрисовки загруженного HTML-контента. В версии для Android добавлена поддержка воспроизведения потокового видео с использованием протокола HLS (HTTP Live Streaming). Удалена спецстраница "about:", вместо которой следует использовать секцию меню "About Firefox". Обеспечена возможность регистрации Firefox как Assist App для организации поиска через Firefox длительным нажатием на клавишу Home. Отображение видео на весь экран теперь всегда производится в ландшафтном режиме. Кроме новшеств и исправления ошибок в Firefox 59 закрыты 18 уведомлений об уязвимостях. В двух уведомлениях, охватывающих 21 ошибку (под CVE-2018-5126 сведено 19 ошибок и под CVE-2018-5125 сведено 12 ошибок) устранены критические проблемы, которые потенциально могут привести к выполнению кода злоумышленника при открытии специально оформленных страниц.