Релиз дистрибутива Ubuntu 18.04 LTS

Состоялся релиз дистрибутива Ubuntu 18.04 "Bionic Beaver", который отнесён к категории выпусков с длительным сроком поддержки (LTS), обновления для которых формируются в течение 5 лет. Установочные образы созданы для Ubuntu Desktop, Ubuntu Server, Ubuntu Cloud, Kubuntu, Ubuntu Budgie, Lubuntu, Ubuntu Studio, Ubuntu Kylin, Ubuntu MATE и Xubuntu. Ключевые новшества: По умолчанию возвращён традиционный графический стек на основе X.Org Server, а сеанс на основе Wayland предложен в качестве опции (в Ubuntu 17.10 Wayland поставлялся по умолчанию). В выпуске Ubuntu 18.10, а также в следующем LTS релизе Ubuntu 20.04, планируется вернуться на использование Wayland по умолчанию, но в Ubuntu 18.04 он пока признан не отвечающим требованиям качества из-за недоработок в поддержке совместного доступа к экрану, удалённого доступа к рабочему столу и восстановления сеанса после краха GNOME Shell. В инсталлятор добавлен режим минимальной установки (Minimal Install), при выборе которого после инсталляции будет оставлен только минимальный набор приложений и предложено чистое графическое окружение для пользователей, которые предпочитают самостоятельно выбрать интересующий набор приложений, не полагаясь на чужой вкус. Так как инсталлятор Ubiquity выполняет установку через клонирование готового Live-окружения, вместо отдельной установки пакетов, то режим минимальной установки реализован путём удаления около 80 пакетов после завершения штатной установки. В том числе удаляются такие приложения, как Thunderbird, Transmission, Rhythmbox, LibreOffice, Cheese и Shotwell; Рабочий стол GNOME обновлён до релиза GNOME 3.28. Офисный пакет LibreOffice обновлён до выпуска 6.0; В большинстве графических приложений обеспечено отображение цветных Emoji; Заменено приложение с картой символов (вместо Character Map теперь предлагается GNOME Characters); В календаре обеспечена возможность показа прогноза погоды; В дистрибутив полностью интегрирована поддержка самодостаточных пакетов в формате snap. В менеджере установки приложений (Ubuntu Software) реализована возможность простого переключения между разными каналами Snap-приложений (бета, релиз и т.п.). Каталог snap-приложений значительно расширен и включает более 3000 пакетов, среди которых официальные сборки Spotify, Skype, Slack и Firefox; Штатные приложения Calculator, Characters, Logs и System Monitor, входящие в базовую поставку, теперь поставляются с использованием пакетов snap, что позволит переходить на новые версии в процессе сопровождения LTS-цикла; В базовую поставку добавлено приложение для ведения заметок (To Do); Добавлена по умолчанию отправка на серверы Canonical сведений о конфигурации системы пользователя и используемых приложениях. Для отключения отправки статистики в настройках приватности предусмотрена специальная опция. Возможность отключить отправку сведений также предоставляется на экране начальной настройки, выводимом при первом запуске дистрибутива. В обезличенном виде собираются такие сведения, как версия и редакция Ubuntu, наличие сетевого соединения, семейство CPU, размер ОЗУ и дисков, разрешение экрана, модель GPU, производитель оборудования, местоположение (выбранное пользователем при установке), время, затраченное на установку, выбор автоматического или парольного входа, выбранный вариант разметки диска, выбранные в процессе установки сторонние приложения, включение LivePatch, сведения о загрузке, установке, обновлении и удалении пакетов; Изменён метод симуляции клика правой кнопкой на тачпадах без кнопок - вместо касания в нижнем правом углу тачпада теперь применяется одновременное касание двумя пальцами. Поведение можно изменить в приложении GNOME Tweaks, которое входит в базовую поставку; Для мыши и тачпадов по умолчанию задействован драйвер на основе libinput (драйвер synaptics можно вернуть в настройках, но его поддержка будет прекращена в одном из будущих выпусков); По умолчанию настроен переход в спящий режим после 20 минут неактивости, в случае питания устройства от аккумулятора; В GNOME Shell добавлена поддержка взаимодействия с периферийными устройствами, подключенными через интерфейс Thunderbolt 3, комбинирующем в одном кабеле интерфейсы PCI Express и DisplayPort и обеспечивающем скорость обмена данными до 20 Гбит/с; Предложен новый диалог приветствия первого входа в систему, в котором предложен мастер быстрой настройки сервиса Livepatch, предоставляющего обновления с устранением опасных уязвимостей в ядре Linux, которые применяются к работающей системе на лету, не требуя перезагрузки; Серверные и общесистемные изменения: Для серверной редакции Ubuntu предложен новый инсталлятор Subiquity, предоставляющий текстовый режим установки. Пользователю предлагаются консольные варианты интерфейса для разбивки дисков, выбора языка и раскладки клавиатуры, создания пользователей, настройки сетевого соединения, поддерживается настройка RAID, LVM, multipath, VLAN и агрегирования сетевых интерфейсов. Возможна автоматизированная установка по профилю конфигурации, определённому в формате JSON. Вместе с инсталлятором также поставляется утилита "console-conf" для первичной настройки системы, после первой загрузки; Обновлён инсталлятор curtin, в котором появилась поддержка zpool и ZFS (включая корневой раздел на ZFS) и возможность установки содержимого внешних образов файловых систем; Ядро Linux обновлено до выпуска 4.15, в котором предложены такие улучшения, как интеграция прослойки DC (Display Core) в драйвер amdgpu, контроллер ресурсов CPU для cgroup2, поддержка технологии AMD Secure Encrypted Virtualization, оптимизация энергопотребления на системах с SATA ALPM, обновление драйвера MD для программных RAID и поддержка протокола ThunderboltIP. Из специфичных для Ubuntu изменений отмечены: Поддержка стековой организации модулей LSM (Linux Security Modules), позволяющей выстраивать цепочки обработчиков, задействуя сразу несколько модулей; Возможность использования верификации по цифровой подписи ядер для POWER и NV; Из ядра 4.16 бэкпортирован код для улучшения поддержки оборудования IBM и Intel; Для повышения безопасности все исполняемые файлы в репозитории main теперь собраны в режиме PIE ("position independent executables") и поддерживают рандомизацию адресного пространства (ASLR). В компиляторе и ядре включены дополнительные механизмы для защиты от атак Spectre и Meltdown; Обеспечена сборка пакетов со включенными флагами компилятора GCC для дополнительной защиты от эксплуатации уязвимостей - "-fstack-clash-protection", "-D_GLIBCXX_ASSERTIONS", "-fcf-protection=full -mcet" и "--enable-default-pie"; Обновлены компоненты серверной редакции: OpenJDK 10 (OpenJDK 8 остаётся доступен из репозитория universe), PHP 7.2, apache httpd 2.4.29 (с включенной поддержкой HTTP/2), nginx 1.14, QEMU 2.11.1, libvirt 4.0, LXD 3.0, DPDK 17.11.x, Open vSwitch 2.9, SSSD 1.16, cloud-init 18.2, MAAS 2.4b2, OpenStack Queens; Изменена применяемая по умолчанию версия протокола CIFS, при монтировании теперь используется версия SMB 2.1 или SMB 3. Для использования первой версии SMB при монтировании следует указать "vers=1.0"; В NetworkManager включена поддержка teaming-устройств, создаваемых для распараллеливания трафика через несколько ethernet-адаптеров; Вместо ntpd для синхронизации точного времени задействован chrony. По функциональности chrony отстаёт от ntpd и не поддерживает некоторые расширения протокола, но для большинства пользователей имеющихся возможностей будет достаточно для обычного клиента или сервера NTP; В основной состав включен пакет spice-vdagent для увеличения производительности удалённой работы при помощи протокола Spice в таких программах, как GNOME Boxes; Пакет landscape-client портирован на Python 3 и теперь входит в базовый состав серверной редакции; Обновлён пакет ubuntu-advantage-tools. Представлен новый MOTD (message of the day) с поддержкой отображения состояния применения live-патчей (сервис Canonical Livepatch). Добавлена команда enable-fips-updates для включения специализированного репозитория с несертифицированными обновлениями для систем с поддержкой требований FIPS; Задействован новый выпуск системы управления контейнерами LXD 3.0, развиваемой компанией Canonical в качестве надстройки над инструментарием LXC и позволяющей организовать централизованное управление группой серверов. В новой версии добавлена поддержка кластеризации (несколько LXD серверов могут работать как один большой сервер LXD), поддержка проброса обращения к драйверам NVIDIA, расширение API /dev/lxd, добавление утилиты lxd-p2c для переноса существующих систем в контейнеры LXD; Обновлён инструментарий CDK (Canonical Distribution of Kubernetes), предназначенный для развёртывания систем оркестровки контейнеров на базе платформы Kubernetes 1.10. В новой версии CDK обеспечена возможность задействования в контейнерах механизмов аппаратного ускорения GPU, благодаря поставке специального плагина для поддержки GPU NVIDIA в Kubernetes. Платформы для развёртывания систем машинного обучения, такие как Kubeflow, которые завязаны на вычисления с использованием GPU, теперь могут быть из коробки запущены в CDK и при необходимости перенесены в Google Cloud; Совместно с Microsoft сформирован специальный образ Ubuntu 18.04, оптимизированный для запуска в окружениях на базе гипервизора Hyper-V; Прекращена поставка пакетов со скриптами ifupdown, которые полностью заменены на систему netplan.io. Для настройки сетевой конфигурации в Ubuntu Server по умолчанию применяется systemd-networkd; Из значительных изменений относительно прошлого LTS-релиза 16.04 выделяется переход на систему настройки сети при помощи netplan и networkctl, замена DNS-резолвера на systemd-resolved, поставка по умолчанию gnupg2, задействования файла подкачки вместо раздела подкачки, прекращение поставки Python 2, прекращение поддержки в OpenSSH RSA-ключей размером меньше 1024 бит, замена Unity на GNOME Shell с панелью Ubuntu Dock, новое оформление экрана входа в систему (LightDM заменён на GDM), возвращение кнопок сворачивания и закрытия окна в правый верхний угол, новый интерфейс настройки параметров системы, поддержка принтеров, не требующих установки специфичных драйверов для вывода на печать. С полным списком изменений относительного прошлого LTS-релиза 16.04 можно познакомиться в анонсах выпусков Ubuntu 16.10, 17.04 и 17.10. Изменения в официальных редакциях Ubuntu: Kubuntu: Рабочий стол обновлён до выпуска KDE Plasma 5.12, а набор приложений до KDE Applications 17.12.3. Вместо Dragonplayer в качестве мультимедийного проигрывателя предложен VLC. Возобновлена поставка по умолчанию интерфейса управления пакетами Muon, в качестве альтернативы Plasma Discover. KTorrent обновлён до выпуска 5.1, переведённого на Qt5/KF5. Из поставки удалён музыкальный проигрыватель Amarok, вместо которого добавлено приложение Cantata (графический фронтэнд к Music Player Daemon, написанный с использованием Qt5). Из базовой поставки удалён коммуникационный клиент Telepathy, который прекратил своё развитие. Обновлены Krita, Kdevelop и другие приложения. В репозиторий добавлены панель latte-dock 0.7.4 и браузер Falkon 3.0.0 (ранее qupzilla). Представлен экспериментальный сеанс на базе Wayland, который можно выбрать на экране входа через опцию "Plasma Wayland"; Ubuntu MATE: Задействован новый выпуск MATE Desktop 1.20 с улучшенной поддержкой HiDPI и поддержкой X11-расширений DRI3 (Direct Rendering Infrastructure) и XPresent в оконном менеджере Marco, которые позволяют существенно поднять FPS в играх. Значительно улучшена интеграция с глобальным меню (при добавлении на панель апплета Global Menu, меню из окон приложений автоматически переносятся в глобальное меню без необходимости дополнительных настроек). К вызову HUD-экрана теперь приводит только короткое нажатие Alt (при удержании Alt HUD-приглашение не появляется). По умолчанию во всех режимах на панели теперь используются индикаторы (как в Unity 7) вместо апплетов области уведомления, поддержка которых сохранена в качестве запасного варианта. Для использования в некоторых режимах предложен полноэкранный вариант меню приложений Brisk, оформленный в стиле Dash. Для Caja добавлены плагины для управления ACL/xattr и для шифрования с использованием GnuPG; Xubuntu: Из поставки удалён конфигуратор тем оформления, в котором наблюдаются проблемы с переопределением цветов из-за изменений в GTK. Тема оформления Greybird GTK обновлена до версии 3.22.6 с GTK 3 стилями для Chrome/Chromium, тёмным режимом и уменьшенными переключателями. Индикатор управления звуком заменён на Xfce PulseAudio Plugin, а Application Indicator заменён на Xfce Status Notifier Plugin, которые не отстают по функциональности и предоставляют больше настроек. Для просмотра документов вместо Evince задействован Atril, для работы с архивами вместо File Roller добавлен Engrampa, калькулятор GNOME Calculator заменён на MATE Calculator. В состав включены интерфейс поиска файлов Catfish 1.4.4 и редактор меню MenuLibre 2.1.5. Добавлен PulseAudio-модуль для работы со звуковыми устройствами с интерфейсом Bluetooth. Обновлены Parole Media Player 1.0.0, Thunar 1.6.14, Xfce Panel 4.12.2 и многие другие приложения. Ubuntu Budgie: Обновлены различные компоненты рабочего стола, к экрану блокировки применена общая тема оформления Pocillo, улучшена поддержка HiDPI. В Live- и минимальной сборках добавлен запуск Budgie Welcome. Представлен Window Shuffler для быстрой навигации по открытым окнам и компоновки окон на экране с группировкой по сетке; Добавлена возможности установки соединений OpenVNC через апплет network-manager. По умолчанию добавлены новые апплеты: Quick Note для ведения заметок и DropBy для загрузки данных с USB-устройств/смартфонов. Опционально доступны новые апплеты: Hot Corners для привязки команд к углам экрана, Windowpreviews для предпросмотра открытых окон, Clockworks для работы с часовыми поясами, Autoswitch для привязки раскладки клавиатуры к приложениям, Window Mover для быстрого перемещения окон между рабочими столами. Добавлена возможность динамического создания виртуальных рабочих столов. Компоненты GNOME обновлены до версии 3.28, но оставлен файловый менеджер Nautilus 3.26. Ubuntu Studio: В конфигуратор Ubuntu Studio Controls добавлена опция для установки системы энергосбережения в режим высокой производительности. Из поставки удалён пакет zynjacku (больше не сопровождается). Обновлены версии: Blender 2.79b, KDEnlive 17.12.3, GIMP 2.8.22, qJackCtl 0.4.5, Ardour 5.12.0, Scribus 1.4.6, Darktable 2.4.2, Pitivi 0.99, Inkscape 0.92.3.