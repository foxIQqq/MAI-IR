Canonical готовит вариант Ubuntu Desktop, содержащий только пакеты Snap

Разработчики из компании Canonical намерены в следующем году начать поставку дополнительных сборок Ubuntu Desktop, основанных на платформе Ubuntu Core и включающих только приложения, оформленные с использование пакетов в формате Snap. Похожая, но основанная на пакетах Flatpak, компоновка дистрибутива для рабочих станций, уже применяется такими проектами, как Fedora Silverblue и Endless OS. Первые экспериментальные сборки нового варианта Ubuntu Desktop планируют подготовить весной следующего года, в процессе формирования Ubuntu 24.04 LTS. Поставка классических сборок Ubuntu Desktop с deb-пакетами будет продолжена без изменений. Ubuntu Core подразумевает поставку неделимого монолитного образа базовой системы, в котором не применяется разбивка на отдельные deb-пакеты и используется механизм атомарного обновления всей системы. Компоненты Ubuntu Core, включая базовую систему, ядро Linux, системные надстройки и дополнительные приложения, поставляются в формате snap и управляются инструментарием snapd. Компоненты в формате Snap изолируются при помощи AppArmor и Seccomp, что создаёт дополнительный рубеж для защиты системы в случае компрометации отдельных приложений. Базовая файловая система монтируется в режиме только для чтения. Обновления базового окружения доставляются в режиме ОТА (over-the-air), включают только изменения (delta-обновления) и синхронизированы с актуальным LTS-выпуском Ubuntu. Из недавних достижений Ubuntu, позволяющих реализовать на базе Ubuntu Core сборку с графическим окружением, отмечается реализация возможности поставки в snap-пакетах стека вывода на печать на базе CUPS и разных версий драйверов Mesa. Поставка CUPS в формате snap планируют начать в выпуске Ubuntu 23.10. Дополнение: Вариант Ubuntu Desktop на базе Ubuntu Core официально анонсирован в блоге Ubuntu. В заметке рассказано об архитектуре Ubuntu Core и рассмотрены достоинства и недостатки монолитной организации дистрибутива: Особенности: системные компоненты монтируются в режиме только для чтения и недоступны для изменения; атомарное обновление системы с возможностью отката на прошлое состояние и автоматическим применением обновлений; предсказуемость поведения и состояния системы на разных устройствах; изоляция приложений от основной системы и друг от друга. Достоинства: более высокий уровень защиты от вредоносного ПО и нецелевого поведения приложений; стабильность - системные файлы не могут быть повреждены или удалены случайным действием, а атомарные обновления гарантируют целостное состояние системы (система не может быть оставлена в частично обновлённом и потенциально нестабильном состоянии); упрощение тестирования, проверки целостности и диагностики проблем (состояние систем идентично при разных загрузках); управляемость - на разных системах окружение идентично, что позволяет администраторам не заботиться об отличиях и несоответствии разных систем. Атомарные обновления и возможность отката обновления упрощают процессы поддержания в актуальном состоянии и устранения всплывших пробоем. Недостатки: недостаточная гибкость - пользователи не могут вносить изменения в системные файлы и адаптировать систему под свои нужды на уровне традиционных систем; ограниченная совместимость - не все приложения и сервисы могут использоваться в изолированных окружениях; более высокое потребление дискового пространства - атомарные обновления требуют дополнительного хранилища для загрузки перед переключением на новую версию, а использование контейнеров для запуска приложений требует хранения лишних данных и зависимостей; более сложные процессы разработки для систем с изолированными окружениями и необходимость использования непривычного инструментария.