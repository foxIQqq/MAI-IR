Компания AMD открыла код для ускорения декодирования видео силами UVD-декодеров GPU

Компания AMD опубликовала серию патчей для DRI-модуля radeon из состава ядра Linux и gallium-драйверов r600 и radeonsi из OpenGL-стека Mesa, c реализацией средств для задействования встроенных в GPU декодеров UVD (Unified Video Decoder). Указанные патчи позволят использовать средства GPU для ускорения декодирования видео при использовании открытых драйверов. В настоящее время код выпущен только для чипов HD4xxx-HD5xxx (R700, Evergreen), поддерживающих UVD2, и HD6xxx-HD7xxx (Northern Islands, Southern Islands) с поддержкой UVD3. Тем не менее, в дальнейшем не исключена реализация поддержки и более старых серий HD2xxx-HD3xxx (R6xx, RS780, RS880). Особенностью реализации является использование для доступа к функциям ускорения декодирования видео интерфейса VDPAU (Video Decode and Presentation API), изначально предложенного и развиваемого компанией NVIDIA. Используя указанный интерфейс, многие мультимедиа-приложения и библиотеки, уже поддерживающие VDPAU, смогут задействовать UVD-декодеры AMD без переработки программ, в том числе вынести на плечи GPU функции пост-процессинга, масштабирования, слияния (compositing), отображения и декодирования потоков, сжатых с использованием кодеков H.264, VC-1, MPEG-2 и MPEG-4 (в том числе DivX, XviD, Blu-ray 3D и Stereo 3D). Напомним, что в драйвере Catalyst поддержка UVD реализована через интерфейс XvBA (X-Video Bitstream Acceleration), поддержка которого в открытом ПО распространена существенно меньше, чем VDPAU. Ранее поддержка UVD в Linux была возможна только при использовании проприетарных драйверов AMD. Скрытие от разработчиков открытых драйверов связанных с UVD спецификаций объяснялось потенциальной возможностью их использования для обхода средств DRM (Digital Rights Management), используемых для обеспечения защиты от копирования видео- и аудио-контента в Windows-версии драйвера Catalyst. В итоге, удалось урегулировать все юридические тонкости, связанные с предоставлением исходного кода для работы с UVD.