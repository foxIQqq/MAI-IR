Комментарии разработчиков udev по поводу очередного форка проекта

В конце минувшей недели группа разработчиков Gentoo создала еще один форк udev. Причиной его создания стало несогласие с методами разработки, применяемыми после перехода udev под крыло проекта systemd. Следует отметить, что несколько месяцев назад уже была предпринята попытка создания форка udev, но в первом форке разработчик Gentoo принимал участие как независимый участник, в то время как новый форк - целиком внутренняя инициатива Gentoo. Ведущий разработчик udev Кей Сайверс прокомментировал ситуацию: «Я ни в коем случае не возражаю против форков udev, если они могут принести пользу хоть кому-нибудь. Но в данном случае это выглядит как несмешная шутка». В качестве примера, Сайверс приводит коммит, который якобы должен удалить зависимость udev от kmod (механизма управления подгрузкой модулей ядра Linux, заменившего устаревший и неподдерживаемый module-init-tools). В этом коммите, прямое обращение в API libkmod было заменено вызовом исполняемого файла modprobe из состава kmod, который выполняет те же самые API-вызовы. Таким образом, в ходе каждой загрузки добавляется порядка 100-150 сравнительно медленных и ресурсоёмких вызовов fork/exec — это единственный эффект от данного изменения (для сравнения, указывает Сайверс, systemd такого количества запусков процессов достаточно для полной загрузки всей системы). При этом, зависимость от kmod никуда не делась — для работы udev все равно необходима утилита modprobe. «Эта лодка перевернется раньше, чем они научатся плавать» — констатирует Сайверс. Основатель и первый разработчик проекта udev, а также один из ведущих разработчиков ядра Linux, Грег Кроа-Хартман, в отличие от Сайверса, склонен воспринимать ситуацию более иронично: «Нам подарили отличное развлекательное шоу на выходные». «Грустно смотреть, как они удаляют код, даже не пытаясь разобраться, за что он отвечает» — добавляет Грег уже более серьезно. В комментариях Грег отмечает, что основной причиной таких форков является непризнание «форкерами» наличия проблем с загрузкой Linux без каталога /usr. «Они хотят лишь убрать предупреждение о проблеме, оставив ее, по сути, нерешенной» — говорит Грег. Подход «форкеров» он называет «разработкой, основанной на ненависти» (hate-driven development), отмечая, что ненависть ослепляет и дает ложное чувство уверенности в собственной правоте. Несколько месяцев назад, Грег уже отмечал странное поведение отдельных разработчиков Gentoo, стремящихся убедить всех, что никакой проблемы с /usr нет. Комментируя подход к изменению логики работы с /usr разработчиков Gentoo и Debian, Грег заметил «У меня сложилось впечатление, что эти люди неправильно понимают, что на самом деле происходит, и почему». При этом он настойчиво рекомендовал использовать более продуманные дистрибутивы, такие как Fedora, Ubuntu и openSUSE. И наконец Леннарт Поттеринг обращает внимание на то, что «разработчики» форка удаляют информацию об авторах исходного кода systemd/udev из заголовков файлов заменяя ее на «Copyright Gentoo Foundation» т.е. фактически приписывают себе всю работу по разработке udev. «Да это свободное ПО и вы можете делать с ним все что хотите — только не надо нарушать авторские права и приписывать себе чужой труд» — говорит Леннарт.