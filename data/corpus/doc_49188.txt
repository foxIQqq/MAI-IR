Выпуск GNU Mes 0.17, инструментария для самодостаточной сборки дистрибутивов

Представлен выпуск инструментария GNU Mes 0.17, обеспечивающего процесс бутстрэппинга (bootstrap) для GCC. Mes 0.17 является первым выпуском после перевода разработки под крыло проекта GNU. Инструментарий решает задачу верифицированной начальной сборки компилятора в дистрибутивах, разрывая цепочку цикличной пересборки. Для сборки пакетов в дистрибутиве необходим компилятор, но для сборки этого компилятора требуются исполняемые файлы уже собранного компилятора. Например, для сборки новой версии GCC используются уже готовые сборки одной из прошлых версий. Возникает порочный круг и система становится привязанной к бинарным сборкам компилятора, что мешает обеспечению замкнутого цикла пересборки из исходных текстов и полной верификации дистрибутива (бинарные сборки компилятора являются потенциальным источником скрытых закладок, что не позволяет полностью гарантировать целостность сборок из эталонных исходных текстов). Для исключения привязки к исполняемым файлам компилятора и создания цикла сборки только на основе исходных текстов в GNU Mes реализовано два связанных компонента: самодостаточный (self-hosting) интерпретатор для языка Scheme, написанный на языке Си, и простейший компилятор для языка Си (MesCC), написанный на языке Scheme и использующий наработки проекта NYACC. Оба компонента взаимособираемы, т.е. интерпретатор Scheme может быть собран Си-компилятором и Си-компилятор может быть собран интерпретатором Scheme. Интерпретатор языка Scheme достаточно компактный, занимает около 5000 строк кода на простейшем подмножестве языка Си и может быть преобразован в исполняемый файл с использованием универсального транслятора M2-Planet или простейшего Си-компилятора, собранного с использованием самособираемого ассемблера hex0, не требующего внешних зависимостей. При этом интерпретатор включает полноценный сборщик мусора и предоставляет библиотеку загружаемых модулей. Scheme-интерпретатор даёт возможность собрать Си-компилятор MesCC, который позволяет собрать урезанную версию компилятора TinyCC (tcc), возможностей которого уже достаточно для сборки GCC. На основе tcc вместе с предоставляемой Си-библиотекой формируется минимальное сборочное окружение, способное собрать glibc-2.2.5, binutils-2.20.1 и gcc-4.7.4. После готовности GCC, Glibc и binutils становится доступным штатное полноценное сборочное окружение дистрибутива. Из дальнейших планов проекта называется включение GNU Mes в базовую поставку GNU/Linux дистрибутива GuixSD (Guix System Distribution) и создание библиотеки функций Mes C Lib.