Обновления PostgreSQL: 8.3.6, 8.2.12, 8.1.16, 8.0.20 и 7.4.24

Вышли обновления для всех активных веток PostgreSQL: 8.3.6, 8.2.12, 8.1.16, 8.0.20 и 7.4.24. В данные версии вошли исправления найденных ошибок, включая две серьёзные: крах autovacuum-а в версии 8.1 и потери данных в GiST-индексах в версии 8.3. Таким образом, пользователям веток 8.1 и 8.3 рекомендуется незамедлительный переход на новые версии. В новые версии также вошли исправления нескольких малоопасных проблем безопасности, а также 17 незначительных ошибок, найденных в различных версиях PostgreSQL. В частности, речь идёт о таких незначительных ошибках, как проблемы перехода на зимнее/летнее время во временных зонах Непала, Швейцарии и Кубы. Подробности можно найти в Release Notes. Что касается двух серьёзных проблем, исправленных в данных версиях PostgreSQL, первая из них затрагивает только тех пользователей, которые используют PostgreSQL 8.1 и autovacuum в нём. Проблема заключается в неработоспособности autovacuum-а при использовании процедуры восстановления счётчика транзакций (XID). Вторая проблема заключается в возможной потере данных во время работы команды CLUSTER при использовании GiST-индексов (например, индексов полнотекстового поиска) в версии 8.3. Обе проблемы полностью устранены в новых версиях СУБД. Как и в случае других минорных обновлений, пользователи не обязаны осуществлять процедуру dump/restore для миграции на новую версию. Необходимо лишь остановить сервер PostgreSQL и обновить бинарные файлы. Пользователям, которые переходят на новые версии с пропуском нескольких минорных версий, необходимо перепроверить списки изменений всех пропущенных версий, т.к. в некоторых из них содержатся рекомендации по дополнительным действиям во время обновления (к примеру, при переходе на версию 8.3.5 была рекомендация по перестроению GiST-индексов). Как упоминалось при выпуске предыдущих версий PostgreSQL, для ОС Windows официально выпускаются и поддерживаются только обновления для веток 8.3 и 8.2: в данный момент это версии 8.3.6 и 8.2.12. Внимание! На некоторых русскоязычных сайтах сообщения о выходе 8.3.6 появились до официальных анонсов. Если вы скачали исходные коды для версии 8.3.6 или сборку для Windows 8.3.6-1 с www.postgresql.org до 4 февраля (до официального анонса о выходе новых версий), вы могли получить копию, содержащую известные ошибки. Пожалуйста, убедитесь, что вы получили свежую копию СУБД.