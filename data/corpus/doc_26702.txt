Реакция разработчиков Compiz на результаты тестирования производительности

Один из разработчиков композитного менеджера Compiz опубликовал заметку в которой рассмотрел причины падения производительности для некоторых игр, наблюдаемого при использовании Compiz в недавно проведенных тестах Phoronix. Замедление вызвано тем, что для обеспечения корректной организации отрисовки содержимого окон приложениями, вывод производится через промежуточный буфер, который затем выводится на экран в виде текстуры OpenGL, что и позволяет добиться применимости визуальных эффектов к окнам. Такой подход может привести к крохотному понижению производительности, являющемуся ценой устранения неприятных искажений на экране. В статье рассмотрено несколько факторов, которые могут привести к существенному понижению показателей тестов, среди них: привязанность к частоте синхронизации буфера приложения с обновлением экрана в Compiz; обилие 3D-преобразований, выполняемых приложением на программном уровне; медленная работа кода привязки битовых карт к текстурам в проприетарном драйвере NVIDIA (в Compiz 0.9 используется другой метод привязки текстур, при котором проблемы не выражены так явно). Для отключения композитинга для полноэкранных игр в Compiz предусмотрена опция "Unredirect Fullscreen Windows", а в будущих версиях будет предусмотрена возможность выгрузки opengl-плагина, что полностью исключит влияние Compiz на полноэкранные приложения, как это уже сделано в KWin. Тем временем экспериментаторы из Phoronix повторили тестирование, включив в число рассматриваемых оконных менеджеров KWin из состава KDE. В итоге, тесты не показали заметного расхождения в скорости работы Compiz и KWin, результаты производительности игровых приложений были на уровне прошлого тестирования.