Microsoft добавил поддержку WSL2 (Windows Subsystem for Linux) в Windows Server

Компания Microsoft реализовала поддержку подсистемы WSL2 (Windows Subsystem for Linux) в Windows Server 2022. Изначально подсистема WSL2, обеспечивающая запуск исполняемых файлов Linux в Windows, предлагалась только в вариантах Windows для рабочих станций, но теперь Microsoft перенёс данную подсистему и в серверные редакции Windows. Компоненты для поддержки WSL2 в Windows Server пока доступны для тестирования в форме экспериментального обновления KB5014021 (OS Build 20348.740). В июньском сводном обновлении поддержку Linux-окружений на базе WSL2 планируют интегрировать в основной состав Windows Server 2022 и предложить всем пользователям. Для обеспечения запуска исполняемых файлов Linux в WSL2 отказались от использования эмулятора, выполнявшего трансляцию системных вызовов Linux в системные вызовы Windows, и перешли на предоставление окружения с полноценным ядром Linux. Предлагаемое для WSL ядро основано на выпуске ядра Linux 5.10, который расширен специфичными для WSL патчами, включающими оптимизации для сокращения времени запуска ядра, уменьшения потребления памяти, возвращения Windows освобождённой Linux-процессами памяти, оставления в ядре минимально необходимого набора драйверов и подсистем. Ядро выполняется в окружении Windows при помощи виртуальной машины, уже задействованной в Azure. Окружение WSL выполняется в отдельном дисковом образе (VHD) c файловой системой ext4 и виртуальным сетевым адаптером.Компоненты пространства пользователя устанавливаются отдельно и базируются на сборках различных дистрибутивов. Например, для установки в WSL в каталоге Microsoft Store предлагаются сборки Ubuntu, Debian GNU/Linux, Kali Linux, Fedora, Alpine, SUSE и openSUSE.