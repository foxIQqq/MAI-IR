Выпуск Whonix 15, дистрибутива для обеспечения анонимных коммуникаций

После почти года разработки доступен релиз дистрибутива Whonix 15, нацеленного на предоставление гарантированной анонимности, безопасности и защиты частной информации. Загрузочные образы Whonix сформированы для VirtualBox, KVM и для использования в операционной системе Qubes. Образ гостевой системы CLI занимает 1.1 GB, а c рабочим столом Xfce - 1.3 GB. Наработки проекта распространяются под лицензией GPLv3. Дистрибутив основан на Debian GNU/Linux и использует Tor для обеспечения анонимности. Особенностью Whonix является разделение дистрибутива на два отдельно устанавливаемых компонента - Whonix-Gateway с реализацией сетевого шлюза для анонимных коммуникаций и Whonix-Workstation с рабочим столом. Выход в сеть из окружения Whonix-Workstation производится только через шлюз Whonix-Gateway, что изолирует рабочее окружение от прямого взаимодействия с внешним миром и допускает использование только фиктивных сетевых адресов. Подобный подход позволяет защитить пользователя от утечки реального IP-адреса в случае взлома web-браузера и даже при эксплуатации уязвимости, дающей атакующему root-доступ к системе. Взлом Whonix-Workstation позволят атакующему получить только фиктивные сетевые параметры, так как реальный IP и параметры DNS скрыты за границей сетевого шлюза, который направляет трафик только через Tor. При этом следует учитывать, что компоненты Whonix рассчитаны на запуск в форме гостевых систем, т.е. не исключена возможность эксплуатации критических 0-day уязвимостей в платформах виртуализации, которые могут предоставить доступ к хост-системе. В связи с этим, не рекомендуется запускать Whonix-Workstation на том же компьютере, что и Whonix-Gateway. В Whonix-Workstation по умолчанию предоставляется пользовательское окружение Xfce. В поставку включены такие программы, как VLC, Tor Browser (Firefox), Thunderbird+TorBirdy, Pidgin и т.д. В поставке Whonix-Gateway можно найти набор серверных приложений, в том числе Apache httpd, ngnix и IRC-серверы, которые могут использоваться для организации работы скрытых сервисов Tor. Возможен проброс поверх Tor туннелей для Freenet, i2p, JonDonym, SSH и VPN. Сравнение Whonix с Tails, Tor Browser, Qubes OS TorVM и corridor можно найти на данной странице. При желании, пользователь может обойтись только Whonix-Gateway и подключить через него свои обычные системы, в том числе Windows, что даёт возможность обеспечить анонимный выход для уже находящихся в обиходе рабочих станций. Основные новшества: Пакетная база дистрибутива обновлена до Debian 10 (buster); Вместо KDE по умолчанию задействован рабочий стол Xfce; Активированы настройки ядра Linux для усиления защищённости: "kernel.kptr_restrict=1" (символы ядра /proc/kallsyms отдаются только root), "kernel.dmesg_restrict=1" (ограничивает доступ к логам ядра), "kernel.unprivileged_bpf_disabled=1" (запрещает непривилегированный доступ к BPF), "net.core.bpf_jit_harden=2" (усиливает защиту JIT-компилятора), "vm.mmap_rnd_bits=32" и "vm.mmap_rnd_compat_bits=16" (улучшает рандомизацию адресов для mmap), Включен загрузочный параметр "slab_nomerge" (отключает слияние slabs одинакового размера). Раздел /proc примонтирован с опцией "hidepid=2" в /etc/fstab (скрытие информации о процессах других пользователей); В чёрный список блокировки загрузки модулей ядра добавлены обработчики редкоиспользуемых сетевых протоколов DCCP, SCTP, RDS и TIPC, в которых ранее находили опасные уязвимости; В systemd по умолчанию включены настройки sandbox-изоляции unit-ов (PrivateTmp=true и PrivateHome=true); Улучшен сбор энтропии для генератора псевдослучайных чисел (установлен пакет jitterentropy-rngd); Добавлена защита от атак Spectre, Meltdown и L1 Terminal Fault; В состав включена утилита kloak для блокирования идентификации пользователя по характеру ввода с клавиатуры; Реализована поддержка работы в Live-режиме с размещением данных в оперативной памяти, а не на диске. Доступно два режима загрузки grub-live и ro-mode-init (автоматически включает Live-режим, если накопитель доступен только для чтения); Сокращён размер образов для систем виртуализации (проведена оптимизация при помощи zerofree). Образ Whonix-Gateway уменьшен с 1.7 до 1.1 GB, а Whonix-Workstation c 2 до 1.3 GB. Для пользователей VirtualBox подготовлена CLI-сборка без графического интерфейса. Компоненты Whonix-Gateway и Whonix-Workstation унифицированы в форме единого ova-образа; Упрощена установка компонентов для ОС Qubes; В Whonix KVM добавлена поддержка консоли через последовательный порт; Добавлен порт для ARM64 и Raspberry Pi; В основной состав включены приложения zulucrypt, qtox, onionshare, keepassxc и firejail. Добавлены прослойки для scurlget, curlget, pwchange, upgrade-nonroot, apt-get-noninteractive и apt-get-update-plus. Удалены mixmaster и ricochet; Добавлена поддержка P2P-сети Bisq.