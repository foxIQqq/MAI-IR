Релиз сетевого конфигуратора NetworkManager 1.0

Представлен новый стабильный релиз интерфейса для упрощения настройки параметров сети - NetworkManager 1.0, который подвёл итог десяти лет существования проекта. Одновременно опубликованы новые выпуски плагинов для поддержки VPN, OpenConnect, PPTP, OpenVPN и OpenSWAN, а также апплет с реализацией индикатора для панели GNOME. Ключевые новшества NetworkManager 1.0: Подготовлена новая клиентская библиотека libnm, предоставляющая программный интерфейс на основе GObject. Библиотека полностью переписана и объединена с ранее обособленными libnm-util и libnm-glib. API упрощён и переведён на использование современных интерфейсов GLib, таких как GDBus (вместо dbus-glib) и асинхронный API в стиле GIO. Информация в новом API, такая как IP-адреса, маршруты и другие свойства соединения, теперь представлена в строковом представлении (ранее использовались бинарные типы данных), что значительно упростило работу с ними на большинстве языков программирования, включая C, Python и Javascript. Поставка обособленных библиотек libnm-util и libnm-glib пока сохранена для обеспечения обратной совместимости, интерфейс D-Bus также cохранил совместимость с NetworkManager 0.9.10; Новый легковесный встроенный клиент DHCP, основанный на коде из systemd-networkd, и отличающийся более высокой производительностью. Активировать встроенную реализацию DHCP можно через опцию "dhcp=internal" в NetworkManager.conf. По функциональности новый клиент пока не поддерживает DHCPv6 и многие присутствующие в dhclient опции; Режим начальной настройки сетевых интерфейсов, позволяющий настроить сетевые интерфейсы и завершить работу NetworkManager, что может быть востребовано в окружениях, не требующих динамической конфигурации сети. Режим включается через опцию 'configure-and-quit=yes' в NetworkManager.conf, что приводит к завершению выполнения NetworkManager после первичной настройки и оставления в памяти минимальных процессов "nm-iface-helper", используемых для DHCP и IPv6 (если DHCP и IPv6 не используются, данные процессы не запускаются); Улучшено взаимодействие с сетевыми конфигурациями, работающими без использования NetworkManager. NetworkManager теперь не вмешивается в работу устройств, которые настроены с использованием сторонних инструментов, в частности, для таких сетевых интерфейсов больше не устанавливается статус IFF_UP; В консольный клиент nmcli добавлена поддержка запросов пароля и авторизации через PolicyKit, что позволяет обеспечить активацию соединений, требующих ввода пароля, из командной строки (ввод пароля для VPN пока не поддерживается). Добавлена команда 'nmcli dev connect {interface}', которая автоматически создаёт соединения и может использоваться как упрощённый способ активации сетевого интерфейса по имени. Команда 'nmcli dev delete {interface}' может использоваться для удаления неиспользуемых программных устройств (bridge, bond, team); Улучшена поддержка IPv6. IPv6 отныне можно использовать для соединений WWAN, если модем и провайдер поддерживают IPv6. NetworkManager теперь воспринимает передаваемые маршрутизатором данные о MTU. На системах с ядром Linux 3.17 и более новыми выпусками, NetworkManager научился обрабатывать назначение локальных IPv6 адресов для поднятых, но не активных сетевых интерфейсов. Добавлена возможность сохранения преднастроенной статической конфигурации IPv6, если не удалось автоматически настроить соединение; Поддержка постоянных VPN-соединений, которые сохраняются при изменении линка и после выхода из спящего режима (VPN-плагины пока не поддерживают данную возможность). В момент переустановки VPN-соединения, NetworkManager теперь сигнализирует об ограниченном доступе к сети, вместо индикации полноценного соединения; Поддержка использующих прошивки конфигураций iBFT/iSCSI через новый плагин ibft', работающий во всех дистрибутивах (ранее такие конфигурации iBFT/iSCSI только для дистрибутивов со скриптами ifcfg-rh); Поддержка протокола DUN для организации доступа в сеть через Bluetooth при наличии стека Bluez 5.x (в интерфейсе GNOME использование DUN по-прежнему ограничено Bluez 4.x из-за особенностей gnome-bluetooth); Улучшена работа с маршрутами: для устройств и VPN-соединений теперь устанавливаются индивидуальные маршруты по умолчанию, вместо установки одного глобального маршрута через наиболее приоритетное устройство. Для управления приоритетом маршрута следует использовать свойства "ipv4.route-metric" и "ipv6.route-metric"; Прекращена загрузка модуля ядра nl80211, если система не содержит беспроводных адаптеров (работает только для ядер начиная с 3.17); Обеспечено прямое взаимодействие с демоном "polkit" через D-Bus без привлечения внешних библиотек polkit.