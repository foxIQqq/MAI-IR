Очередная серия тестов видеодрайверов AMD показала заметное улучшение работы RadeonSI

Ресурс Phoronix провёл очередной тест графических адаптеров AMD, сравнив в ходе тестов производительность открытых и проприетарных драйверов. В тестах приняли участие 8 графических адаптеров AMD: HD 5830, HD 6450, HD 6770, HD 6870, HD 6950, HD 7850, HD 7950, а также новый R9 270X, который ранее участия в тестах не принимал. Использовались наиболее свежие версии компонентов графической системы, в том числе проприетарный драйвер Catalyst 13.11 Beta 6 (OpenGL 4.3.12614 - fglrx 13.25.5), Mesa 10.0-devel и xf86-video-ati из текущих версий в Git. Использовалось ядро Linux 3.12 с включенным управлением частотами и питанием DPM. В процессе тестирования был задействован монитор с достаточно высоким разрешением - 2560х1600, что позволило достаточно сильно нагрузить даже наиболее мощные видеоадаптеры. Кроме этого в распоряжении ресурса имеется графический адаптер R9 290, однако в данный момент реализация поддержки 2D/3D ускорения для данных адаптеров в открытом стеке находится в процессе, поэтому тестирование данного адаптера не производилось. Автор тестов с сожалением отмечает, что, так как AMD крайне неохотно предоставляет экземпляры для тестирования, ряд видеоадаптеров, включая упомянутый R9 290, автору тестов в результате пришлось купить за свой счет. Желающие видеть подобные тесты своевременно, могут помочь автору путем пожертвований или оформив premium-аккаунт на ресурсе Phoronix. Результаты тестов: С тестом Doom 3 в разрешении 2560х1600 (quality: high) неплохо справились все адаптеры, кроме HD6450, показав вполне приемлемый для игры FPS (т.е. порядка 60 или более), даже с открытыми драйверами. Для открытого драйвера R600g FPS был, как правило, примерно на уровне 50% от проприетарного, производительность RadeonSI была несколько хуже и составляла примерно 30% от производительности Catalyst. В случае HD6450, открытый драйвер R600g показал лишь 25% производительности проприетарного, однако, даже с проприетарным драйвером данный видеоадаптер не способен продемонстрировать сколь-нибудь приемлемый для игры FPS - он слишком слаб для обсчета сцены с указанными параметрами. С OpenArena 0.8.8 в разрешении 2560х1600 открытые драйверы справились еще лучше, чем с предыдущим тестом. В большинстве случаев R600g и RadeonSI показали сравнимую с Catalyst производительность, демонстрируя лишь небольшое отставание. HD 6450 по прежнему сильно проигрывал в производительности открытого драйвера проприетарному. Однако данный видеоадаптер в принципе не может обеспечить приемлемый FPS на сцене с такими параметрами - даже с проприетарным драйвером FPS не достигает минимально приемлемой отметки в 30 FPS. В игре Prey 1.4.119 на разрешении 2560х1600 открытый драйвер R600g был близок по производительности к Catalyst, как правило, проигрывая ему лишь считанные проценты. RadeonSI показал себя несколько хуже и проигрывал проприетарному драйверу приблизительно в 2 раза. В достаточно тяжелых тестах Unigine Sanctuary и Unigine Tropics, основанных на коммерческом движке Unigine (тесты выполнялись на разрешениях 1280х1024 и 1920х1080), открытый драйвер R600g показал довольно впечатляющую производительность, крайне близкую к Catalyst во всех режимах. К сожалению, драйвер RadeonSI с данными тестами не справился, так как ему для корректной генерации шейдеров в данном тесте требуется LLVM 3.4, который еще не выпущен. Ожидается, что ситуация улучшится после выхода LLVM 3.4, в который войдут необходимые изменения. В игре Unvanquished (alpha 21) при разрешении 2560х1600 драйвер R600g в ряде случаев смог даже заметно обогнать Catalyst на большинстве GPU. К сожалению, RadeonSI показал более плохой результат, отстав в ~3 раза и вовсе не справившись с тестом на HD7850. В игре Warsow 1.0 при разрешении 2560х1600 оба открытых драйвера зарекомендовали себя очень хорошо, временами демонстрируя FPS даже выше, чем в Catalyst. С игрой Xonotic 0.7 в различных режимах открытые драйверы тоже справились неплохо. В целом, R600g и RadeonSI показали в большинстве ситуаций производительность близкую к Catalyst, позволив мощным GPU неплохо справиться даже с настройками Ultra и Ultimate на разрешении 1920х1200. Определенные проблемы появились у RadeonSI на GPU 7850 в наиболее тяжелых режимах, в этом случае могло возникать достаточно существенное отставание от Catalyst. Другие GPU на основе GCN данную особенность не проявили. В пакете GPUTest открытые драйверы также показали неплохую производительность, сравнимую с Catalyst. Тем не менее, RadeonSI в ряде ситуаций все еще может проигрывать проприетарному драйверу, тогда как R600g показывает достаточно близкую к проприетарному драйверу производительность. В целом можно отметить, что открытый графический стек для GPU Radeon начинает демонстрировать вполне приличную производительность, сравнимую с проприетарным драйвером во многих случаях, а драйвер RadeonSI был существенно улучшен за короткое время и успешно проходит гораздо больше тестов, чем раньше, иногда даже демонстрируя FPS, сравнимый с Catalyst. Тем не менее, ситуация с RadeonSI пока далека от идеала. Ожидается, что данный драйвер станет существенно лучше работать после выпуска LLVM 3.4, что должно исправить проблемы с генерацией шейдеров.