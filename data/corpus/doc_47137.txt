Новая версия strace 4.19

Доступен новый выпуск strace 4.19, утилиты для диагностики и отладки программ для ОС, использующих ядро Linux. Она позволяет отслеживать и (начиная с версии 4.15) вмешиваться в процесс взаимодействия программы и ядра, включая происходящие системные вызовы, возникающие сигналы и изменения состояния процесса. Для своей работы strace использует механизм ptrace. Начиная с версии 4.13, формирование выпусков программы синхронизировано с выходом новых версий Linux. Основные изменения: Существенно доработано декодирование netlink (осуществлено в рамках проекта Google Summer of Code 2017 по доработке декодирования netlink: Реализовано декодирование атрибутов inet_diag_req_v2, inet_diag_req_compat, packet_diag_msg, smc_diag_msg протокола NETLINK_SOCK_DIAG. Реализованы протоколы NETLINK_SELINUX, NETLINK_CRYPTO (базовая поддержка, атрибуты crypto_user_alg), NETLINK_KOBJECT_UEVENT. Реализовано декодирование сообщений addr, addrlabel, dcb, link, mdb, neigh, neightbl, netconf, nsid, route, rule, tc, tca протокола NETLINK_ROUTE. Реализовано декодирование атрибутов nlmsgerr. Реализовано декодирование ack-флагов сообщений netlink. Реализовано декодирование аргументов команды KEYCTL_RESTRICT_KEYRING и параметров KDF команды KEYCTL_DH_COMPUTE системного вызова keyctl(2). Списки констант и команд ioctl обновлены до соответствия ядру Linux 4.13. Добавлена поддержка декодирования новых системных вызовов на архитектурах alpha (seccomp, bpf, userfaultfd, membarrier, mlock2, copy_file_range, preadv2, pwritev2, statx), microblaze (statx), s390 (s390_guarded_storage) и x86 (arch_prctl). Улучшено декодирование программ BPF (системный вызов bpf(2) и команды SO_ATTACH_FILTER и SO_ATTACH_REUSEPORT_CBPF системного вызова setsockopt(2)). Улучшено декодирование команды UFFDIO_API системного вызова ioctl(2). Улучшено декодирование некоторых аспектов системных вызовов getsockopt(2)/setsockopt(2). Исправлены ошибки в применении фильтра path tracing для системных вызовов execveat, symlink, symlinkat, inotify_add_watch, inotify_init. У проекта появился логотип: