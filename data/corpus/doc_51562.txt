Выпуск Mesa 19.2.0, свободной реализации OpenGL и Vulkan

Представлен релиз свободной реализации API OpenGL и Vulkan - Mesa 19.2.0. Первый выпуск ветки Mesa 19.2.0 имеет экспериментальный статус - после проведения окончательной стабилизации кода будет выпущена стабильная версия 19.2.1. В Mesa 19.2 предоставляется полная поддержка OpenGL 4.5 для драйверов i965, radeonsi и nvc0, поддержка Vulkan 1.1 для карт Intel и AMD, а также поддержка стандарта OpenGL 4.6 для карт Intel; Среди изменений: В драйверах (i965, iris) для видеокарт Intel (gen7+) обеспечена полная поддержка OpenGL 4.6 и языка описания шейдеров GLSL 4.60. До обеспечения поддержки OpenGL 4.6 в драйверах radeonsi (AMD) и nvc0 (NVIDIA) остаётся реализовать расширения GL_ARB_gl_spirv и GL_ARB_spirv_extensions, которые были добавлены для драйвера i965 в августе; Продолжено расширение функциональности нового драйвера Iris для GPU Intel, который по своим возможностям практически достиг паритета с драйвером i965. Драйвер Iris основан на архитектуре Gallium3D, выносящей задачи управления памятью на сторону DRI-драйвера в ядре Linux и предоставляющей готовый трекер состояний с поддержкой кэша повторного использования выводимых объектов. Драйвер поддерживает только процессоры на базе микроархитектуры Gen8+ (Broadwell, Skylake) c GPU HD, UHD и Iris. В драйверы RADV и RadeonSI добавлена поддержка GPU AMD Navi 10 (Radeon RX 5700), а также начальная поддержка Navi 14. В драйвер RadeonSI также добавлена поддержка будущего APU Renoir (Zen 2 c GPU Navi) и частично Arcturus (только вычислительные возможности и движок декодирования видео VCN 2.5, без 3D); В Gallium3D драйвере R600 для некоторых старых карт AMD (HD 5800/6900) обеспечена поддержка OpenGL 4.5; Для RadeonSI представлен новый компоновщик runtime - rtld; Проведена оптимизация производительности драйверов RADV и Virgl; Расширен драйвер Panfrost для GPU на базе микроархитектур Midgard (Mali-T6xx, Mali-T7xx, Mali-T8xx) и Bifrost (Mali G3x, G5x, G7x), используемых на многих устройствах с процессорами ARM. Возможностей драйвера теперь достаточно для работы GNOME Shell; Добавлено предложенное компанией NVIDIA EGL-расширение EGL_EXT_platform_device, позволяющее инициализировать EGL без обращения к специфичным для устройства API Добавлены новые расширения OpenGL: GL_ARB_post_depth_coverage для драйвера radeonsi (Navi) GL_ARB_seamless_cubemap_per_texture для драйвера etnaviv (при поддержке SEAMLESS_CUBE_MAP в GPU) GL_EXT_shader_image_load_store для драйвера radeonsi (при LLVM 10+) GL_EXT_shader_samples_identical для драйверов iris и radeonsi (если используется NIR) GL_EXT_texture_shadow_lod для драйверов i965 и iris В Vulkan-драйвер RADV (для карт AMD) добавлены расширения: VK_AMD_buffer_marker VK_EXT_index_type_uint8 VK_EXT_post_depth_coverage VK_EXT_queue_family_foreign VK_EXT_sample_locations VK_KHR_depth_stencil_resolve VK_KHR_imageless_framebuffer VK_KHR_shader_atomic_int64 VK_KHR_uniform_buffer_standard_layout В Vulkan-драйвер ANV (для карт Intel) добавлено расширение: VK_EXT_shader_demote_to_helper_invocation.