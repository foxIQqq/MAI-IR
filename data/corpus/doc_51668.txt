Выпуск системы мониторинга Zabbix 4.4

После 6 месяцев разработки доступна новая версия системы мониторинга Zabbix 4.4, код которой распространяется под лицензией GPLv2. Zabbix состоит из трёх базовых компонентов: сервера для координации выполнения проверок, формирования проверочных запросов и накопления статистики; агентов для осуществления проверок на стороне внешних хостов; фронтэнда для организации управления системой. Для снятия нагрузки с центрального сервера и формирования распределённой сети мониторинга может быть развёрнута серия прокси-серверов, агрегирующих данные о проверке группы хостов. Данные могут храниться в СУБД MySQL, PostgreSQL, TimescaleDB, DB2 и Oracle. Без агентов Zabbix-сервер может получать данные по таким протоколам как SNMP, IPMI, JMX, SSH/Telnet, ODBC, проводить тестирование доступности Web-приложений и систем виртуализации. Основные нововведения: Представлен новый тип агента - zabbix_agent2, написанного на языке Go и предоставляющего фреймворк по разработке плагинов для проверки различных сервисов и приложений. Новый агент включает встроенный планировщик с поддержкой задания гибкого графика выполнения проверок и может отслеживать состояние между проверками (например, поддерживая открытым соединение к СУБД). Для экономии трафика поддерживается отправка полученных данных в пакетном режиме. Новый агент может быть использован для прозрачной замены старого пока только на платформе Linux; Добавлена возможность использования web-хуков и собственных обработчиков действий и уведомлений при выявлении сбоев проверяемых сервисов. Обработчики можно создавать на JavaScript и применять для обращения к внешним службам доставки уведомлений или системами отслеживания ошибок. Например, можно написать обработчик для отправки сообщений о проблемах в корпоративный чат; Реализована официальная поддержка СУБД TimescaleDB в качестве хранилища данных о проверках. В отличие от ранее поддерживаемых MySQL, PostgreSQL, Oracle и DB2, СУБД TimescaleDB специально оптимизирована для хранения и обработки данных в форме временного ряда (срезы значений параметров через заданные промежутки времени, запись образует время и набор соответствующих этому времени значений). TimescaleDB позволяет существенно повысить эффективность и производительность при работе с подобными данными, демонстрируя практически линейный уровень производительности. Кроме того, TimescaleDB поддерживает такие возможности как автоматическая чистка старых записей; Подготовлены спецификации по оформлению шаблонов для стандартизации настроек. Структура файлов XML/JSON приведена к виду, пригодному для редактирования шаблона вручную в обычном текстовом редакторе. Существующие шаблоны приведены в соответствие с предложенными спецификациями; Реализована база знаний для документирования проверяемых элементов и триггеров, которые могут быть снабжены подробным описанием, пояснением целей сбора информации и инструкциями по действию в случае возникновения проблем; Представлены расширенные возможности визуализации состояния инфраструктуры. Добавлена возможность изменения параметров виджетов одним кликом. Наборы графиков оптимизированы для отображения на широкоформатных экранах и больших настенных панелях. Все виджет адаптированы для отображения в режиме без заголовков. Добавлен новый виджет для отображения прототипов графиков. В виджет со сводной статистикой проблем добавлен новый агрегированный режим просмотра; В столбчатые диаграммы и графики добавлена поддержка отображения данных, обработанных при помощи различных агрегатных функций, что делает более удобным анализ данных за большие промежутки времени и упрощает планирование. Поддерживаются следующие функции: min, max, avg, count, sum, first и last; Добавлена возможность автоматической регистрации новых устройств при помощи PSK-ключей (Pre-shared key) с шифрованием настроек для добавляемого хоста; Добавлена поддержка расширенного синтаксиса JSONPath, позволяющего организовать сложный препроцессинг данных в формате JSON, включающий операции агрегирования и поиска; Добавлена поддержка прикрепления описаний к пользовательским макросам; Повышена эффективность сбора и определения данных, связанных с WMI, JMX и ODBC, через добавление новых проверок, возвращающих массивы объектов в формате JSON. Также добавлена поддержка хранилищ для VMWare и сервисов systemd, а также возможность преобразования данных CSV в JSON; Максимальный лимит на число зависимых элементов повышен до 10 тысяч; Добавлена поддержка новых платформ: SUSE Linux Enterprise Server 15, Debian 10, Raspbian 10, macOS и RHEL 8. Для Windows подготовлен пакет с агентом в формате MSI. Добавлена поддержка быстрого развёртывания системы мониторинга в изолированном контейнере или в облачных окружениях AWS, Azure, Google Cloud Platform, Digital Ocean и Docker.