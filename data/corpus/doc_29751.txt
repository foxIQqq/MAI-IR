Отчет о развитии проекта Nouveau, открытого драйвера для видеокарт NVIDIA

Опубликован 44 отчет о развитии открытого драйвера Nouveau, разрабатываемого энтузиастами за счет реверс-инжиниринга проприетарных драйверов NVIDIA. Прошлый отчет был представлен в марте прошлого года. В отчете отмечается: Поддержка 2D EXA-акселерации для видеокарт GeForce 400/500 "Fermi". Начальная поддержка "Fermi" добавлена в состав Linux-ядра с версии 2.6.37; Продолжение работы над реверс-инжинирингом прошивок видеокарт на базе чипов Fermi; Завершен анализ движка FuC, предоставляющего средства для упрощения и унификации выполнения типовых операций, таких как обработка FIFO, IRQ и событий, для микроконтроллеров "Fermi" за счет задействования средств скриптинга, вместо низкоуровневого ручного кодирования; Предпринята попытка создания собственного FuC-компилятора, используя llvm и cmake, который позволит разрабатывать альтернативные прошивки; Разбор движка PDAEMON, используемого в картах nva3 для управления питанием; В состав Mesa интегрирован новый gallium-драйвер nvc0, который заметно опережает по производительности ранее используемый драйвер nv50; Nouveau теперь развивается только как драйвер, поддерживающий переключение видеорежимов на уровне ядра (KMS). Поддержка переключения видеорежимов на пользовательском уровне (UMS) прекращена. Подготовлен новый менеджер управления памятью, который позволил повысить производительность работы драйвера; Реализована поддержка метода Page Flipping, при котором, вместо копирования содержимого буфера в видеопамять, применяется техника быстрого переключения между двумя буферами в видеопамяти, пока один из буферов заполняется, другой отображается на экране. Ведется работа по обеспечению поддержки Z-сжатия (Z-compression), при котором линейные уравнения сохраняются в виде Z-компонентов для каждого пикселя повторяющейся области. Код с поддержкой Z-сжатия планируется интегрировать в Linux-ядро с версии 2.6.39; Увеличение стабильности gallium-драйверов nvfx/nv50, которые стали пригодными для повседневного использования совместно с Cоmpiz/Kwin; В nv50 в ближайшее время будут добавлены наработки, ранее созданные для nvc0, которые позволят ощутимо увеличить производительность драйвера (сейчас 90 fps, nvc0: 140 fps, +zcomp: 170 fps, +pageflip: 190 fps); Обеспечена поддержка дисплейного сервера Wayland для карт nv40+; Расширены возможности по управлению питанием ("power management") и контролем температуры GPU.