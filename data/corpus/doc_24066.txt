Оценка влияния флагов оптимизации GCC на производительность Gentoo Linux

В материале представлены результаты исследования производительности Gentoo Linux, собранного из исходных текстов с различными режимами оптимизации, в сравнении с Ubuntu 9.04. В среднем различия не столько существенны и по общему зачету наиболее оптимальные показатели обеспечивает режим "-O2", при котором кроме того был получен наименьший размер исполняемых файлов после сборки. Производительность сборок, подготовленных с использованием опций "-O2" и "-O3" достаточно близка. В случае "-Os" наблюдается как отставание, так и опережение по сравнению с режимами "-O2" и "-O3", при этом провалы иногда ощутимые, но с другой стороны и затраты оперативной памяти для работы программы при режиме "-Os" - минимальны. В 21 тесте Gentoo и Ubuntu продемонстрировали примерно одинаковую производительность. В 37 тестах (mplayer, скорость сборки из исходных текстов, производительность игр, рендеринг графики, дисковый ввод/вывод) Ubuntu Linux уступил по производительности Gentoo, благодаря использованию оптимизации для конкретного CPU. В 8 случаях Ubuntu был на одном уровне с Gentoo при использовании опций "-O2" и "-O3", но уступил сборке с "-Os". В 5 тестах (sudokut, 7-Zip, некоторые режимы GtkPerf и Qgears ) Ubuntu показал более высокую производительность, по сравнению с Gentoo.