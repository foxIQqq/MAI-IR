Первый выпуск DentOS, сетевой операционной системы для коммутаторов

Организация Linux Foundation представила первый выпуск сетевой операционной системы DentOS, основанной на ядре Linux 5.6 и предназначенной для оснащения коммутаторов, маршрутизаторов и специализированного сетевого оборудования. Наработки проекта написаны на языке Си и распространяются под свободной лицензией Eclipse Public License. Разработка ведётся при участии компаний Amazon, Delta Electronics, Marvell, NVIDIA, Edgecore Networks и Wistron NeWeb (WNC). Изначальной целью проекта было создание платформы для сетевого оборудования в инфраструктуре Amazon. Для управления коммутацией пакетов в DentOS задействована подсистема ядра Linux SwitchDev, позволяющая создавать драйверы для коммутаторов Ethernet, способные делегировать операции по перенапаравлению кадров и обработке сетевых пакетов специализированным аппаратным чипам. Программная начинка базируется на штатном сетевом стеке Linux, подсистеме NetLink и таких инструментах, как IPRoute2, tc (Traffic Control), brctl (Bridge Control) и FRRouting, а также протоколах VRRP (Virtual Router Redundancy Protocol), LLDP (Link Layer Discovery Protocol) и MSTP (Multiple Spanning Tree Protocol). Системное окружение основано на дистрибутиве ONL (Open Network Linux), который, в свою очередь, использует пакетную базу Debian GNU/Linux и предоставляет инсталлятор, настройки и драйверы для запуска на коммутаторах. ONL развивается проектом Open Compute и представляет собой платформу для создания специализированных сетевых устройств, поддерживающую установку на более 100 разных моделей коммутаторов. В состав входят драйверы для взаимодействия с применяемыми в коммутаторах индикаторами, датчиками температуры, кулерами, шинами I2C, GPIO и SFP-трансиверами. Первый релиз DentOS выпущен для 8 коммутаторов на базе ASIC Mellanox и Marvell, насчитывающих до 48 10-гигабитных портов. Поддерживается работа с различными ASIC и чипами обработки сетевых данных, включая ASIC-чипы Mellanox Spectrum, Marvell Aldrin 2 и Marvell AC3X с реализацией таблиц аппаратного перенаправления пакетов. Готовые для установки образы DentOS подготовлены для архитектур ARM64 и AMD64. В первом выпуске обеспечена поддержка 802.1Q (VLAN), NAT, PoE, динамической маршрутизации с использованием протоколов OSPF и ISIS (на базе FRRouting), задания правил обработки трафика, сбора телеметрии о работе платформы и сетевой активности. Для управления можно использовать инструментарии IpRoute2 и ifupdown2, а также gNMI (gRPC Network Management Interface). Для определения конфигурации применяются модели данных YANG (Yet Another Next Generation, RFC-6020). В первом квартале 2021 года ожидается второй релиз, в котором появится поддержка VxLAN, IPv6, NetConf/OpenConfig, PPPoE, EVPN Multihoming, шлюзов Anycast и 802.1x (PNAC, Network Access Control). На вторую половину 2021 года намечен третий выпуск, в котором появится поддержка MCLag (агрегирование каналов), 802.1br (Bridge Port Extension) и средств для защиты портов.