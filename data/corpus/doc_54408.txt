Проект Elasticsearch переходит на несвободную лицензию SSPL

Компания Elasticsearch B.V. анонсировала изменение лицензии на платформу поиска, анализа и хранения данных Elasticsearch, а также на web-интерфейс Kibana. Начиная с выпуска Elasticsearch 7.11 проект будет переведён с лицензии Apache 2.0 на лицензию SSPL (Server Side Public License), в которой добавлены дополнительные требования по использованию для обеспечения работы облачных сервисов. Для тех, кого не устраивают условия лицензии SSPL, предоставлена коммерческая лицензия Elastic License. Клиентские библиотеки продолжат поставляться под лицензией Apache 2.0. Лицензия SSPL уже используется проектом MongoDB и предоставляет возможность модификации и распространения кода, но не прошла рецензирование организацией OSI (Open Source Initiative), занимающейся проверкой соответствия лицензий критериям Open Source. Юристы Red Hat отнесли лицензию SSPL к категории несвободных, после чего проект Fedora запретил включение пакетов с продуктами под данной лицензией в свои репозитории. Одобрение OSI оценивается как маловероятное, так как в лицензии имеются спорные моменты, касающиеся дискриминации отдельных категорий пользователей (провайдеров облачных сервисов). Кроме того, авторы SSPL не стали доводить проверку до конца и отозвали ранее отправленный запрос на рецензирование данной лицензии в OSI. Лицензия SSPL сформулирована так, что на практике приложения под данной лицензией невозможно использовать в облачных сервисах без покупки коммерческой лицензии, так как иначе придётся перелицензировать под SSPL код всех компонентов, вовлечённых в работу облачного сервиса, в том числе и сторонних. Напомним, что лицензия SSPL основана на тексте AGPLv3, в котором внесены изменения в раздел 13. Изменения сводятся к добавлению требования поставки под лицензией SSPL не только кода самого приложения, но и исходных текстов всех компонентов, вовлечённых в предоставление облачного сервиса. По мнению Мэтью Гаррета (Matthew Garrett), одного из директоров Фонда Свободного ПО, данное требование нарушает совместимость с GPL и другими копилефт лицензиями, которые запрещают перелицензирование чужого кода. В качестве причины изменения лицензии отмечается желание не допустить паразитирования провайдеров облачных сервисов на открытом ПО. Разработчиков не устраивает то, что облачные провайдеры занимаются перепродажей Elasticsearch в виде облачных сервисов, но не принимают участия в жизни сообщества и не помогают в разработке. Создаётся ситуация когда выгоду получают ничем не связанные с проектом облачные провайдеры, перепродающие готовые открытые решения, а непосредственно разработчики остаются ни с чем. Изменение лицензии не отразится на пользователях Elasticsearch, применяющих платформу в качестве бэкенда, но повлияет на провайдеров облачных сервисов, которые продают готовую функциональность Elasticsearch в форме облачного сервиса. Облачным сервисам придётся приобрести коммерческую лицензию, полностью открыть код своей инфраструктуры, остаться на старой версии Elasticsearch, время поддержки которой ограничено, или совместно продолжить развитие ответвления от Elasticsearch под лицензией Apache. Форк Elasticsearch может быть создан как обособленное продолжение разработки проекта Open Distro for Elasticsearch, развиваемого компанией Amazon. Продолжение использования Elasticsearch под новой лицензией на предприятиях, развивающих online-сервисы, оценивается некоторыми аналитиками как дополнительный риск для бизнеса, так как условия по открытию связанных наработок практически невыполнимы. Например, из-за размытости формулировок, перелицензирование под SSPL может потребоваться для всего программного стека, включая операционную систему. В пресс-релизе Elasticsearch упомянута необходимость открытия "service management layer", но в самой лицензии SSPL такого уточнения нет, а используется понятие "Service Source Code", охватывающее все сопутствующие компоненты, включая ПО для управления, интерфейсы пользователя, программные интерфейсы, ПО для автоматизации, системы, применяемые для мониторинга, резервного копирования и хостинга, а также любые другие программы, необходимые для запуска экземпляра сервиса.