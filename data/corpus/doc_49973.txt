В Google Play поменяются правила, касающиеся 64-разрядных сборок, а также доступа к SMS и спискам звонков

Компания Google предупредила разработчиков приложений для платформы Android о новых требованиях, связанных с формированием 64-разрядных сборок. Начиная с 1 августа 2019 года при размещении в Google Play приложений или обновлений, содержащих нативный код, станет обязательным наличие пакета для 64-разрядных CPU в дополнение к 32-разрядным сборкам (исключения сделаны только для обновлений игр на базе движка Unity 5.6). С первого августа 2021 года приложения с нативным кодом, не предоставляющие 64-разрядные сборки, не будут показываться в каталоге Google Play при обращении с устройств с 64-разрядными CPU. Новые требования не затрагивают приложения для платформ Wear OS и Android TV, а также apk-пакеты не поставляемые для устройств с Android 9+ и пакеты в которых используется только код на Java или Kotlin. Кроме того, вступают в действия новые правила доступа приложений к SMS-сообщениям и спискам звонков. Через несколько недель из каталога Play Store будут удалены приложения, которые запрашивают полномочия для доступа к SMS и спискам звонков, если разработчики данных приложений не заполнили форму "Permissions Declaration Form" с подробным обоснованием необходимости доступа к SMS и спискам вызовов. В случае отклонения заявки разработчикам даётся 90 дней на прекращение использования упомянутых API в своих приложениях. Новые правила позволят блокировать утечки конфиденциальных данных и исключить не целевое использование API (в ситуациях, когда нужно отправить SMS из приложения предлагается вызывать встроенный мессенджер, а когда нужно подтвердить подключение к учётной записи по SMS следует использовать специальный API SMS Retriever). Дополнительно также можно отметить предоставление публичного доступа к результатам автоматизированных проверок кода различных веток и подсистем Android в используемой в Google системе непрерывной интеграции, в которой выполняется более 8000 тестов. Кроме статуса прохождения тестов через новый интерфейс можно отслеживать интеграцию в дерево исходных текстов предложенных изменений и статус проверки этих изменений. Также на днях опубликован выпуск интегрированной среды разработки Android Studio 3.3, в которой реализован визуальный редактор Navigation Editor для конструирования XML-ресурсов на базе Jetpack Navigation Component и организации взаимодействия между ними. В новом выпуске также улучшены режимы инкрементальной компиляции Java-кода и интроспектирования кода на C++ (добавлена поддержка статического анализатора Clang-Tidy), обновлён мастер создания новых проектов и оптимизирован интерфейс профилирования. В эмуляторе платформы Android примерно в 8 раз ускорена операция сохранения снапшота виртуальной машины в процессе завершения работы. Кодовая база IDE обновлена до выпуска Intellij 2018.2.2.