Началось тестирование нативной поддержки файловой системы ZFS для Linux

Индийская компания KQ Infotech объявила о начале тестирования первого набора патчей с реализацией модуля Linux-ядра с реализацией файловой системы ZFS. Тестовый модуль выпущен для Fedora 12, Ubuntu 10.04 и RHEL 6-beta2, для загрузки требуется регистрация на сайте. Текущая тестовая версия основана на zpool версии 18 и коде из 121-сборки OpenSolaris, но разработчики обещают, что 15 декабря будет выпущена финальная версия модуля, который будет основан на 26 версии zpool и коде из onnv_141-сборки OpenSolaris. Разработка компании KQ Infotech основана на кодовой базе проекта Native ZFS, развиваемой Брайаном Белендорфом и сотрудниками Ливерморской национальной лаборатории по контракту с Министерством энергетики США (подробности о проекте см. в прошлом анонсе). Главным отличием от работы Белендорфа является реализация поддержки уровня ZPL (ZFS POSIX Layer), позволяющего использовать ZFS как файловую систему, а не только как менеджер томов. Также проведена работа по стабилизации кодовой базы и приведении модуля к виду, готовому к эксплуатации. В родительском проекте Native ZFS реализована только поддержка SPA (Storage Pool Allocator), DMU (Data Management Unit) и ZVOL (ZFS Emulated Volume). Как известно, интеграции кода ZFS в Linux-ядро мешает несовместимость лицензий GPLv2 и CDDL, что исключает возможность смешивания кода под данными лицензиями. Для обхода данного ограничения разработчики прибегли к простому и очевидному методу, решив распространять свой продукт целиком под лицензией CDDL в виде отдельно загружаемого модуля к Linux-ядру, который будет поставляться отдельно от ядра. Для оценки возможностей Linux-версии ZFS по сравнению с OpenSolaris подготовлена специальная сравнительная таблица. Отмечается, что пока не реализованы такие возможности, как zfs userspace, zfs groupspace, zfs share/unshare, zfs allow/unallow, linux async IO, автоматическое объединение дубликатов, нормализация имен, квоты, ACL, работа в роли корневой ФС. Наблюдаются нерешенные проблемы в реализации команд: zfs rollback, zfs promote, zfs send/recieve, zfs hold и zfs release.