Инициатива по развитию средств управления цветом и HDR для Wayland

Пекка Пааланен (Pekka Paalanen), активный разработчик GNOME и Wayland, работающий в компании Collabora, представил проект по реализации полноценной поддержки управления цветом и HDR (High Dynamic Range) в протоколе Wayland. В настоящее время инструменты управления цветом в Linux ограничены поддержкой X11, а средства для работы с HDR отсутствуют как в X11, так и в Wayland. Для просмотра HDR-контента на поддерживающем HDR мониторе в Linux приходится напрямую использовать API DRM/KMS в обход оконных систем, что ограничивает возможность работы с HDR единичными приложениями, такими как Kodi. Так как HDR имеет прямое отношение к цветовым пространствам и палитрам, решено убить сразу двух зайцев и реализовать для Wayland универсальное расширение протокола, комбинирующее управление цветом и расширенным динамическим диапазоном яркости. Протокол будет использовать профили ICC для описания цветовых пространств для содержимого и вывода. Мониторы с поддержкой HDR планируется по умолчанию постоянно использовать в HDR-режиме, преобразовывая обычный вывод в HDR-представление на уровне композитного менеджера. В протоколе также планируют манипулировать относительной яркостью, что позволит адаптировать вывод к уровню освещённости в помещении и настраивать яркость в зависимости от личных предпочтений.