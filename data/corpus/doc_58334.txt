Выпуск дистрибутива TrueNAS SCALE 22.12, использующего Linux вместо FreeBSD

Компания iXsystems опубликовала дистрибутив TrueNAS SCALE 22.12, в котором используется ядро Linux и пакетная база Debian (ранее выпускаемые продукты данной компании, в том числе TrueOS, PC-BSD, TrueNAS и FreeNAS, основывались на FreeBSD). Как и TrueNAS CORE (FreeNAS), TrueNAS SCALE может быть загружен и использован бесплатно. Размер iso-образа 1.6 ГБ. Исходные тексты специфичных для TrueNAS SCALE сборочных сценариев, web-интерфейса и прослоек опубликованы на GitHub. Продукты TrueNAS CORE на базе FreeBSD и TrueNAS SCALE на базе Linux развиваются параллельно и дополняют друг друга, используя общую кодовую базу инструментария и типовой web-интерфейс. Предоставление дополнительной редакции на базе ядра Linux объясняется желанием реализовать некоторые идеи, недостижимые при использовании FreeBSD. Примечательно, что это не первая подобная инициатива - в 2009 году от FreeNAS уже отделился дистрибутив OpenMediaVault, который был переведён на ядро Linux и пакетную базу Debian. Одним из ключевых улучшений в TrueNAS SCALE стала возможность создавать хранилища, размещаемые на нескольких узлах, в то время как TrueNAS CORE (FreeNAS) позиционируется как решение на базе одного сервера. Кроме увеличения масшатабируемости, TrueNAS SCALE также отличается использованием изолированных контейнеров, упрощением управления инфраструктурой и пригодностью для создания программно-определяемых инфраструктур. В качестве файловой системы в TrueNAS SCALE применяется ZFS (OpenZFS). В TrueNAS SCALE предоставляется поддержка контейнеров Docker, виртуализации на базе KVM и масштабирования ZFS на несколько узлов при помощи распределённой файловой системы Gluster. Для организации доступа к хранилищу поддерживается SMB, NFS, iSCSI Block Storage, S3 Object API и Cloud Sync. Для обеспечения защищённого доступа подключение может осуществляться через VPN (OpenVPN). Хранилище может быть развёрнуто на одном узле и в дальнейшем при увеличении потребностей постепенно горизонтально расширяться через добавление дополнительных узлов. Кроме выполнения задач, связанных с организацией работы хранилища, узлы также могут использоваться для предоставления сервисов и запуска приложений в контейнерах, оркестируемых при помощи платформы Kubernetes, или в виртуальных машинах на базе KVM. В новой версии: Улучшена реализация режима root-less, при котором для управления системой вместо root используются менее привилегированные пользователи, которым выборочно делегированы расширенные права и которые не имеют доступа ко всем виртуальным машинам и изолированным приложениям. Добавлен механизм SMB Share Proxy для перенаправления доступа к SMB-разделам. Внесены улучшения в web-интерфейс. Значительно улучшено управления пулами хранения, устройствами и наборами данных. Реализована сводная страница со всей статистикой. Добавлены изолированные приложения для запуска пакетов Home Assistant, Qbittorrent, Pi Hole, Syncthing, Photo Prism и diskover-community. Добавлена возможность обновления разом всех приложений, установленных в форме контейнеров. Добавлена поддержка платформы All-NVME, обеспечивающей пропускную способность до 30GB/s и возможность создания пула NVMe-накопителей, размером до 240 ТБ. Предоставлена возможность замены узлов Gluster через API без остановки работы хранилища. Добавлен драйвер для Kubernetes CSI, позволяющий использовать TrueNAS SCALE в кластерах Kubernetes в качестве хранилища данных кластера. Аналогичная возможность также доступна для VMware ESXi и OpenStack Cinder. Добавлена поддержка использования OverlayFS с ZFS для экономии дискового пространства при запуске контейнеров Docker. Улучшена поддержка виртуализации, обеспечена возможность проброса USB-устройств в виртуальные машины и привязки отдельных ядер CPU. Обеспечена организация совместного доступа изолированных приложений к GPU. Добавлена поддержка удалённого доступа к системе и приложениям при помощи VPN Wireguard. Проведена работа по увеличению производительности, среди прочего повышена производительность шифрования, NFS и iSCSI. Предоставлена возможность выборочного предоставления доступа к API и применения системы доступа на основе ролей (RBAC).