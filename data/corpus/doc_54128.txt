Выпуск Coreboot 4.13

Представлен релиз проекта CoreBoot 4.13, в рамках которого разрабатывается свободная альтернатива проприетарным прошивкам и BIOS. В создании новой версии приняло участие 234 разработчика, которые подготовили более 4200 изменений. Основные новшества: Добавлена поддержка 63 материнских плат, 42 из которых используется на устройствах с Chrome OS или на серверах Google. Среди не связанных с Googlе плат: Acer G43T-AM3 Asus A88XM-E FM2+ Supermicro X11SSH-F Dell OptiPlex 9010 HP EliteBook 2560p, HP EliteBook Folio 9480m, HP ProBook 6360b Lenovo ThinkPad X230s System76 lemp9 AMD Cereme Biostar TH61-ITX BostenTech GBYT4 Clevo L140CU/L141CU Intel Alderlake-P RVP Kontron COMe-bSL6 Open Compute Project DeltaLake Prodrive Hermes Purism Librem Mini, Purism Librem Mini v2 Siemens Chili Прекращена поддержка материнской платы Open Compute Project SonoraPass и 4 плат Google. Подготовлена собственная реализация базового кода (refcode) для систем на кристалле Bay Trail, эквивалентная базовому коду, предоставляемому компанией Intel. Собственный refcode позволяет сократить необходимые для корректной работы внешние компоненты до одного файла MRC.bin (memory reference code), необходимого для загрузки. Добавлена начальная поддержка технологии Intel TXT (Trusted eXecution Technology), достаточная для запуска модуля tboot (Trusted Boot). Реализация протестирована на материнской плате Asrock B85M Pro4 (Haswell) с TPM 2.0. Добавлена обработка признака "hidded" для PCI-устройств в devicetree, позволяющая обрабатывать скрытые устройства, параметры которых выглядят так, будто устройство отсутствует (Vendor ID 0xFFFF_FFFF). Подобные устройства используются в Intel PMC (Power Management Controller). Добавлены инструменты gen_spd.go и gen_part_id.go для генерации информации SPD (Serial Presence Detect) для памяти LP4x и назначения идентификаторов для модулей памяти, используемых в платах на основе TGL и JSL. Предложена новая версия загрузчика SMM, которая может работать на платформах, в которых имеется более 32 потоков CPU. Реализован встроенный отладочный механизм Address Sanitizer для проверки корректности работы с памятью, позволяющий выявлять такие проблемы, как выход за границы буфера. Механизм может использоваться в ramstage и в romstage для QEMU i440fx, Intel Apollo Lake и Haswell. Добавлена начальная поддержка x86_64, которая позволяет работать с более чем 4 ГБ памяти и включает более оптимизированный код. Реализация пока ограничена использованием в эмуляторе. Проведена подготовка для выборочного включения PCI bus mastering, для чего в Kconfig добавлены настройки, дающие возможность активации bus mastering на уровне отдельных групп устройств. Предоставлена возможность изменения из romstage уровня логов, выводимых на консоль, активированную в bootblock. Предложена четвёртая редакция механизма распределения ресурсов (resource allocator), в которой добавлена поддержка манипуляции несколькими диапазонами ресурсов, использования всего адресного пространства и выделения памяти в области выше 4 ГБ. Дополнительно можно отметить работу по обеспечению поддержки в CoreBoot чипсетов на базе микроархитектуры AMD Zen.