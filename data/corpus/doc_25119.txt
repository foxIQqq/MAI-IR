Вышел qemu-kvm 0.12 с поддержкой миграции дисков. Улучшения виртуализации в Fedora 13

Вышел пакет qemu-kvm 0.12.2 (первый публичный релиз ветки 0.12), представляющий собой набор компонентов из состава эмулятора qemu, расширенный для работы с технологиями, связанными с системой виртуализации KVM. Иными словами, пакет позволяет использовать улучшенные утилиты qemu вместе с модулем ядра kvm-kmod. На релиз стоит обратить внимание в основном благодаря реализации функции миграции блоков данных, созданной в недрах компании IBM и позволяющей в процессе live-миграции виртуального окружения одновременно перенести на другую машину и данные с блочного устройства, используемого в текущем окружении. Т.е. не только скопировать состояние памяти, но и перенести данные с диска в асинхронном режиме, без использования DRBD и других технологий зеркалирования дисков по сети. Поддерживается два метода проведения миграции: полное копирование хранилища и инкрементальный режим. Если в первом случае на другую машину полностью копируется образ виртуальной машины, то второй метод подразумевает предварительное копирование на удаленную систему копии данные, а в момент миграции - переноса только накопившихся изменений. Метод также полезен при временном переносе окружений, например, для проведения технического обслуживания, после которого нет необходимости обратно полностью копировать все содержимое виртуальных дисков - все изменившиеся данные автоматически вернутся на "родной" диск. Для операции полного копирования при миграции управляющая команда будет выглядеть следующим образом - "(qemu) migrate -d -b tcp:1.2.3.4:4444", после чего можно повторно выполнить миграцию уже с использованием инкрементального метода - "(qemu) migrate -d -i tcp:1.2.3.4:4444". Одновременно, представлен список из 10 связанных с виртуализацией новшеств, запланированных для реализации в Linux дистрибутиве Fedora 13, релиз которого выйдет в мае: Hostinfo - возможность получения информации о состоянии хост-системы из гостевого окружения Возможность назначения неизменных адресов для PCI устройств в гостевых KVM окружениях Поддержка совместного использования виртуальными окружениями одного физического сетевого интерфейса VhostNet - акселерация сетевых функций KVM на уровне ядра VirtAppliances - улучшение средств управления образами для развертывания в виртуальных окружениях VirtAuthorization - возможность настройки надежной авторизации для управления удаленными виртуальными сервисами VirtVNCResourceTunnel - позволяет получить доступ к ресурсам гостевой системы, таким как последовательный порт или вывод звука, через проброс в VNC клиента VirtioSerial - возможность создания одновременно нескольких virtio-консолей Средства для автоматического преобразования виртуальной машины Xen в KVM представление Включение в поставку Xen dom0 (host) ядра, которое отсутствует со времен Fedora 8