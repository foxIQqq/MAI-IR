Кандидат в релизы Wine 6.0 и выпуск DXVK 1.7.3

Началось тестирование первого кандидата в релизы Wine 6.0, открытой реализации WinAPI. Кодовая база переведена на стадию заморозки перед релизом, который ожидается в середине января. По сравнению с выпуском Wine 5.22 закрыто 53 отчёта об ошибках и внесено 457 изменений. Наиболее важные изменения: Браузерный движок Gecko обновлён до версии 2.47.2. Библиотеки WindowsCodecs и QCap преобразованы в формат PE. Ускорена инициализация шрифтов при запуске процесса. Добавлена поддержка именованных каналов с пустым именем. Закрыты отчёты об ошибках, связанные с работой игр и приложений: Biliardo 2, iScreensaver Designer 3.5, Wazzal 1.2, Shredder Classic 4, IncrediMail, LabChart Reader 8, Toad for MySQL Freeware 7.x, Mortal Kombat Komplete Edition, Mein Verein 2016, StarCraft I & II, Diablo III, Heroes of the Storm, Vietcong, Destiny 2, Call of Duty WWII, Fortnight 7.x, Call of Duty Infinite Warfare, Xanadu Next, Sentinel HASP Runtime, Lords of the Fallen, Batman: Arkham Knight, Mirror's Edge: Catalyst, SQL Server Management Studio, Raid Shadow Legends, X3 Reunion, Battlefield 1/4/V, The Foundation Game, Burnout Paradise: The Ultimate Box, Secondhand Lands, Mod Organizer 2, World of Tanks, SWTOR, Audacity, Microsoft Flight Simulator X, Cinebench R23, Одновременно сформирован выпуск проекта Wine Staging 6.0-rc1, в рамках которого формируются расширенные сборки Wine, включающие не полностью готовые или рискованные патчи, пока непригодные для принятия в основную ветку Wine. По сравнению с Wine в Wine Staging предоставляется 740 дополнительных патчей. В новом выпуске осуществлена синхронизация с кодовой базой Wine 6.0-rc1. В основной состав Wine переведено 10 патчей, в том числе в ITfSource добавлена поддержка ITfActiveLanguageProfileNotifySink, в winegstreamer добавлены вызовы SetInputType, SetOutputType, GetInputCurrentType и GetOutputCurrentType, расширены возможности topoloader. Добавлены новые патчи для обеспечения корректной сортировки сообщений и устранения краха Basemark Web 3.0 Desktop Launcher. Обновлены патчи msvcrt-Math_Precision, mfplat-streaming-support, ntdll-Junction_Points и widl-winrt-support. Дополнительно можно отметить выпуск прослойки DXVK 1.7.3, предоставляющей реализацию DXGI (DirectX Graphics Infrastructure), Direct3D 9, 10 и 11, работающую через трансляцию вызовов в API Vulkan. Для использования DXVK требуется наличие драйверов с поддержкой API Vulkan 1.1, таких как Mesa RADV 19.2, NVIDIA 415.22, Intel ANV 19.0 и AMDVLK. DXVK может применяться для запуска 3D-приложений и игр в Linux при помощи Wine, выступая в качестве более высокопроизводительной альтернативы встроенных в Wine реализаций Direct3D 9/10/11, работающих поверх OpenGL. Основные изменения в DXVK 1.7.3: Добавлена поддержка новых интерфейсов DXGI, представленных в 1809 обновлении Windows 10. Добавлена настройка для масштабирования HUD-индикатора на экранах с высокой плотностью пикселей. Cгенерированный код шейдера D3D11 изменён для того, чтобы драйверы могли оптимизировать операции с текстурами, в ситуации когда отсутствует привязка текстуры. На системах с драйвером RADV устранены крахи старых игр, использующих D3D9. Устранены ошибки проверки API Vulkan, возникавшие при включении HUD. Проведена оптимизация для исключения лишних операций отрисовки, позволившая повысить производительность некоторых игр. Доработан код пакетных операций отрисовки, что позволило снизить число вызовов отрисовки при игре в Trine 4. Устранены проблемы с отрисовкой ткани в игре EverQuest 2, проявляющиеся на системах с видеокартами NVIDIA. Решены проблемы с отрисовкой в игре Trine 4, проявляющиеся на некоторых GPU NVIDIA и системах с драйвером RADV. Повышены требования к сборочному окружению, для сборки теперь необходим MinGW 8.0.