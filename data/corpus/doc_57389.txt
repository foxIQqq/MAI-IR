В июньском обновлении Windows Server 2022 появилась поддержка WSL2 (Windows Subsystem for Linux)

Компания Microsoft объявила об интеграции поддержки Linux-окружений на базе подсистемы WSL2 (Windows Subsystem for Linux) в состав на днях выпущенного июньского сводного обновления Windows Server 2022. Изначально подсистема WSL2, обеспечивающая запуск исполняемых файлов Linux в Windows, предлагалась только в вариантах Windows для рабочих станций. Для обеспечения запуска исполняемых файлов Linux в WSL2 вместо эмулятора, выполнявшего трансляцию системных вызовов Linux в системные вызовы Windows, предоставляется окружение с полноценным ядром Linux. Предлагаемое для WSL ядро основано на выпуске ядра Linux 5.10, который расширен специфичными для WSL патчами, включающими оптимизации для сокращения времени запуска ядра, уменьшения потребления памяти, возвращения Windows освобождённой Linux-процессами памяти, оставления в ядре минимально необходимого набора драйверов и подсистем. Ядро выполняется в окружении Windows при помощи виртуальной машины, уже задействованной в Azure. Окружение WSL выполняется в отдельном дисковом образе (VHD) c файловой системой ext4 и виртуальным сетевым адаптером. Компоненты пространства пользователя устанавливаются отдельно и базируются на сборках различных дистрибутивов. Например, для установки в WSL в каталоге Microsoft Store предлагаются сборки Ubuntu, Debian GNU/Linux, Kali Linux, Fedora, Alpine, SUSE и openSUSE. Дополнительно можно отметить корректирующий выпуск Linux-дистрибутива CBL-Mariner 2.0.20220617 (Common Base Linux Mariner), который развивается в качестве универсальной базовой платформы для Linux-окружений, используемых в облачной инфраструктуре, edge-системах и различных сервисах Microsoft. Проект нацелен на унификацию применяемых в Microsoft Linux-решений и упрощение поддержания Linux-систем различного назначения в актуальном состоянии. Наработки проекта распространяются под лицензией MIT.