Результаты тестирования AV1 в Facebook. Новый формат JPEG XS

Инженеры из компании Facebook провели тестирование кодека для открытого формата кодирования видео AV1, в сравнении с открытыми кодеками x264 и libvpx-vp9. Тестирование проведено в условиях, приближенных к наиболее распространенным ситуациям применения видео в Facebook и охватывает 400 наиболее популярных в социальной сети видеороликов, находящихся в разрешении 360p, 480p, 720p и 1080p (AV1 наиболее эффективен в UHD/4K и 8K, но данные разрешения принципиально не рассматривались). По уровню сжатия AV1 опередил x264 (main profile) на 50.3%, x264 (high profile) на 46.2% и libvpx-vp9 на 34.0%, но ценой такого превосходства стало более длительное время кодирования из-за усложнения алгоритмов. Эффективность сжатия измерялась при помощи метода BD-rate (Bjontegaard-Delta), позволяющего оценить какая нижняя планка битрейта достижима при неизменном пиковом отношении сигнала к шуму (PSNR) или индексе структурного сходства (SSIM). Каждое из 400 видео вначале было закодировано используя режимы CRF (Constant Rate Factor) или QP (Quantization Parameter), а затем полученный результат дополнительно был прогнан через двухпроходный режим ABR (Adaptive Bit Rate). Оценка PSNR (диаграмма показывает экономию битрейта при использовании AV1 по сравнению с x264 и libvpx-vp9): Оценка SSIM: Скорость кодирования (показано на сколько AV1 медленнее x264 и libvpx-vp9): Результаты кодирования в режиме ABR (по сравнению с вышеотмеченными результатами разница по битрейту на уровне нескольких процентов, но время кодирования для AV1 и x264 возросло существенно): Оценка PSNR: Оценка SSIM: Скорость кодирования: Дополнительно можно отметить ещё три события, связанных с AV1 или кодированием видео: Объединённая группа экспертов по фотографии (JPEG) представила будущий новый стандарт сжатия изображений JPEG XS, который позиционируется как легковесная система кодирования изображений, обеспечивающая минимальные задержки при кодировании и декодировании, и ориентированная на оптимизацию передачи последовательностей изображений очень высокого качества (до 8K). JPEG XS может оказаться полезным в системах виртуальной реальности и дронах, которые ранее вынуждены были использовать передачу изображений в несжатом виде из-за ограничений ресурсов и требований к оперативности доставки сигнала. JPEG XS позволяет существенно снизить необходимую пропускную способность канала связи без заметных для человеческого глаза потерь качества. Финальный вариант спецификаций планируют опубликовать в июле этого года, но процесс стандартизации и создания эталонных реализаций будет завершен только к апрелю следующего года. Альянс Open Media развивает формат AVIF, позволяющий распространять отдельные изображения, сжатые при помощи технологий внутрикадрового сжатия из AV1. AVIF поддерживает как изображения в HDR (High Dynamic Range) и цветовом пространстве Wide-gamut, так и в стандартном динамическом диапазоне (SDR). AVIF развивается по аналогии с форматами WebP и HEIF/HEIC, которые используют методы внутрикадрового кодирования из VP8 и HEVC. Контейнер для распространения сжатых данных в AVIF полностью аналогичен HEIF. Сообщество Xiph.Org подготовило обзор технических решений, использованных в формате кодирования видео AV1.