Релиз сетевого конфигуратора NetworkManager 1.32.0

Доступен стабильный релиз интерфейса для упрощения настройки параметров сети - NetworkManager 1.32.0. Плагины для поддержки VPN, OpenConnect, PPTP, OpenVPN и OpenSWAN развиваются в рамках собственных циклов разработки. Основные новшества NetworkManager 1.32: Предоставлена возможность выбора бэкенда управления межсетевым экраном, для чего в NetworkManager.conf добавлена новая опция "[main].firewall-backend". По умолчанию выставляется бэкенд "nftables", а когда в системе отсутствует файл /usr/sbin/nft и присутствует /usr/sbin/iptables - бэкенд "iptables". В будущем планируется добавить ещё один бэкенд на базе Firewalld. Указанная возможность может применяться для настройки транслятора адресов при помощи nftables (ранее использовался только iptables) при включении профиля совместного доступа (shared). Добавлены новые опции "ethtool.pause-autoneg", "ethtool.pause-rx" и "ethtool.pause-tx" для внесения задержек при приёме или отправке Ethernet-кадров. Добавлены опции соответствуют аналогичным режимам в утилите ethtool - "--pause devname [autoneg on|off] [rx on|off] [tx on|off]". Добавлен параметр "ethernet.accept-all-mac-addresses", позволяющий перевести сетевой адаптер в режим "promiscuous" для анализа транзитных сетевых кадров, не адресованных текущей системе. Предоставлена возможность выполнения обратных DNS-запросов для настройки имени хоста на основе имени из DNS, определённого для выданного системе IP-адреса. Режим включается при помощи опции hostname в профиле. Ранее для определения имени хоста вызывалась функция getnameinfo(), которая учитывала конфигурацию NSS и имя, заданное в файле /etc/hostname (новая возможность позволяет задавать имя только на основе резолвинга обратной зоны в DNS). Для запроса имени хоста через DNS теперь используется API systemd-resolved, а если systemd не применяется запускается обработчик 'nm-daemon-helper' на базе NSS-модуля 'dns'. Добавлена поддержка типов правил маршрутизации "prohibit", "blackhole" и "unreachable". Изменено поведение, касающееся правил управления трафиком - по умолчанию NetworkManager теперь сохраняет уже выставленные в системе правила qdiscs и фильтры трафика. Обеспечено зеркалирование профилей беспроводных соединений NetworkManager в файлы конфигурации iwd. Добавлена поддержка DHCP-опции 249 (Microsoft Classless Static Route). Добавлена поддержка параметра ядра "rd.net.dhcp.retry", управляющего запросом обновлений привязки к IP-адресу. Проведена значительная реструктуризации исходных текстов. Внесены изменения в API, которые не должны отразиться на совместимости с существующими надстройками. Например, прекращена обработка сигнала PropertiesChanged и D-Bus свойства org.freedesktop.DBus.Properties.PropertiesChanged, которые давно объявлены устаревшими. В библиотеке libnm скрыты определения структур в классах NMSimpleConnection, NMSetting и NMSetting. В качестве основного ключа для идентификации профиля соединения задействован формат "connection.uuid". Дополнительно можно отметить выпуск сетевого конфигуратора ConnMan 1.40, который развивается компанией Intel и отличается низким потреблением системных ресурсов и наличием гибких средств для расширения функциональности через плагины. ConnMan используется в таких платформах и дистрибутивах, как Tizen, Yocto, Sailfish, Aldebaran Robotics и Nest, а также в различных потребительских устройствах с прошивками на базе Linux. Компания Intel также опубликовала выпуск Wi-Fi демона IWD 1.15 (iNet Wireless Daemon), развиваемого в качестве альтернативы wpa_supplicant для организации подключения Linux-систем к беспроводной сети. IWD может использоваться как самодостаточно, так и выступать в качестве бэкенда для сетевых конфигураторов Network Manager и ConnMan. Проект подходит для применения на встраиваемых устройствах и оптимизирован для минимального потребления памяти и дискового пространства. IWD не использует внешних библиотек и обращается только к возможностям, предоставляемым штатным ядром Linux (для работы достаточно ядра Linux и Glibc). В новой версии ConnMan отмечены только исправления ошибок, связанные с обработкой состояния автосоединения и отключения в WiFi. Также устранена уязвимость, вызванная переполнением буфера в коде DNS Proxy. В новой версии IWD реализована поддержка экспортирования информации о работе фонового процесса, добавлена возможность прогнозирования интенсивности поступления пакетов в режиме VHT RX (Very High Throughput) и обеспечена поддержка процедуры FT-over-DS с несколькими базовыми наборами служб (BSS).