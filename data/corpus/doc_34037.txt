Релиз X.Org 7.7

После полутора лет разработки представлен релиз X.Org 7.7 (X11R7.7), выпущенный в канун празднования двадцатипятилетия X11R1 (X Window System Version 11, Release 1), выпущенного 15 сентября 1987 года. X.Org 7.7 официально поддерживает платформы Linux, BSD, Solaris, MacOS X, Windows и GNU Hurd. В новую версию вошли наработки, ранее представленные в релизах X Server 1.10, 1.11 и 1.12. В состав также включены свежие версии развиваемых смежно драйверов и библиотек. Среди добавленных улучшений отмечается поддержка обработки мультитач событий, переработка документации, поддержка плавной прокрутки, включение подсистемы синхронизации X Synchronization Fences, дополнительные средства управления перемещением курсора. Наиболее интересные новшества X.Org 7.7: Реализация протокола Multitouch, описывающего методы взаимодействия между X Window System, мультитач-устройствами и пользовательскими приложениями. Протокол позволяет организовать передачу и раздельную обработку событий, связанных с одновременными касаниями к тачпадам или сенсорным экранам. Поддерживается два класса мультитач-устройств: устройства с прямым мультитач-режимом, такие как сенсорные экраны, которые отличаются поддержкой нескольких независимых точек касания, каждая из которых может возникнуть в любом месте экрана и чаще всего является прямым касанием, и устройства с косвенным мультитач-режимом, такие как тачпады, которые отличаются тем, что независимые точки касания могут интерпретироваться относительно текущей позиции указателя и чаще всего связаны с вводом управляющего жеста. Кроме того, реализована эмуляция нескольких указателей для избранных событий, а также механизмы для перехвата и переотправки управляющих последовательностей, связанных с касаниями к экрану. Изменения с поддержкой мультитач добавлены в X-сервер, расширение X Input 2.2, драйвер xf86-input-evdev, библиотеку libXi и другие сопутствующие компоненты; Дополнительные улучшения, представленные в расширении Xinput, позволили реализовать для тачпадов режим плавной прокрутки и улучшенные методы прогнозирования движения, позволяющие игнорировать случайные перемещения и более точно отслеживать управляющие прикосновения. Также добавлена возможность отслеживания клиентом raw-событий, генерируемых устройствами ввода; Интеграция кода новой улучшенной подсистемы синхронизации X Synchronization Fences, разработанной компанией NVIDIA и позволяющей организовать синхронизацию формирования вывода на базе протокола X11 с клиентами, поддерживающими прямой рендеринг (DRI), такими как OpenGL. В частности, X Synchronization Fences можно использовать для синхронизации обновлений экрана в базирующихся на OpenGL композитных менеджерах со стандартным рендерингом X-сервера (сейчас в композитных менеджерах для совмещения X11-вывода с итоговым изображением приходится использовать двойную буферизацию). Поддержка X Synchronization Fences добавлена в API libxcb-sync и libXext; В расширение X Fixes 5.0 добавлена поддержка границ указателя (Pointer barriers), позволяющих приложению определять дополнительные ограничения на перемещения курсора в определённой области. Подобное может быть использовано композитными менеджерами и десктоп-окружениями при выводе фиксированных элементов интерфейса в определённой области экрана, например, в левом верхнем углу, при этом данная область должна быть непроницаема и в многомониторных конфигурациях; В библиотеки XCB (X protocol C-language Binding) началось добавление поддержки расширений GLX и XKB. В настоящее время работа ещё полностью не завершена и через XCB API доступна лишь часть возможностей GLX и XKB. Библиотеки XCB, идущие на смену Xlib, отличаются небольшим размером, пониженным потреблением памяти, минимизацией задержек, поддержкой асинхронных запросов, предоставлением прямого доступа к протоколу X11, изначальной поддержкой многопоточных программ и высокой расширяемостью (для описаний расширений X-протокола вместо M4 используется XML); Проведена реструктуризации документации. Спецификации на библиотечные вызовы и протокол теперь представлены в едином формате DocBook XML с определением ссылок между документами, вместо набора хаотичного набора файлов в разных форматах; Обновлены входящие в комплект видеодрайверы и драйверы устройств ввода: xf86-video-intel 2.19, xf86-video-ati 6.14.4, xf86-video-openchrome 0.2.906, xf86-video-sis 0.10.4, xf86-video-cirrus 1.4.0, xf86-input-vmmouse 12.8.0, xf86-input-synaptics 1.6.1, xf86-input-mouse1.7.2, xf86-input-keyboard 1.6.1, xf86-input-evdev 2.7.0. Добавлен новый драйвер xf86-video-vmware 12.0.2 с поддержкой архитектуры акселерации vmwgfx, позволяющей использовать 2D-акселерацию в гостевых Linux-системах, работающих под управлением продуктов виртуализации VMware.