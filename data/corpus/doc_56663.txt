Релиз Firefox 97

Состоялся релиз web-браузера Firefox 97. Кроме того, сформировано обновление ветки с длительным сроком поддержки - 91.6.0. На стадию бета-тестирования переведена ветка Firefox 98, релиз которой намечен на 8 марта. Основные новшества: Истёк срок действия 18 сезонных цветовых тем Colorway, предложенных в Firefox 94 и реализованных в форме встроенного дополнения, действующего ограниченное время. Пользователи, которые намерены продолжить использование тем Colorway, могут включить их в менеджере дополнений (about:addons). В сборках для платформы Linux удалена возможность генерации PostScript-документа для вывода на печать (возможность печати на PostScript-принтерах и сохранения в PDF оставлена). Решены проблемы со сборкой с библиотеками Wayland 1.20. Решена проблема с прекращением работы масштабирования щипком на сенсорных экранах после перемещения вкладки в другое окно. На странице about:processes в Linux повышена точность определения нагрузки на CPU. Решена проблема с отображением острых углов для окон в некоторых пользовательских окружениях, таких как elementary OS 6. На платформе Windows 11 добавлена поддержка нового стиля полос прокрутки. На платформе macOS улучшена загрузка системных шрифтов, что в некоторых ситуациях позволило ускорить открытие и переключение на новую вкладку. В версии для платформы Android реализовано выделение в истории посещений недавно открытых сайтов. На домашней странице улучшено отображение картинок для недавно добавленных закладок. На платформе Android 12 решена проблема со вставкой ссылок из буфера обмена. В CSS-конструкциях с типами length и length-percentage разрешено использование единиц измерения "cap" и "ic". Добавлена поддержка CSS-правила @scroll-timeline и CSS-свойства animation-timeline, позволяющих привязать хронологию анимации в API AnimationTimeline к ходу прокрутки содержимого, а не времени в минутах или секундах. CSS-свойство color-adjust переименовано в print-color-adjust, как того требует спецификация. В CSS включена по умолчанию поддержка каскадных слоёв, задаваемых при помощи правила @layer и импортируемых через CSS-правило @import, используя функцию layer(). Добавлено CSS-свойство scrollbar-gutter для управления резервированием пространства экрана под полосу прокрутки. Например, когда не требуется прокрутка содержимого, можно расширить вывод и занять область полосы прокрутки. Улучшена совместимость с web-фреймворком Marionette (WebDriver). В набор DedicatedWorkerGlobalScope добавлен API AnimationFrameProvider, что позволяет использовать методы requestAnimationFrame и cancelAnimationFrame в отдельных web worker-ах. В методы AbortSignal.abort() и AbortController.abort() добавлена возможность установки причины сброса сигнала, а также чтения причины через свойство AbortSignal.reason. По умолчанию в качестве причины указывается AbortError. Кроме новшеств и исправления ошибок в Firefox 97 устранено 42 уязвимости, из которых 34 помечены как опасные. 33 уязвимостей (5 под CVE-2022-22764 и 29 под CVE-2022-0511) вызваны проблемами работы с памятью, такими как переполнения буферов и обращение к уже освобождённым областям памяти. Потенциально данные проблемы способны привести к выполнению кода злоумышленника при открытии специально оформленных страниц. В новой версии также устранена опасная проблема (CVE-2022-22753), проявляющаяся только на платформе Windows и позволяющая выполнить код с привилегиями SYSTEM и получить возможность записи в любой системный каталог через манипуляции с сервисом установки обновлений. Дополнительно можно отметить уязвимость CVE-2022-22754, позволяющую дополнениям обойти подтверждение полномочий. Изменения в бета-версии Firefox 98: Изменено поведение при загрузке файлов - вместо вывода запроса перед началом загрузки, файлы теперь начинают загружаться автоматически и могут в любой момент быть открыты через панель с информацией о ходе загрузки или удалены непосредственно из панели с загрузками. Добавлены новые действия в контекстное меню, показываемое при клике правой кнопкой мыши на файлах в списке загрузки. Например, при помощи опции "Always Open Similar Files" можно разрешить Firefox автоматически открывать файл после завершения загрузки в приложении, связанном в системе с тем же типом файлов. Также можно открыть каталог с загруженными файлами, перейти на страницу с которой была инициирована загрузка (не сама загрузка, а ссылка на загрузку), скопировать ссылку, удалить упоминание о загрузке из истории посещений и очистить список в панели загрузок. С целью оптимизации процесса запуска браузера, изменена логика запуска дополнений, в которых используется API webRequest. К запуску дополнений во время запуска Firefox теперь будут приводить только блокирующие вызовы webRequest. Обращение к webRequest в неблокирующем режиме будут откладываться до завершения запуска Firefox. Включена поддержка HTML-тега "<dialog>", позволяющего формировать диалоговые окна и компоненты для интерактивного взаимодействия с пользователем, такие как закрываемые предупреждения и вложенные окна. Созданными окнами можно управлять из кода на JavaScript. В инструменты для web-разработчиков добавлена панель для оценки совместимости. В панели выводятся индикаторы с предупреждением о возможных проблемах с CSS-свойствами выбранного HTML-элемента или всей страницы, позволяющие определить несовместимости с разными браузерами без отдельного тестирования страницы в каждом браузере.