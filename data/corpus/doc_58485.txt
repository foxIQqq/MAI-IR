Проект ZSWatch развивает открытые умные часы на базе ОС Zephyr

Проектом ZSWatch ведётся разработка открытых умных часов на базе чипа Nordic Semiconductor nRF52833, оснащённого микропроцессором ARM Cortex-M4 и поддерживающего Bluetooth 5.1. Для загрузки доступны схема и макет печатной платы (в формате kicad), а также модель для печати корпуса и dock-станции на 3D-принтере. Программное обеспечение основывается на открытой RTOS Zephyr. Поддерживается сопряжение умных часов со смартфонами на базе платформы Android. Наработки проекта распространяются под лицензией MIT. Специфичное для умных часов программное обеспечение и аппаратная начинка разрабатываются специально для проекта. Кроме BLE-чипа nRF52833 в устройстве задействованы 1.28-дюймовый экран (IPS TFT 240x240), акселерометр с функциональностью шагомера, датчик пульса, вибромотор, 8 MB Flash, аккумулятор 220 mAh Li-Po. Для управления предусмотрено наличие трёх кнопок, а для защиты экрана применяется сапфировое стекло. В разработке также находится вторая улучшенная модель, которая отличается применением более функционального чипа nRF5340 на базе процессора ARM Cortex-M33 и наличием сенсорного экрана. Программное обеспечение написано на языке Си и выполняется под управлением операционной системы реального времени (RTOS) Zephyr, развиваемой для устройств "интернета вещей" под эгидой организации Linux Foundation при участии Intel, Linaro, NXP Semiconductors/Freescale, Synopsys и Nordic Semiconductor. Ядро Zephyr рассчитано на потребление минимальных ресурсов (от 8 до 512 Кб ОЗУ). Для всех процессов предоставляется только одно глобальное совместно используемое виртуальное адресное пространство (SASOS, Single Address Space Operating System). Специфичный для приложений код комбинируется с адаптированным под конкретное применение ядром и образует монолитный исполняемый файл для загрузки и запуска на определённом оборудовании. Все системные ресурсы определяются на этапе компиляции и в системный образ включаются только те возможности ядра, которые требуются для выполнения приложения. Основные возможности программной начинки: Взаимодействие со смартфоном и управление при помощи Android-приложения GadgetBridge. Графический интерфейс, на котором могут отображаться часы, дата, заряд аккумулятора, прогноз погоды, число пройденных шагов, число непрочитанных уведомлений и частота пульса. Поддержка всплывающих уведомлений. Расширяемое меню с настройками. Интерфейс выбора приложений. Из программ предложены конфигуратор и виджет управления воспроизведением музыки. Интегрированная функциональность шагомера и пульсометра. Поддержка технологии Bluetooth Direction Finding для определения направления сигнала Bluetooth, что позволяет использовать часы в роли метки, отслеживаемой любой платой u-blox AoA. В планах на будущее отмечается добавление приложения для отслеживания пульса, модернизация системы сопряжения по Bluetooth, переделка графической оболочки в форму заменяемого приложения. Дополнительно можно отметить проект Sensor Watch, развивающего плату для замены начинки классических электронных часов Casio F-91W, выпускаемых с 1989 года. Предлагаемая для замены плата поставляется с микроконтроллером Microchip SAM L22 (ARM Cortex M0+) и может использоваться для запуска на часах собственных программ. Для вывода информации применяется штатный LCD от часов Casio с 10 сегментами для цифр и 5 сегментами для индикаторов. Подключение к внешним устройствам и загрузка программ на часы осуществляется через порт USB Micro B. Для расширения также имеется 9-пиновый PCB-коннектор (шина I²C и 5 пинов GPIO для SPI, UART, аналогового ввода и различных датчиков). Схема и макет платы распространяются под лицензией Creative Commons Attribution-ShareAlike 4.0, а предлагаемые для использования программные библиотеки под лицензией MIT.