Google считает незначительным влияние на производительность патчей для блокирования атак Meltdown и Spectre

Компания Google сообщила о внедрении патчей KPTI и retpoline для блокирования атак Meltdown и Spectre на своих Linux-серверах, в том числе обслуживающих поисковую систему, Gmail, YouTube и Google Cloud Platform. Несмотря на то, что теоретически данные патчи приводят к возникновению дополнительных накладных расходов при выполнении системных вызовов, влияние на производительность обоих патчей при реальной нагрузке Google при выполнении большинства задач оценивается как незначительное. Напомним, что в синтетических тестах наблюдалось проседание производительности до 30% и даже до 60%. Патч KPTI (Kernel Page Table Isolation) нацелен на блокирование уязвимости Meltdown на уровне ядра Linux и основан на идее разделения памяти ядра и пространства пользователя. Патч Retpoline предложен Google для блокирования атаки Spectre и основан на применении специальной последовательности инструкций, исключающей вовлечение механизма спекулятивного выполнения. Кроме модификации ядра, реализация Retpoline также подразумевает применение для сборки специально модифицированного компилятора (GCC, Clang). Кроме Retpoline атака Spectre также может быть блокирована на уровне обновления микрокода CPU.