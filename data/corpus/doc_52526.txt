Mozilla поможет в актуализации платформы KaiOS (форк Firefox OS)

Mozilla и KaiOS Technologies объявили о сотрудничестве, нацеленном на обновление применяемого в мобильной платформе KaiOS браузерного движка. KaiOS продолжает разработку мобильной платформы Firefox OS и в настоящее время используется примерно на 120 млн устройствах, продаваемых более чем в 100 странах. Проблема в том, что в KaiOS продолжает применяться устаревший браузерный движок, соответствующий Firefox 48, на котором остановилось развитие B2G/Firefox OS в 2016 году. Данный движок устарел, не поддерживает многие актуальные web-технологии и не обеспечивает должной безопасности. Целью сотрудничества с Mozilla является перевод KaiOS на новый движок Gecko и поддержание его в актуальном виде, в том числе обеспечив регулярную публикацию исправлений с устранением уязвимостей. Работа также подразумевает проведение оптимизации производительности платформы и связанных с ней сервисов и приложений. Все изменения и улучшения будут публиковаться под свободной лицензий MPL (Mozilla Public License). Обновление браузерного движка позволит повысить безопасность мобильной платформы KaiOS и реализовать такие возможности, как поддержка WebAssembly, TLS 1.3, PWA (Progressive Web App), WebGL 2.0, средства для асинхронного выполнения JavaScript, новые свойства CSS, расширенный API для взаимодействия с оборудованием, поддержка изображений WebP и видео AV1. В качестве основы KaiOS использованы наработки проекта B2G (Boot to Gecko), в рамках которого энтузиасты безуспешно попытались продолжить разработку Firefox OS, создав форк движка Gecko, после того как в 2016 году из основного репозитория Mozilla и движка Gecko были удалены компоненты B2G. В KaiOS применяется системное окружение Gonk, включающее ядро Linux из AOSP (Android Open Source Project), HAL-прослойку для использования драйверов от платформы Android и минимальный набор штатных утилит и библиотек Linux, необходимых для работы браузерного движка Gecko. Пользовательский интерфейс платформы сформирован из набора web-приложений Gaia. В состав включены такие программы, как web-браузер, калькулятор, календарь-планировщик, приложение для работы с web-камерой, адресная книга, интерфейс для осуществления телефонных звонков, клиент электронной почты, система поиска, музыкальный плеер, программа для просмотра видео, интерфейс для SMS/MMS, конфигуратор, менеджер фотографий, рабочий стол и менеджер приложений с поддержкой нескольких режимов отображения элементов (cards и grid). Приложения для KaiOS формируются с использованием стека HTML5 и расширенного программного интерфейса Web API, который позволяет организовать доступ приложений к аппаратному обеспечению, телефонии, адресной книге и другим системным функциям. Вместо предоставления доступа к реальной файловой системе, программы ограничены внутри виртуальной ФС, построенной с использованием IndexedDB API и изолированной от основной системы. По сравнению с оригинальным Firefox OS в KaiOS проведена дополнительная оптимизация платформы, переработан интерфейс для использования на устройствах без сенсорного экрана, снижено потребление памяти (для работы платформы достаточно 256 Мб ОЗУ), обеспечено более длительное время автономной работы, добавлена поддержка 4G LTE, GPS, Wi-Fi, запущен собственный сервис доставки OTA-обновлений (over-the-air). Проектом поддерживается каталог приложений KaiStore, в котором размещено более 400 приложений, включая Google Assistant, WhatsApp, YouTube, Facebook и Google Maps. В 2018 году компания Google инвестировала в KaiOS Technologies 22 млн долларов и обеспечила интеграцию платформы KaiOS с сервисами Google Assistant, Google Maps, YouTube и Google Search. Энтузиастами развивается модификация GerdaOS, предлагающая альтернативную прошивку для поставляемых с KaiOS телефонов Nokia 8110 4G. GerdaOS не включает предустановленных программ, отслеживающих действия пользователя (программы Google, KaiStore, FOTA updater, игры Gameloft), добавляет список блокирования рекламы на основе блокировки хостов через /etc/hosts и устанавливает в качестве поисковой системы по умолчанию DuckDuckGo. Для установки программ вместо KaiStore в GerdaOS предлагается использовать включённые в поставку файловый менеджер и установщик пакетов GerdaPkg, позволяющий установить программу из локального ZIP-архива. Из функциональных изменений выделяется менеджер задач для одновременной работы с несколькими приложениями, поддержка создания скриншотов, возможность root-доступа через утилиту adb, интерфейс для манипуляций с IMEI и обход вводимой сотовыми операторами блокировки работы в режиме точки доступа (через TTL).