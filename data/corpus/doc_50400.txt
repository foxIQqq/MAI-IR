Разработчики SUSE представили DRM-драйвер, работающий поверх FrameBuffer-драйверов

Разработчики из компании SUSE представили новый видеодрайвер fbdevdrm, предоставляющий поддержку API DRM (Direct Rendering Manager) поверх драйверов на базе Framebuffer (fbdev). Предложенный набор патчей протестирован для запуска композитного сервера Weston и X-сервера с fbdev-драйверами для видеокарт atyfb (ATI Mach64, RageII, RageII+, RageIIc), aty128fb (ATI Rage128), s3fb (S3), savagefb (Savage), sisfb (SiS), tdfxfb (3Dfx) и tridentfb (Trident). Подсистема fbdev считается устаревшей и когда-нибудь будет удалена из ядра, что приведёт к потере большого числа драйверов, работающих через фреймбуфер. Некоторые из этих драйверов затрагивают оборудование, которое всё ещё используется и предоставляет достаточно хорошую поддержку фреймбуфера. Проект fbdevdrm окажется полезным для перевода на современный API DRM драйверов, завязанных на фреймбуфер и выносящих логику взаимодействия с графическим адаптером в пространство пользователя. Fbdevdrm не нацелен на расширение функциональности fbdev и на продолжение развития данной технологии, но он может использоваться как шаблон и пошаговая инструкция для перевода драйверов с fbdev на DRM, или как прослойка для предоставления API DRM поверх немодифицированных fbdev-драйверов. Код fbdevdrm распространяется под лицензией GPLv2+ с исключением, позволяющим при желании перелицензировать код под любой другой лицензией, что даёт возможность использования проекта для портирования на DRM любых fbdevd-драйверов, независимо от применяемой в них лицензии. Разработчикам приложений проект позволит не тратить усилия на поддержку двух API для взаимодействия с графическим оборудованием (DRM и fbdev), так как они смогут ограничиться только одним интерфейсом DRM без потери совместимости с драйверами на базе fbdev.