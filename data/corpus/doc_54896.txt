Компания Oracle выпустила ядро Unbreakable Enterprise Kernel R6U2

Компания Oracle выпустила второе функциональное обновление для ядра Unbreakable Enterprise Kernel R6, позиционируемого для использования в дистрибутиве Oracle Linux в качестве альтернативы штатному пакету с ядром из Red Hat Enterprise Linux. Ядро доступно для архитектур x86_64 и ARM64 (aarch64). Исходные тексты ядра, включая разбивку на отдельные патчи, опубликованы в публичном Git-репозитории Oracle. Пакет Unbreakable Enterprise Kernel 6 основан на ядре Linux 5.4 (UEK R5 базировался на ядре 4.14), которое дополнено новыми возможностями, оптимизациями и исправлениями, а также проверено на совместимость с большинством приложений, работающих в RHEL, и специально оптимизировано для работы с промышленным программным обеспечением и оборудованием Oracle. Установочные и src-пакеты с ядром UEK R6 подготовлены для Oracle Linux 7.x и 8.x. Основные изменения: Для cgroups добавлен новый контроллер распределения памяти slab (slab memory controller), который примечателен переносом учёта slab с уровня страниц памяти на уровень объектов ядра, что даёт возможность совместно использовать slab-страницы в разных cgroup, вместо выделения отдельных кэшей slab для каждой cgroup. Предложенный подход позволяет повысить эффективность использования slab, до 50% сократить размер используемой для slab памяти, значительно уменьшить общее потребление памяти ядром и снизить фрагментацию памяти. Для устройств Mellanox ConnectX-6 Dx добавлен новый драйвер vpda с поддержкой фреймворка vDPA (vHost Data Path Acceleration), позволяющего задействовать в виртуальных машинах аппаратное ускорения для ввода/вывода на базе VirtIO. Из ядра Linux 5.9 перенесены улучшения, связанные с поддержкой устройств NVMe. Перенесены исправления и улучшения для файловых систем Btrfs, CIFS, ext4, NFS, OCFS2 и XFS. Обновлены драйверы, включая lpfc 12.8.0.5 (Broadcom Emulex LightPulse Fibre Channel SCSI) с поддержкой 256-гигабитного режима для SCSI Fibre Channel, mpt3sas 36.100.00.00 (LSI MPT Fusion SAS 3.0), qla2xxx 0.02.00.103-k (QLogic Fibre Channel HBA). Добавлена экспериментальная поддержка VPN Wireguard, реализованная на уровне ядра. В NFS добавлена экспериментальная поддержка возможности прямого копирования файлов между серверами, определённой в спецификации NFS 4.2 В планировщике задач реализована экспериментальная возможность ограничения параллельного выполнения важных задач на разных ядрах CPU, для блокирования каналов утечек, связанных с использованием общего кэша в CPU.