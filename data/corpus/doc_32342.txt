В новой версии WebP появилась поддержка прозрачности и кодирования без потерь

Компания Google представила обновлённый вариант формата для распространения изображений WebP. Используемые в WebP технологии сжатия с потерями позволяют добиться сокращения размера файла на 25%-34%, по сравнению с файлами JPEG аналогичного качества (по индексу SSIM). За год существования формата WebP разработчикам удалось устранить множество высказанных в процессе обсуждений замечаний. Например, в прошлом месяце была добавлена поддержка анимации, цветовых профилей ICC, тайлинга и метаданных XMP. Сегодня отмечено преодоление ещё двух важных рубежей: в WebP добавлена поддержка прозрачности (альфа-канал) и режима сжатия без потерь. Отныне WebP может выступать полноценным аналогом не только формата JPEG, но и форматов PNG и GIF. Когда необходимо распространение фотографий WebP позволяет обеспечить максмальное сжатие с незаметной для глаза потерей качества. При необходимости сохранения изображений в неизменном виде, например, при распространении пиктограмм или скриншотов, теперь поддерживается режим с полным попиксельным сохранением целостности изображения. В обоих режимах возможно определение прозрачных областей и создание анимации. По сравнению с максиамальным режимом сжатия формата PNG, WebP при сжатии без потери качества позволяет добиться сокращения размера на 28%. Средняя степень сжатия составляет 45%. Измерение проведено на основе перекодирования 1000 случайных PNG-файлов, найденных на просторах сети. Кроме высокой степени сжатия WebP в режиме без потери качества также обеспечивает более высокую скорость декодирования. Что касается поддержки прозрачности, то в WebP удалось добиться минимизации добавления определяющей параметры альфа-канала дополнительной информации, что позволило существенно снизить размер итоговых изображений. При кодировании без потери качества, использование альфа-канала добавляет всего на 22% больше данных по сравнению с кодированием с потерей качества (уровень качества 90). В настоящий момент поддержка WebP уже включена в состав браузеров Chrome и Opera. Представители Google работают над согласованием процесса интеграции поддержки WebP и в другие web-браузеры. Тем не менее, отмечается, что работа над спецификацией битового потока WebP ещё не завершена. С одной стороны, это позволяет продолжить работу по оптимизации и внесению улучшений, но с другой стороны сдерживает широкое распространение формата. Кроме того, реализация кодировщика и декодировщика ещё недостаточна оптимизирована с точки зрения производительности. При создании формата WebP использованы технологии, задействованные в видеокодеке VP8 для сжатия ключевых кадров. Высокая плотность упаковки достигается благодаря использованию предсказательной техники кодирования, учитывающей содержимое соседних пиксельных блоков для предсказания содержимого текущего блока, что позволяет ограничиться хранением только различий между фактическими и предсказанными данными. В качестве контейнера для хранения изображений, сжатых методом WebP, используется стандартный RIFF. Код открыт под лицензией Apache 2.0, которая дополнена пунктом о безвозмездной передаче прав на использование связанных с WebP патентов Google.