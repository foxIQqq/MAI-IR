Линус Торвальдс о борьбе с оптимизатором GCC

Линус Торвальдс опубликовал заметку о все большем усложнении работы, когда требуется получить предсказуемый результат от GCC, без вмешательства оптимизатора. Отмечается, что компилятор становится слишком умным, что мешает использованию Си в роли высокоуровневого ассемблера, так как все труднее и труднее предсказать какой результирующий код будет сгенерирован. При тестировании на машине с многоядерным CPU архитектуры Nehalem, написанная для уменьшения числа зависимостей кода GIT реализация алгоритма хэширования SHA1 на языке Си с использованием ассемблерных вставок, оказалась быстрее оптимизированного вручную варианта на языке ассемблер, поставляемого в составе пакета OpenSSL.