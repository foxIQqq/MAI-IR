KMS-модуль для видеокарт AMD интегрирован в состав FreeBSD-HEAD

После более чем полугода разработки Jean-Sébastien Pédron сообщил, что патчи с реализацией KMS-модуля для видеокарт AMD включены в дерево FreeBSD-HEAD, на базе которого формируется выпуск FreeBSD 10, и готовы к тестированию. Поддержка KMS-модуля необходима для обеспечения работы во FreeBSD свежих версий драйвера xf86-video-radeon, в котором прекращена поддержка переключения видеорежимов на пользовательском уровне (UMS) и оставлена только возможность использования KMS (Kernel Mode Setting). Для тестирования необходимо выполнить следующие шаги: Установить или обновить существующую систему до последней ревизии FreeBSD-CURRENT Указать устройство для сброса дампов в /boot/loader.conf dumpdev="/dev/$swap_device" # где swap_device - ваш раздел подкачки Включить создание дампов в /etc/rc.conf ddb_enable="YES" dumpdev="AUTO" Установить переменные в /etc/sysctl.conf debug.debugger_on_panic=0 Установить флаги сборки в /etc/make.conf WITH_NEW_XORG="YES" WITH_GALLIUM="YES" (Если до этого момента переменная WITH_NEW_XORG="yes" не была установлена, то обновите после этого порты) Установка нового Xorg. Если у вас установлен x11-drivers/xf86-video-ati то сперва удалите его. В произвольной директории получите обновлённый порт драйвера и установите его svn co https://trillian.chruetertee.ch/svn/ports/trunk/x11-drivers/xf86-video-ati cd xf86-video-ati sudo make install clean Обновление Mesa. Если у вас уже установлены graphics/libGL и graphics/dri, то сперва удалите их. Скачайте последние версии данных портов и установите их svn co https://trillian.chruetertee.ch/svn/ports/trunk/graphics cd graphics/libGL sudo make install clean cd ../dri sudo make install clean После этих действий можете запускать Xorg Отправка отчётов. Для отправки отчётов о крахах, и других проблемах пишите письмо в список рассылки freebsd-x11@FreeBSD.org (предварительно на него надо подписаться) и прикрепите следующую информацию: Вывод dmesg Вывод pciconf -lvbce Вывод devinfo -vr Вывод pkg info Ваш Xorg.log если проблема при запуске X.Org или во время сессии X Любые ошибки сборки или установки портов, которые относятся к проблеме. core.$n.txt (в /var/crash) в случае паники ядра Любые детали которые вы считаете нужным сообщить В случае успешной работы просьба отправлять следующий отчёт для получения данных о корректно работающем оборудовании: Вывод dmesg Вывод pciconf -lvbce Вывод pkg info Ваш Xorg.log Любые детали которые вы сочтёте нужным сообщить