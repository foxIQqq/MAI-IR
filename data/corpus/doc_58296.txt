Кандидат в релизы Wine 8.0 и релиз vkd3d 1.6

Началось тестирование первого кандидата в релизы Wine 8.0, открытой реализации WinAPI. Кодовая база переведена на стадию заморозки перед релизом, который ожидается в середине января. По сравнению с выпуском Wine 7.22 закрыто 52 отчёта об ошибках и внесено 538 изменений. Наиболее важные изменения: Пакет vkd3d с реализацией Direct3D 12, работающей через трансляцию вызовов в графический API Vulkan, обновлён до версии 1.6. Проведена оптимизация преобразователей системных вызовов (thunk) для Vulkan и OpenGL. В WinPrint расширена поддержка обработчиков вывода на печать (Print processor). Улучшена панель управления джойстиком. Завершена работа по обеспечению поддержки типа 'long' в коде функции printf. Закрыты отчёты об ошибках, связанные с работой игр: Tom Clancy's Rainbow Six: Vegas 2, The Void, Ragnarok Online, Drakan, Star Wars, Colin McRae, X-COM. Закрыты отчёты об ошибках, связанные с работой приложений: TMUnlimiter 1.2.0.0, MDB Viewer Plus, Framemaker 8, Studio One Professional 5. Дополнительно можно отметить публикацию проектом Wine пакета vkd3d 1.6 с реализацией Direct3D 12, работающей через трансляцию вызовов в графический API Vulkan. В состав пакета входят библиотеки libvkd3d с реализаций Direct3D 12, libvkd3d-shader c транслятором 4 и 5 модели шейдеров и libvkd3d-utils с функциями для упрощения портирования приложений Direct3D 12, а также набор демонстрационных примеров, включая порт glxgears на Direct3D 12. Код проекта распространяется под лицензией LGPLv2.1. Библиотека libvkd3d поддерживает большую часть возможностей Direct3D 12, включая средства для графики и вычислений, очереди и списки команд, дескрипторы и дескрипторы кучи, корневые сигнатуры, неупорядоченный доступ, Sampler-ы, сигнатуры команд, корневые константы, непрямую (indirect) отрисовку, методы Clear*() и Copy*(). В libvkd3d-shader реализована трансляция байткода 4 и 5 моделей шейдеров в промежуточное представление SPIR-V. Поддерживаются вершинные, пиксельные, тесселяционные, вычислительные и простые геометрические шейдеры, сериализация и десериализация корневой сигнатуры. Из шейдерных инструкций реализованы арифметические, атомарные и битовые операции, операторы сравнения и управления потоком передачи данных, инструкции sample, gather и load, операции неупорядоченного доступа (UAV, Unordered Access View). В новой версии продолжена работа по улучшению компилятора шейдеров на языке HLSL (High-Level Shader Language), предоставляемом начиная с DirectX 9.0. Среди улучшений, связанных с HLSL: Реализована начальная поддержка вычислительных шейдеров. Улучшена поддержка инициализации и назначения составных объектов, таких как структуры и массивы. Добавлена возможность загрузки и сохранения ресурсов текстур, используя неупорядоченный доступ (UAV). Добавлена поддержка атрибутов функций и реализованы встроенные функции asuint(), length(), normalize(). Добавлена поддержка модулей для вычислений с плавающей запятой. Реализован флаг VKD3D_SHADER_DESCRIPTOR_INFO_FLAG_UAV_ATOMICS для индикации атомарных операций над дескрипторами неупорядоченного представления доступа (UAV).