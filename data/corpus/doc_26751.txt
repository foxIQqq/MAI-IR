Для Linux доступна нативная поддержка файловой системы ZFS

Брайан Белендорф (Brian Behlendorf), создатель http-сервера Apache, представил новую версию проекта, в рамках которого ведется работа по реализации родной поддержки файловой системы ZFS для Linux. В отличие от системы ZFS-FUSE, работающей на пользовательском уровне через подсистему FUSE, новый проект реализован в виде модуля Linux-ядра. Как известно интеграции кода ZFS в Linux-ядро мешает несовместимость лицензий GPLv2 и CDDL, что исключает возможность смешивания кода под данными лицензиями. Для обхода данного ограничения, Белендорф воспользовался простым и очевидным методом - он решил распространять свой продукт целиком под лицензией CDDL в виде отдельно загружаемого модуля к Linux-ядру, который поставляется отдельно от ядра. В силу специфики работы с памятью в оригинальном коде ZFS из состава Solaris, ZFS-модуль для Linux пока работает только в 64-разрядной сборке. При этом для тестирования используются такие дистрибутивы, как RHEL, CentOS, Fedora и Ubuntu. В проекте используется код 18 версии ZFS, импортированый из 121 сборки OpenSolaris. Кроме непосредственно реализации ZFS в модуле использованы такие сопуствующие библиотеки Solaris, как libavl, libnvpair, libefi, libunicode и libutil. Разработка ведется в Ливерморской национальной лаборатории Калифорнийского университета по контракту с Министерством энергетики США. С инструкциями по сборке и установке можно познакомиться на данной странице. Сообщается, что в данный момент в модуле реализована полнофункциональная и стабильная поддержка таких возможностей, как SPA (Storage Pool Allocator), DMU (Data Management Unit) и ZVOL (ZFS Emulated Volume).