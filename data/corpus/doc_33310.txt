Представлен фреймворк Compat, позволяющий использовать новые драйверы в устаревших ядрах Linux

Луис Родригес (Luis Rodriguez), основной разработчик комплекта свободных драйверов ath5k и автор пакета compat-wireless, позволяющего компилировать новейшие драйверы беспроводных устройств для старых ядер Linux, представил в списке рассылки разработчиков ядра Linux новый проект Compat, в рамках которого идет работа над универсальным модулем ядра для устаревших ядер, реализующем слой совместимости с последним ядром Linux. Как пояснил автор письма, в последнее время проект compat-wireless вырос в нечто большее, чем просто слой совместимости для беспроводных драйверов. В рамках проекта была реализована функциональность для бэкпортирования Bluetooth-драйверов, а также драйверов для обычных Ethernet-адаптеров, которая уже не вписывалась в первоначальную кодовую базу. В результате большая часть наработок, созданных в рамках проекта, была вынесена в отдельный, универсальный фреймворк compat, который позволит упростить бэкпортирование любых типов драйверов. По своей сути compat это модуль ядра Linux, а также набор заголовочных файлов, которые в совокупности реализуют функциональность подсистемы драйверов ядра Linux, которая появилась в последних ядрах, но не была реализована в прошлых (или была реализована по другому). В некоторых случаях compat позволяет пересобрать драйвер из нового ядра Linux для более старого вообще без внесения изменений, в других случаях требуется внесение некоторых несущественных модификаций. В сочетании с compat-wireless пересобраны могут быть большинство беспроводных и Ethernet-драйверов. Проект ориентирован на пользователей, которым необходима поддержка новых устройств, но которые не желают при этом использовать последние версии Linux-ядра (например, для адаптации новых драйверов для ядер, поставляемых в дистрибутивах). В настоящее время compat может быть использован для бэкпортирования драйверов вплоть до ядра 2.6.27, но разработчики не отрицают что в будущем может появиться поддержка и более старых ядер.