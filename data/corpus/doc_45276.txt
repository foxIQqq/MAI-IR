Консорциум ISC опубликовал DHCP-сервер Kea 1.1

Консорциум ISC представил релиз DHCP-сервера Kea 1.1.0, изначально развивавшегося в рамках проекта BIND 10, но отделённого от DNS-сервера в отдельный продукт, идущий на смену классическому ISC DHCP. Исходные тексты проекта распространяются под лицензией Mozilla Public License (MPL) 2.0, вместо ранее применяемой для ISC DHCP лицензии ISC License. DHCP-сервер Kea основан на технологиях BIND 10 и построен с использованием модульной архитектуры, подразумевающей разбиение функциональности на разные процессы-обработчики. Продукт включает в себя полнофункциональную реализацию сервера с поддержкой протоколов DHCPv4 и DHCPv6, способную заменить собой ISC DHCP. В Kea встроены средства динамического обновления DNS-зон (Dynamic DNS), поддерживаются механизмы обнаружения серверов, назначения адресов, обновления и переподключения, обслуживания информационных запросов, резервирования адресов для хостов и PXE-загрузки. В реализации DHCPv6 дополнительно предусмотрена возможность делегирования префиксов. Для взаимодействия с внешними приложениями предоставляется специальный API. Возможно обновление конфигурации на лету без перезапуска сервера. Информация о выделенных адресах и параметрах клиентов может храниться в разных типах хранилищ - в настоящее время предоставляются бэкенды для хранения в файлах CSV, СУБД MySQL и PostgreSQL. Параметры резервирования хостов могут быть заданы в файле конфигурации в формате JSON или в виде таблицы в MySQL. В состав входит инструмент perfdhcp для измерения производительности сервера DHCP и компоненты для сбора статистики. Kea демонстрирует неплохую производительность, например, при использовании бэкеда MySQL сервер может выполнить 1000 присвоений адресов в секунду (около 4000 пакетов в секунду), а при использовании бэкенда memfile производительность достигает 7500 присвоений в секунду. Новые возможности Kea 1.1: Возможность хранения базы резервирования хостов (для DHCPv4 и DHCPv6) в бэкендах MySQL или PostgreSQL. Из соображений безопасности хранимая в СУБД MySQL или PostgreSQL база резервирования хостов может быть настроена на доступ в режиме только для чтения, в этом случае Kea может только получать сведения о резервировании, но не имеет полномочий по дополнению или обновлению базы; Значительно расширены возможности по резервированию хостов, добавлена поддержка резервирования специфичных опций DHCP, резервированя siaddr, sname, полей сообщений DHCPv4 и множественных префиксов/адресов IPv6; Расширена система классификации клиентов, в которой для разделения клиентов на классы в конфигурации задаются условные логические выражения, оценивающие содержимое входящих пакетов DHCPv4 и DHCPv6. Клиент может принадлежать сразу к нескольким классам. В логических выражениях могут использоваться операторы (equal, not, and, or, substring и concat), литералы (строки, IP, целые числа), операции проверки опций и содержимого, функции разбора полей на составные части и т.п. Возможность привязки параметров к сторонним библиотекам-обработчикам в основном файле конфигурации Kea, без использования внешних механизмов для организации передачи информации библиотеке; Поддержка конфигураций DHCPv4-over-DHCPv6, в которых клиенты IPv6-сетей могут взаимодействовать с сервером DHCPv4; Реализация бэкенда хранения данных в СУБД Apache Cassandra. Бэкенд пока имеет статус экспериментальной разработки и ограничен возможностью хранения информации о выделении IP-адресов (lease), т.е. не подходит для размещения базы резервирования хостов.