Новая версия systemd 211

Представлен корректирующий выпуск системного менеджера systemd 211, в котором представлена большая порция исправлений ошибок и добавлено несколько новшеств. Отмечается, что большинство обнаруженных в значительном выпуске systemd 209 ошибок, вызывающих проблемы со стабильностью, устранены. Следующий выпуск, в котором будет продолжена работа над ошибками и интеграция отдельных новшеств, планируется представить ориентировочно через две недели. Наиболее существенные изменения: В systemd-gpt-auto-generator добавлена поддержка определения разделов /srv и root, в дополнение к /home и swap, а также добавлена поддержка шифрованных разделов (LUKS). Указанное изменение приближает к завершению реализацию механизма автоматического монтирования разделов на основе GPT-меток, позволяющего загружаться без /etc/fstab и без передачи ядру опции "root="; При сборке systemd с поддержкой kdbus (--enable-kdbus) обеспечена базовая поддержка механизма запуска сервисов с принудительным применением политик безопасности, ранее доступного через D-Bus, но не реализованного для kdbus; Для юнитов добавлена поддержка параметра "RestrictAddressFamilies=", позволяющего ограничить доступ к заданному семейству сокетов ("AF_INET" или "AF_UNIX"); Для юнитов добавлена поддержка параметров "RuntimeDirectory=" и "RuntimeDirectoryMode=", позволяющих использовать отдельную директорию для runtime-файлов демона, в рамках иерархии /run; В параметре unit-файлов "DeviceAllow=" теперь допустимо использование масок для выбора группы имён устройств; В system.conf добавлены настройки "DefaultCPUAccounting=", "DefaultBlockIOAccounting=" и "DefaultMemoryAccounting=" для включения и выключения учёта специфичных ресурсов (cgroups) для всех юнитов; В systemd-nspawn добавлена опция "--image=" для загрузки произвольного дискового образа и опция "--network-macvlan" для настройки интерфейса macvlan для контейнера; В systemd-networkd добавлена поддержка настройки локальных адресов с использованием IPv4LL; Добавлена новая утилита systemd-network-wait-online для синхронного ожидания сетевого соединения через systemd-networkd; В logind теперь автоматически блокируется переход в спящий режим при закрытии крышки ноутбука при наличии подключенного внешнего монитора. Кроме того, logind теперь не переходит в спящий режим по закрытию крышки, если прошло менее 30 секунд с момента прошлого просыпания и менее 3 минут с момент загрузки. В systemd-run обеспечена работа опций "--uid=", "--gid=", "--setenv=, "--setenv=" при использовании режима "--scope".