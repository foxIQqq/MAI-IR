Третья бета-версия мобильной платформы Android 14

Компания Google представила третью бета-версию открытой мобильной платформы Android 14, которая ознаменовала переход разработки на стадию стабилизации платформы (Platform Stability), подразумевающую фиксацию поведения и состояния API для приложений. В следующих тестовых выпусках Android 14 программные интерфейсы останутся неизменны, что позволяет разработчикам начать адаптацию своих программ для использования новых возможностей платформы. Релиз Android 14 ожидается в третьем квартале 2023 года. Для оценки новых возможностей платформы предложена программа предварительного тестирования. Сборки прошивки подготовлены для смартфонов Pixel 7/7 Pro, Pixel 6/6a/6 Pro, Pixel 5/5a 5G и Pixel 4a (5G), а также некоторых моделей устройств iQOO, Lenovo, Nothing, OnePlus, OPPO, Realme, Tecno, vivo и Xiaomi. Изменения в Android 14 Beta 3 по сравнению с второй бета-версией: Добавлена поддержка нелинейного масштабирования шрифтов. По умолчанию в системе разрешено и включено в процессы тестирования интерфейса использование увеличенных размеров шрифтов с коэффициентом масштабирования вплоть до 200%, что позволит добиться оптимальной читаемости текста людьми с ослабленным зрением без опасности появления искажений в компоновке интерфейса. Предоставлена возможность частичного предоставления полномочий для доступа только к выбранным пользователем фотографиям и видео (READ_MEDIA_VISUAL_USER_SELECTED, файлы, к которым предоставляется доступ, выбираются пользователем через интерфейс Photo picker во время появления диалога запроса полномочий). После перевода приложения в фоновый режим или завершения работы программы предоставленное пользователем полномочие автоматически отзывается. Расширены области в которых система показывает связанную с конфиденциальностью информацию, определённую разработчиком в Play Console Form, такую как политика в отношении предоставления данных третьим лицам. Например, подобные сведения теперь показываются в диалоге запроса полномочий. В приложениях, использующих обработчики, работающие в фоновом режиме, теперь обязательно указание типа фонового сервиса. Во время работы система проверяет соответствие указанного типа сервиса, запрошенных полномочий и используемого API. Например, если приложение указало тип фонового сервиса FOREGROUND_SERVICE_TYPE_LOCATION, подразумевается, что им могут быть запрошены полномочия ACCESS_COARSE_LOCATION или ACCESS_FINE_LOCATION. Внесены изменения для повышения безопасности: Запрещена отправка приложениями intent-запросов к некоторым внутренним компонентам платформы. Динамически загружаемый код теперь должен помечаться атрибутом доступа в режиме только для чтения. В функциях ZipFile(String) и ZipInputStream.getNextEntry() запрещена обработка zip-архивов, пути в которых начинаются с символа "/" или содержат последовательность "..". Ограничен запуск работ из фоновых обработчиков и обновлены ограничения в области вызова программных интерфейсов, не предоставляемых в SDK. Базовые Java-библиотеки платформы и средства разработки приложений обновлены до OpenJDK 17. Добавлена поддержка доступных в OpenJDK 17 языковых возможностей и Java-классов, например, классов типа record, многострочных строк и сопоставления c образцом в операторе "instanceof". Дополнение: При подключения устройства по USB к стационарному компьютеру помимо ранее доступных режимов взаимодействия, таких как передача файлов, зарядка, раздача интерната и т.п., появилась возможность использования смартфона в роли web-камеры (режим UVC, USB Video Class). По умолчанию данная возможность отключена, но может быть активирована при наличии root-доступа.