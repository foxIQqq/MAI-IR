Во FreeBSD-CURRENT завершён переход на bsdinstall в качестве инсталлятора по умолчанию

Натан Уайтхорн (Nathan Whitehorn) сообщил о внесении изменений в инфраструктуру сборки релизов FreeBSD, делающих bsdinstall инсталлятором по умолчанию. Новый инсталлятор обладает полным функционалом, за исключением поддержки ZFS в редакторе разделов. Пользовательский интерфейс bsdinstall напоминает классический sysinstall. Что касается sysinstall, то его поддержка сохранится в течении всего времени жизни ветки 9.x, но уже в качестве альтернативного инсталлятора. Тестовый установочный образ c BSDInstall будет подготовлен в ближайшее время. BSDInstall отличается модульностью, простотой подключения расширений, поддержкой управляющих установкой скриптов и ускорением выполнения процесса инсталляции. По своей сути BSDInstall представляет собой shell-скрипт, в определенной последовательности вызывающий дополнительные скрипты или приложения. Любое звено установки может быть легко модифицировано или заменено на альтернативную реализацию (например, вместо вызова редактора дисковых разделов можно указать скрипт, который вернет определенную последовательность gpart-команд). В процессе установки, работа инсталлятора сводится к распаковке трех архивов: образа с базовой системы (world.tgz), ядра (kernel.tgz) и коллекции портов (ports.tgz), после чего могут быть запущены постустановочные конфигураторы или скопированы типовые файлы конфигурации (fstab, rc.conf, resolv.conf). В настоящее время BSDInstall может использоваться для архитектур i386, amd64, sparc64, powerpc, powerpc64 и PC98. Из возможностей можно отметить: Возможность установки на GPT-диски; Поддержка установки, охватывающей несколько дисков; Поддержка установки внутрь jail-окружений; Поддержка упрощенного PXE-режима установки; Дружественность к системам виртуализации, например, можно произвести установку в дисковый образ из работающей системы; Значительное ускорение процесса установки системы; Гибкое управление установкой через написание скриптов; Возможность простой реализации мелких настроек; Установочный CD выступает в роли LiveCD. Режим настройки параметров беспроводной сети; Поддержка установки на ZFS-разделы (реализация функции не завершена).