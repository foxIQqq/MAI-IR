Компания Apple открыла код распределённой СУБД FoundationDB

Компания Apple перевела в разряд свободных проектов СУБД FoundationDB, относящуюся к классу NoSQL-систем, манипулирующих данными в формате ключ/значение. Особенностью FoundationDB является возможность создания больших распределённых хранилищ, в которых возможно использование полноценных транзакций, удовлетворяющих требованиям ACID (атомарность, согласованность, изолированность, надежность) для всех операций с данными. Код СУБД написан на языке С++ и поставляется под лицензией Apache 2.0. Компания Apple поглотила FoundationDB в 2015 году и теперь намерена перейти к открытой модели разработки. Кроме публикации кода под открытой лицензией, началось становление сообщества и переход к открытой модели разработки, при которой все решения будут приниматься прозрачно и любой желающий сможет предложить свои изменения и улучшения. Наиболее активные разработчики из сообщества смогут принимать участие в принятии решений. Разработчики заявляют, что FoundationDB является одной из самых хорошо протестированных и надёжных СУБД, что подтверждается активным применением данной системы в инфраструктуре Apple и некоторых других крупных компаний. FoundationDB позволяет создавать хранилища для обработки очень больших наборов структурированных данных, распределённых на узлах кластера из типовых серверов. Для обеспечения отказоустойчивости применяется репликация данных на несколько узлов. Распределённое хранилище основано на архитектуре "shared-nothing", в которой каждый узел является независимым и самодостаточным звеном, а вся система лишена единой точки отказа. Хранилище хорошо подходит к нагрузкам с большим числом операций чтение/запись, но также обеспечивает отличную производительность и в условиях, в которых преобладают операции записи. Взаимодействие с СУБД производится при помощи API и биндингов для различных языков программирования (C/C++, Python, Perl, Ruby, Java, Go, Node.js, PHP). Важной особенностью FoundationDB также является предоставление очень эффективного низкоуровневого интерфейса, позволяющего любым другим системам, использовать FoundationDB для распределённого хранения информации в согласованном состоянии. Например, на базе FoundationDB могут быть подготовлены фронтэнды для более крупных универсальных СУБД, для хранения различных моделей данных, для применения различных языков формирования запросов (например, SQL и документо-ориентированные системы), для хранения метаданных в распределённых ФС, для организаци распределённых очередей задач и т.п. На системе разработчика СУБД FoundationDB может быть запущена в одноузловом режиме (single-server), который затем может быть расширен до кластера (для добавления нового узла достаточно скопировать на новый узел файл fdb.cluster с уже работающего узла). Основные возможности: Мультимодельное хранилище, позволяющее сохранять любые типы данных в одной БД. Все данные надёжно сохраняются, распределяются и реплицируются в низкоуровневом представлении ключ/значение. Поддерживается упорядоченное сохранение ключей, что позволяет применять эффективные выборки по диапазонам значений; Поддерживается два движка хранения: ssd - хранение данных на диске с использованием структуры B-tree (хранилище оптимизировано для SSD-накопителей), и memory - для хранения данных в памяти со сбросом лога транзакций на диск; Устойчивость к сбоям и простота горизонтального масштабирования. СУБД FoundationDB проста в установке, расширении хранилища и управлении. СУБД имеет распределённую архитектуру, позволяющую легко масштабироваться и на лету обрабатывать сбои, работая при этом как единая цельная транзакционная БД, соответствующая требованиям ACID; В рамках транзакции может быть прочитано и записано произвольное число ключей, хранимых на любых узлах кластера, но время жизни транзакции не может превышать 5 секунд, а размер не должен превышать 10 Мб записываемых данных. Размер ключа не должен превышать 10 Кб, а размер данных 100 Кб. Обеспечение очень высокой производительности на типовом оборудовании. СУБД FoundationDB способна справляться с очень жесткими нагрузками, требуя при этом минимальных затрат на оборудование; Готовность к промышленному применению. FoundationDB уже многие годы применяется в крупных промышленных инфраструктурах. Для тестирования внедрена специальная система, основанная на движке детерминистической симуляции.