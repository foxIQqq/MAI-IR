Релиз PowerTOP 2.0, инструмента для оптимизации энергопотребления Linux-системы

Компания Intel представила релиз проекта PowerTOP 2.0, в рамках которого развивается инструмент для диагностики проблем с энергопотреблением и управлением питанием. Версия PowerTOP 2.0 примечательна полной переработкой базового кода, реализацией более широких средств диагностики, упрощённым интерактивным интерфейсом пользователя и реализацией генератора отчётов в форматах HTML и CSV. Код утилиты написан на языке Си и поставляется под лицензией GPL. PowerTOP может работать в интерактивном режиме, c разбиением статистики на несколько вкладок и поддержкой показа динамики изменения параметров в стиле утилиты top. В процессе работы PowerTOP выводит данные, которые позволяют оценить какие из системных компонентов и пользовательских приложений наиболее вероятно являются причиной повышенного расхода энергии. Также выводится информация о задействовании различных режимов экономии энергии CPU, статистика по изменению частот процессора, данные по энергопотреблению отдельных аппаратных устройств. Кроме использования для целей диагностики проблем, PowerTOP также может применяться для проведения экспериментов с различными параметрами оптимизации энергопотребления в дистрибутивах, не активирующих по умолчанию подобные параметры. Наиболее важные улучшения, добавленные в PowerTOP 2.0: Расширение диагностических возможностей, благодаря задействованию фреймворка perf из состава ядра Linux. Доступ к инфраструктуре perf осуществляется через новую библиотеку libparseevents. Использование perf позволило увеличить точность собираемых данных, расширить статистику о состоянии CPU (отслеживание состояний простоя, изменений частоты и режимов потребления энергии) и увеличить гибкость задействования новых возможностей мониторинга, которые будут появляться в будущих версиях ядра Linux; Новые средства для генерации отчётов в форматах HTML5 и CSV для наглядного анализа данных в offline-режиме и для автоматизации экспорта статистики во внешние приложения. Сбор данных производится на основании накопления информации за заданный промежуток времени или после указанного числа итераций измерения параметров. HTML-отчёт содержит в удобном для восприятии виде всю информацию, которую можно наблюдать в интерактивном режиме с похожим разбиением на вкладки (используется HTML5, но есть возможность создания более простого отчета с использованием обычного HTML). В отчёте в формате CSV приводится список измеренных параметров и их значения; Поддержка отслеживания энергопотребления для отдельных аппаратных компонентов, что позволяет определить какие из устройств являются причиной повышенного расхода энергии. Доступны данные об активности GPU, USB-устройств, сетевых адаптеров, PCI-устройств и дисковой подсистемы; Поддержка одновременного мониторинга нескольких беспроводных интерфейсов; Улучшенная поддержка получения статистики от видеодрайвера i915; Более надёжный сбор данных о состоянии аккумулятора; Измерение в режиме реального времени параметров извлекаемых USB-устройств; Новый интерактивный пользовательский интерфейс на базе вкладок, отображающий более детальную информацию в режиме реального времени: