Разработчики Ubuntu выпустили пакет для тестирования прошивок

Колин Ян Кинг (Colin Ian King), занимающийся поддержкой пакетов с Linux-ядром в Ubuntu, выпустил инструментарий Firmware Test Suite, предназначенный для автоматического тестирования прошивок, используемых в персональных компьютерах. Кинг объясняет в своем блоге, что многие нюансы или "сюрпризы" в ядре могут быть вызваны ошибками в прошивках оборудования, поэтому инструмент для автоматической проверки возможных ошибок в BIOS и ACPI является востребованным. Пакет объединяет в себе более 30 тестов, но в будущем Кинг планирует расширить число автоматически диагностируемых проблем. При тестировании пакет учитывает особенности компоновки ядра для Ubuntu, при обнаружении ошибок автоматически пытается подобрать обходной путь для решения проблемы, поддерживает работу в режиме командной строки, может вызываться из скриптов и легко встраивается в другие программы. В процессе работы создается подробный лог, позволяющий более полно провести ручную диагностику. В качестве примера совершаемых проверок можно упомянуть: тестирование корректности вызова APIC-прерываний; проверки установки параметров CPU (частота, NX-бит и т.п.); проверки содержимого таблиц BIOS (EBDA, e820, DMI) и ACPI (FADT, MCFG, DMAR); тестирование работы спящего и ждущего режимов; срабатывание различных ACPI-событий (изменения типа питания, нажатие кнопок, индикация заряда батареи). Некоторые проверки в пакете основаны на тестах, созданных в рамках проекта linuxfirmwarekit.org, но Кинг сказал, что он увеличил число тестов, расширил диапазон проверяемых ошибок и улучшил выдаваемые результаты испытаний. В настоящее время пакет добавлен в universe-репозиторий Ubuntu 10.10 Maverick (пакет fwts) и доступен для Ubuntu 10.04 через PPA-репозиторий. Для не пользующихся Ubuntu пользователей подготовлен Live-образ для установки на USB Flash. Исходные тексты FWTS можно просмотреть в Git-репозитории проекта.