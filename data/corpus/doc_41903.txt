Выпуск HTTP-сервера nginx 1.7.11 с поддержкой пула потоков

Доступен новый выпуск основной ветки высокопроизводительного HTTP-сервера nginx 1.7.11, в котором представлено несколько важных новшеств. Основные изменения: Экспериментальная поддержка выноса операций с файлами в отдельный пул потоков, что позволяет избавиться от блокирования рабочего процесса при выполнении операций чтения и отправки файлов. Число нитей в пуле потоков задаётся директивой thread_pool. Выборочная активация пула потоков для отдельных путей производится директивой "aio threads". Для работы пула потоков nginx должен быть собран с опцией "--with-threads"; Экспериментальный API для создания фильтров тела запроса; Поддержка буферизации тела транзитных запросов, при включении которой тело запроса вначале полностью читается от клиента, а потом отправляется для дальнейшей обработки (без буферизации запрос начинает передаваться сразу). Для включения буферизации представлены директивы proxy_request_buffering, fastcgi_request_buffering, scgi_request_buffering и uwsgi_request_buffering; Объявлен устаревшим параметр "sendfile" директивы "aio". Отныне nginx автоматически использует AIO для предварительной загрузки данных для sendfile, если указаны директивы "aio" и "sendfile"; В почтовом прокси добавлена возможность проверки клиентских SSL-сертификатов; Возможность сохранения отладочного лога в закольцованном буфере в памяти.