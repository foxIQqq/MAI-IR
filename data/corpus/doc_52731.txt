Проект по эмуляции сборки Red Hat Enterprise Linux на базе Fedora

Комитет FESCo (Fedora Engineering Steering Committee), отвечающий за техническую часть разработки дистрибутива Fedora, утвердил предложение по реализации проекта ELN (Enterprise Linux Next), нацеленного на предоставление окружения, основанного на репозитории Fedora Rawhide, которое может применяться для тестирования функциональности будущих выпусков дистрибутива RHEL (Red Hat Enterprise Linux). Для ELN будет подготовлен новый buildroot и процесс сборки для эмуляции формирования Red Hat Enterprise Linux на базе пакетов с исходными текстами из репозитория Fedora. Проект намечен к реализации в рамках цикла разработки Fedora 33. ELN предоставит инфраструктуру, позволяющую собирать Fedora-пакеты с использованием методов, применяемых в CentOS и RHEL, и даст возможность сопровождающим пакеты Fedora на ранней стадии отлавливать изменения, которые могут потенциально отразиться на разработке RHEL. ELN также позволит проверять намеченные изменения условных блоков в spec-файлах, т.е. собирать пакет со срабатыванием условий с переменной "%{rhel}", установленной в значение "9" (переменная "%{fedora}" ELN будет возвращать "false"), симулируя сборку для будущей ветки RHEL. Конечной целью является пересборка репозитория Fedora Rawhide так, как если бы он был RHEL. В ELN планируется пересобирать только небольшую часть из коллекции пакетов Fedora, востребованную в CentOS Stream и RHEL. Успешные пересборки ELN планируется синхронизировать со внутренними сборками RHEL, добавляя в пакеты дополнительные изменения, которые недопустимы в Fedora (например, добавление торговых марок). При этом разработчики будут стараться минимизировать отличия между ELN и RHEL Next, разделяя их на уровне условных блоков в spec-файлах. Другим важным применением ELN будет возможность экспериментировать с воплощением новых идей, не затрагивая основные сборки Fedora. В частности, ELN будет полезен для создания сборок Fedora, отражающих прекращение поддержки старого оборудования и задействование по умолчанию дополнительных расширений CPU. Например, параллельно можно будет сформировать вариант Fedora, определив в требованиях к CPU обязательную поддержку инструкций AVX2, после чего протестировать влияние производительности от применения AVX2 в пакетах и принять решение о реализации изменения в основном дистрибутиве Fedora. Подобные тесты актуальны для проверки пакетов Fedora в условиях изменения требований к аппаратным архитектурам, намеченным в будущей значительной ветке RHEL, без блокирования штатного процесса сборки пакетов и подготовки релизов Fedora.