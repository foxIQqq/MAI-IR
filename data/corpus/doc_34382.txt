Valve и Intel совместно занялись усовершенствованием открытых видеодрайверов для Linux

В рамках инициативы по адаптации игр на базе движка Source для платформы Linux компания Valve намерена усовершенствовать открытые видеодрайверы для Linux и увеличить качество поддержки OpenGL. Для проведения данной работы сотрудники отдела Linux-разработок Valve договорились о совместной деятельности с разработчиками открытых видеодрайверов из компании Intel. Совместная работа подразумевает проведение анализа соответствия драйверов требованиям современных 3D-игр, развитие новых возможностей OpenGL и выполнение оптимизации производительности, как в драйвере, так и в коде игр. Участвующий в проекте разработчик Intel отмечает, что в данной ситуации наглядно демонстрируются достоинства открытого ПО: если закрытые драйверы представляют для производителей игр черный ящик, под особенности которого приходится подстраиваться, то открытые драйверы предоставляют широкие возможности для манёвра, доработки и изучения поведения. Наличие кода драйверов существенно упростило диагностику проблем с производительностью в процессе портирования игры Left 4 Dead 2. Например, было выявлено несколько узких мест в драйвере Intel, которые требуют оптимизации, а также несколько проблем с неэффективной работой шейдеров. Кроме того, плохая производительность в некоторых ситуациях оказалась не связана с драйвером и явилась следствием ошибок в коде управления вершинными буферами и излишней перекомпиляции шейдеров в самой игре Left 4 Dead 2. Для упрощения совместной работы по оптимизации разработчикам Intel предоставлен доступ к коду игры Left 4 Dead 2. В настоящее время уже подготовлена серия патчей для улучшения производительности DRI-драйвера Intel из состава Mesa. Кроме того, разработчики работают над созданием новой реализации механизма vsync, который позволит получить максимальную производительность без разрывов целостности вывода в процессе синхронизации экранной развёртки (tearing).