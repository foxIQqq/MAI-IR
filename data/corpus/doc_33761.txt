Тестовая версия проприетарного драйвера NVIDIA 302.07 с поддержкой RandR 1.2/1.3

Компания NVIDIA представила бета-версию проприетарного видеодрайвера NVIDIA 302.07, в котором добавлена достаточно большая порция изменений. Среди наиболее ожидаемых новшеств можно отметить поддержку в драйвере X-расширений RandR 1.2 и RandR 1.3, позволяющих динамически менять разрешение экрана, вращать, трансформировать и отзеркаливать корневое окно, управлять отображением данных на дополнительных мониторах и выполнять другие полезные функции из приложений, поддерживающих вызовы RandR. Среди других изменений: Расширен синтаксис опции конфигурации X-сервера MetaMode, добавлена поддержка атрибутов Rotation, Reflection, Transform (для преобразования задаётся матрица 3x3), ViewPortOut и ViewPortIn (определяет область вывода на экране); Переработана и включена по умолчанию опция конфигурации TwinView. Все подключаемые дополнительные устройства вывода теперь обрабатываются одновременно, ограничение числа устройств можно задать через опцию UseDisplayDevice. В команду nvidia-settings добавлен атрибут CurrentMetaMode для установки метарежима (MetaMode). Например, две следующие команды являются эквивалентными: xrandr --output DVI-I-2 --mode 1280x1024 --pos 0x0 --output DVI-I-3 --mode 1920x1200 --pos 1280x0 nvidia-settings --assign CurrentMetaMode="DVI-I-2: 1280x1024 +0+0, DVI-I-3: 1920x1200 +1280+0" Из NV-CONTROL и nvidia-settings убрана возможность настройки компенсации забегания развёртки (overscan compensation). Из nvidia-settings удалена поддержка масштабирования для широкоформатных мониторов. Данные настройки теперь можно более точно настроить через атрибуты TViewPortIn и ViewPortOut в блоке MetaMode; Добавлено ограничение на установку видеорежимов, только присутствующих в списке EDID; При подключении или отключении мониторов драйвер теперь генерирует соответствующее Hotplug-событие RRNotify_OutputChange, что может быть использовано десктоп-окружениями для автоматического изменения размера экрана; Переработан код парсинга EDID, обеспечена поддержка спецификации EDID 1.4 и новых версий CEA-861; Удалены опции конфигурации Rotate и RandRRotation, вместо которых следует использовать атрибут Rotation в блоке MetaMode или средства RandR; Прекращена поддержка следующих атрибутов NV-CONTROL: NV_CTRL_GPU_SCALING NV_CTRL_GPU_SCALING_DEFAULT_TARGET NV_CTRL_GPU_SCALING_DEFAULT_METHOD NV_CTRL_DFP_SCALING_ACTIVE NV_CTRL_GPU_SCALING_ACTIVE NV_CTRL_FRONTEND_RESOLUTION NV_CTRL_BACKEND_RESOLUTION NV_CTRL_OVERSCAN_COMPENSATION NV_CTRL_FLATPANEL_BEST_FIT_RESOLUTION По умолчанию включена опция OpenGL "Sync to VBlank"; В nvidia-xconfig добавлена опция "--restore-original-backup" для восстановления из резервной копии оригинальной конфигурации X-сервера, не содержащей изменений, внесённых при помощи nvidia-xconfig; В NV-CONTROL и nvidia-settings добавлена поддержка дополнительных FSAA-режимов: 16X multisample FSAA (GeForce GPU), Coverage sample FSAA (GeForce GPU), 32X multisample FSAA (Quadro GPU) и 64X multisample FSAA (Quadro GPU); В OpenGL включен режим сцепления совместимых текстур. В nvidia-settings добавлена опция для переключения режима сцепления текстур; В NV-CONTROL прекращена поддержка следующих атрибутов режима GVO Clone: NV_CTRL_GVO_DISPLAY_X_SCREEN, NV_CTRL_GVO_X_SCREEN_PAN_X, NV_CTRL_GVO_X_SCREEN_PAN_Y; Обновлён код обработки конфигурации X-сервера, затрагивающей целиком GPU, а не отдельные X-экраны. Данные общие настройки теперь применяются и ко всем отдельным X-экранам, работу которых обеспечивает GPU (ранее настройки применялись только к первому экрану); В nvidia-settings со страницы настройки X-сервера удалены вкладки "Display" и "X Screen", вместо них добавлено новое выпадающее меню "Selection"; Устранены проблемы с очень медленным открытием, перемещением и закрытием окон OpenGL-приложений при наличии карт Quadro FX 4600, Quadro FX 5600, GeForce 8800 GTX, GeForce 8800 GTS и GeForce 8800 Ultra; Устранено падение производительности для интегрированных GPU Geforce 6 и Geforce 7; Устранена ошибка, приводящая к утечке файловых дескрипторов для OpenGL-программ при вызове exec(); Решена проблема с повреждением содержимого вывода при запуске нового X-сервера.