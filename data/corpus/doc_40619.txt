Выпуск системы мониторинга Zabbix 2.4

С небольшим отставанием от графика доступен новый значительный релиз системы мониторинга Zabbix 2.4. Zabbix состоит из трёх базовых компонентов: сервера для координации выполнения проверок, формирования проверочных запросов и накопления статистики; агентов для осуществления проверок на стороне внешних хостов; фронтэнда для организации управления системой. Для снятия нагрузки с центрального сервера и формирования распределённой сети мониторинга может быть развёрнута серия прокси-серверов, агрегирующих данные о проверке группы хостов. Код агентов и серверной части написан на языке Си, для разработки web-интерфейса использован язык PHP, данные могут храниться в СУБД MySQL, PostgreSQL, SQLite, DB2 и Oracle. Код проекта распространяется под лицензией GPLv2. Главные изменения в Zabbix 2.4: Добавлена возможность одновременной фильтрации по нескольким критериям в правилах низкоуровневого обнаружения. Это даёт возможность, например, фильтровать как по типу файловой системы так и по точке монтироватия. Это значительно улучшает возможности отфильтровать неинтересующие объекты обнаружения. К тому же несколько критериев фильтрации могут быть скомбинированы в очень гибкой формуле и реализовать произвольную логику. На странице «Последние данные» появилась возможность быстро и легко включить в один график произвольное количество разных элементов данных. Теперь нет необходимости создавать график в конфигурационной части фронтенда чтобы посмотреть, например, корреляцию разных элементов данных на одном графике. В действиях формула условий стала намного гибче. Аналогично формуле фильтрации в низкоуровневом обнаружении — теперь нет ограничений на логику выражения и можно самому указать любую формулу. Добавлена поддержка новых операторов в выражения триггеров, это: >= {= not. Использование существующих операторов # & | было заменено соответственно на {> and or. Это было сделано с целью улучшения читаемости выражений. Долго ожидаемая возможность указания произвольных заголовков в веб мониторинге наконец то была реализована. К тому же появилась возможность для каждого шага сценария ограничить получаемые данные только заголовками и отключать опцию «follow redirects». Длина URL увеличена с 255 до 2048 символов. Добавлена возможность гибкого конфигурирования во фронтенде персональных SSL сертификатов для веб мониторинга и других опций относящихся к проверкам HTTPS сайтов. Появилась возможность индивидуально для каждого хоста (интерфейса) определять режим опроса по SNMP — делать ли массовые (bulk) запросы или классические одиночные запросы. Для экранов появилась возможность включать графики или элементы данных с низкоуровневого обнаружения. Это даёт возможность автоматически строить экраны со многими элементами данных. В процедуре импорта шаблонов и хостов появилась возможность удалять несуществующие ресурсы. Это расширяет гибкость для массовых изменений в конфигурации. Было осуществлено множество изменений в веб интерфейсе, нацеленных как на повышение удобства так и на новые возможности, среди них: Формат дат в большинстве мест интерфейса теперь стандартизирован к стандарту ISO 8601. Исключение составили только графики, где даты и время должны занимать как можно меньше места; Глобальный поиск работает так же и по техническому имени узла сети; На картах сети элементы теперь можно фильтровать по группам элементов данных; На экранах в поле URL теперь можно использовать в т.ч. и некоторые макросы, так что теперь ссылки в URL могут генерироваться динамически; На странице аудита действий теперь можно видеть какое именно действие отправило уведомление или выполнило скрипт — это облегчает идентификацию действий и их улучшение/исправление; У хостов, шаблонов и Zabbix прокси появилось новое поле — описание. Теперь есть возможность указать произвольную детальную информацию о этих объектах в конфигурации; Зависимости триггеров в настройках триггера теперь отображаются как ссылки, что значительно облегчает навигацию для анализа настроек; На странице состояния триггеров появилась возможность отфильтровать триггеры которые в данный момент находятся в состоянии «проблема», скрыв при этом триггеры недавно перешедшие в состояние «ок». К тому же на этой странице возможности для фильтрации стали намного шире — можно фильтровать по группам элементов данных и инвентарным данным хостов; На странице конфигурирования периодов обслуживания появилась возможность сортировке по колонкам дат. Это облегчает контроль периодов обслуживания если их очень много; Во выпадающем списке вспомогательных функций для хоста появилась возможность перехода к графикам. К тому же недоступные пункты списка раньше были спрятаны, а теперь отображаются как недоступные для выбора. Улучшения для демонов zabbix: Названия демонов при логировании в syslog унифицировано и стандартизировано; Появилась поддержка ключа «system.cpu.discovery» для низкоуровневого обнаружения ядер процессора; Элементы данных для внутреннего мониторинга сейчас всегда обрабатываются независимо от состояния обслуживания их узла сети; Максимально точная причина почему элемент данных стал неподдерживаемым теперь передаётся агентом серверу и отображается в статусе ошибки элемента данных; Появилась возможность изменять DebugLevel сервера/прокси без перезапуска демона. Пользовательские макросы {$MACRO} теперь поддерживаются в уведомлениях и в удаленных командах. Некоторые другие макросы теперь поддерживаются и в других местах, что детально указано в документации.