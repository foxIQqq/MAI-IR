Релиз Proxmox VE 7.2, дистрибутива для организации работы виртуальных серверов

Опубликован релиз Proxmox Virtual Environment 7.2, специализированного Linux-дистрибутива на базе Debian GNU/Linux, нацеленного на развертывание и обслуживание виртуальных серверов с использованием LXC и KVM, и способного выступить в роли замены таких продуктов, как VMware vSphere, Microsoft Hyper-V и Citrix Hypervisor. Размер установочного iso-образа 994 МБ. Proxmox VE предоставляет средства для развёртывания полностью готовой системы виртуальных серверов промышленного уровня с управлением через web-интерфейс, рассчитанный на управление сотнями или даже тысячами виртуальных машин. Дистрибутив имеет встроенные инструменты для организации резервного копирования виртуальных окружений и доступную из коробки поддержку кластеризации, включая возможность миграции виртуальных окружений с одного узла на другой без остановки работы. Среди особенностей web-интерфейса: поддержка безопасной VNC-консоли; управление доступом ко всем доступным объектам (VM, хранилище, узлы и т.п.) на основе ролей; поддержка различных механизмов аутентификации (MS ADS, LDAP, Linux PAM, Proxmox VE authentication). В новом выпуске: Осуществлена синхронизация с пакетной базой Debian 11.3. Выполнен переход на ядро Linux 5.15. Обновлены QEMU 6.2, LXC 4.0, Ceph 16.2.7 и OpenZFS 2.1.4. Добавлена поддержка драйвера VirGL, реализованного на основе API OpenGL и предоставляющего гостевой системе виртуальный GPU для 3D-рендеринга без открытия эксклюзивного прямого доступа к физическому GPU. Для VirtIO и VirGL по умолчанию включена поддержка протокола удалённого доступа SPICE. Добавлена поддержка определения шаблонов c примечаниями к работам по резервному копированию, в которых, например, можно использовать подстановки с именем виртуальной машины ({{guestname}}) или кластера ({{cluster}}) для упрощения поиска и разделения резервных копий. В ФС Ceph добавлена поддержка помехоустойчивого кодирования, позволяющего восстанавливать потерянные блоки. Обновлены шаблоны контейнеров LXC. Добавлены новые шаблоны для Ubuntu 22.04, Devuan 4.0 и Alpine 3.15. В ISO-образе утилита тестирования целостности памяти memtest86+ замена на полностью переписанную версию 6.0b, поддерживающую UEFI и современные типы памяти, такие как DDR5. Внесены улучшения в web-интерфейс. Переделан раздел настройки резервного копирования. Добавлена возможность передачи через GUI закрытых ключей во внешний кластер Ceph. Добавлена поддержка переназначения диска виртуальной машины или раздела контейнера в другую гостевую систему на том же узле. В кластере предоставлена возможность настройки через web-интерфейс желаемого диапазона значений для новых идентификаторов виртуальных машин или контейнеров (VMID). Для упрощения переписывания частей Proxmox VE и Proxmox Mail Gateway на языке Rust в состав включён crate-пакет perlmod, позволяющий экспортировать Rust-модули в форме Perl-пакетов. В Proxmox crate-пакет perlmod используется для передачи данных между кодом на Rust и Perl. Унифицирован с Proxmox Backup Server код для планирования событий (next-event), который переведён на использование обвязки perlmod (Perl-to-Rust). Помимо дней недели, времени и диапазонов времени появилась поддержка привязки к конкретным датам и времени (*-12-31 23:50), диапазонов дат (Sat *-1..7 15:00) и повторяющихся диапазонов (Sat *-1..7 */30). Предоставлена возможность переопределения некоторых базовых настроек восстановления из резервной копии, таких как имя гостевой системы или параметры памяти. В процесс резервного копирования добавлен новый обработчик job-init, который можно использовать для запуска подготовительных работ. Улучшен планировщик менеджера локальных ресурсов (pve-ha-lrm), выполняющий работу по запуску обработчиков. Увеличено количество настраиваемых сервисов, которые могут обрабатываться на одном узле. В симуляторе кластера высокой доступности реализована команда skip-round, упрощающая тестирование состояний гонки. Добавлена команда "proxmox-boot-tool kernel pin" позволяющая заранее выбрать версию ядра для следующей загрузки, без необходимости выбора элемента в загрузочном меню во время загрузки. В установочном образе для ZFS предоставлена возможность настройки различных алгоритмов сжатия (zstd, gzip и т.п.). В Android-приложении для Proxmox VE добавлена тёмная тема оформления и предоставлена inline-консоль.