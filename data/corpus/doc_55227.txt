Microsoft выпустил пакетный менеджер Windows Package Manager 1.0, похожий на apt и dnf

Компания Microsoft опубликовала выпуск пакетного менеджера Windows Package Manager 1.0 (winget), предоставляющего средства для установки приложений с использованием командной строки. Код написан на языке С++ и распространяется под лицензией MIT. Пакеты устанавливаются из репозитория, поддерживаемого при участии сообщества. В отличие от установки программ из каталога Microsoft Store, winget позволяет устанавливать приложения без лишнего маркетинга и рекламы. Windows Package Manager 1.0 позиционируется как первый полнофункциональный релиз, в котором поддерживается автодополнение ввода, поставка сборок для разных архитектур, установка в контексте всей системы и отдельных пользователей, групповые политики, REST API для доступа к репозиторию, delta-обновления, интерфейс для генерации манифестов, распространение приложений для панели управления. Из планов на будущее отмечается поддержка различных категорий выпусков (релизы, бета-версии), наборы пакетов, работа с зависимостями, установочные файлы в формате zip (помимо msi), установка из Microsoft Store, интеграция с PowerShell, установка web-приложений (PWA) и шрифтов. Синтаксис команд и логика работы с winget близки к пакетным менеджерам apt и dnf. В первом выпуске предоставляются следующие команды: install - установка пакетов; show - вывод информации о пакете; source - управления источниками загрузки пакетов; search - поиск пакетов; list - показ списка установленных пакетов; upgrade - обновление заданных пакетов; uninstall - удаление установленных пакетов; hash - работа с проверочными хэшами; validate - проверка целостности манифеста; settings - изменение настроек; features - показ состояния экспериментальных возможностей; export - экспорт списка установленных пакетов; import - импорт списка установленных пакетов. Параметры пакета определяются через файлы с манифестом в формате YAML. Для упрощения создания файлов с манифестом преложен инструментарий winget-create. Сами исполняемые файлы хранятся в Microsoft Store или непосредственно на серверах основных проектов, репозиторий лишь выступает индексом, а манифест ссылается на внешний msi-файл (например, размещённый на Microsoft Store, GitHub или сайте проекта). Для контроля целостности и защиты от подмены используется хэш SHA256. В настоящее время в репозиторий предложено более 1400 пакетов, в том числе представлены такие проекты, как 7Zip, OpenJDK, iTunes, Chrome, Blender, DockerDesktop, Dropbox, Evernote, FreeCAD, GIMP, Git, Maxima, Inkscape, Nmap, Firefox, Thunderbird, Skype, Edge, VisualStudio, KiCad, LibreOffice, Minecraft, Opera, Putty, TelegramDesktop, Steam, WhatsApp, Wireguard и Wireshark, а также большое число приложений Microsoft. Поддерживается создание приватных репозиториев, взаимодействие с которыми осуществляется через REST API. Для использования winget требуется наличие предварительной версии Установщика приложений. В ближайшее время планируется обеспечить поставку winget по умолчанию для пользователей Windows 10 1809 и более новых выпусков. По умолчанию при установке готовых сборок в пакетном менеджере включена отправка телеметрии, собирающей данные о взаимодействии пользователя с пакетным менеджером и возникающих ошибках. Для отключения телеметрии можно выбрать значение "Basic" в "Settings > Privacy > Diagnostics & feedback" или собрать winget из исходных текстов.