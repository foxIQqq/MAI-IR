Ядро Linux 5.8 станет самым крупным по числу изменений

Линус Торвальдс представил первый кандидат в релизы ядра Linux 5.8, отметив, что судя по всему это будет самое крупное по числу изменений из всех ядер за всё время существования проекта. В ветку 5.8 принято 14206 наборов изменений, которые затронули примерно 20% всех файлов в репозитории с кодом ядра. Размер патча 5.8-rc1 составил 61 МБ, что примерно на 35% больше, чем результирующий патч от выпуска 5.7. Релиз ядра Linux 5.8 ожидается в конце августа. Изменения затронули 15234 файлов, добавлено 1026178 строк кода, удалено 480891 строк (для сравнения в ветке 5.7 было добавлено 570560 строк кода, а удалено 297401 строк). Около 37% всех представленных в 5.8 изменений связаны с драйверами устройств, примерно 16% изменений имеют отношение к обновлению кода, специфичного для аппаратных архитектур, 10% связано с сетевым стеком, 3% - с файловыми системами и 4% c внутренними подсистемами ядра. Отмечается, что ядра с большими размерами патча встречались и ранее, но изменения, как правило были сосредоточены в одной подсистеме или были вызваны добавлением большого объёма типовых данных (например, в ядре 4.12 для драйвера AMD GPU было добавлено большое число строк с описанием регистров, а в ядре 2.6.29 добавлена большая порция новых драйверов в раздел staging). Ядро Linux 5.8 примечательно тем, что изменений в нём много как таковых (по числу коммитов и числу добавленных строк кода) и они размазаны по разным подсистемам. Больше всего изменений охватывают драйверы. Многие изменения касаются фундаментальных изменений и чистки в основных подсистемах, а также развития специфичных для аппаратных архитектур улучшений. Не обошлось и без автоматизированных правок, связанных с корректировкой информации о лицензиях в формате SPDX, но эти правки не являются доминирующими и лишь отражают возросшую активности в разработке.