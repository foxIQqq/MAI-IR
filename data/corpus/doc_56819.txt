Выпуск DentOS 2.0, сетевой операционной системы для коммутаторов

Доступен выпуск сетевой операционной системы DentOS 2.0, основанной на ядре Linux и предназначенной для оснащения коммутаторов, маршрутизаторов и специализированного сетевого оборудования. Разработка ведётся при участии компаний Amazon, Delta Electronics, Marvell, NVIDIA, Edgecore Networks и Wistron NeWeb (WNC). Изначально проект был основан компанией Amazon для оснащения сетевого оборудования в своей инфраструктуре. Код DentOS написан на языке Си и распространяется под свободной лицензией Eclipse Public License. Для управления коммутацией пакетов в DentOS задействована подсистема ядра Linux SwitchDev, позволяющая создавать драйверы для коммутаторов Ethernet, способные делегировать операции по перенаправлению кадров и обработке сетевых пакетов специализированным аппаратным чипам. Программная начинка базируется на штатном сетевом стеке Linux, подсистеме NetLink и таких инструментах, как IPRoute2, tc (Traffic Control), brctl (Bridge Control) и FRRouting, а также протоколах VRRP (Virtual Router Redundancy Protocol), LLDP (Link Layer Discovery Protocol) и MSTP (Multiple Spanning Tree Protocol). Системное окружение основано на дистрибутиве ONL (Open Network Linux), который, в свою очередь, использует пакетную базу Debian GNU/Linux и предоставляет инсталлятор, настройки и драйверы для запуска на коммутаторах. ONL развивается проектом Open Compute и представляет собой платформу для создания специализированных сетевых устройств, поддерживающую установку на более ста разных моделей коммутаторов. В состав входят драйверы для взаимодействия с применяемыми в коммутаторах индикаторами, датчиками температуры, кулерами, шинами I2C, GPIO и SFP-трансиверами. Для управления можно использовать инструментарии IpRoute2 и ifupdown2, а также gNMI (gRPC Network Management Interface). Для определения конфигурации применяются модели данных YANG (Yet Another Next Generation, RFC-6020). Система доступна для коммутаторов на базе ASIC Marvell и Mellanox, насчитывающих до 48 10-гигабитных портов. Поддерживается работа с различными ASIC и чипами обработки сетевых данных, включая ASIC-чипы Mellanox Spectrum, Marvell Aldrin 2 и Marvell AC3X с реализацией таблиц аппаратного перенаправления пакетов. Готовые для установки образы DentOS подготовлены для архитектур ARM64 (257 МБ) и AMD64 (523 МБ). В новом выпуске добавлены следующие улучшения: Поддержка NAT-44 и NA(P)T для трансляции адресов (NAT) из внутреннего диапазона в публичные адреса на уровне обычных (Layer-3, network layer) и VLAN портов (сетевые мосты) в коммутаторе. Предоставлены возможности для настройки сетевых интерфейсов 802.1Q (VLAN) и маршрутизации трафика через них. Для настройки используются пакеты IpRoute2 и Ifupdown2. Добавлена поддержка контроллеров PoE (Power over Ethernet) для управления питанием через Ethernet. Внесены изменения, направленные на повышение производительности и масштабируемости конфигураций межсетевого экрана. Улучшено управление ресурсами на базе ACL. Добавлена поддержка флагов для распознавания локальных (интранет) IP-адресов. Предоставлена возможность подключения пользовательских обработчиков для настройки изоляции портов. На базе "devlink", API для получения информации и изменения параметров устройств, реализована поддержка счётчиков локальных trap-ов и отброшенных пакетов.