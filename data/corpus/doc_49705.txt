Релиз операционной системы DragonFly BSD 5.4

Доступен релиз DragonFlyBSD 5.4, операционной системы с гибридным ядром, созданной в 2003 году с целью альтернативного развития ветки FreeBSD 4.x. Из особенностей DragonFly BSD можно выделить распределённую версионную файловую систему HAMMER, поддержку загрузки "виртуальных" ядер системы как пользовательских процессов, возможность кэширования данных и мета-данных ФС на SSD-накопителях, учитывающие контекст вариантные символические ссылки, возможность заморозки процессов с сохранением их состояния на диске, гибридное ядро, использующее легковесные потоки (LWKT). Основные улучшения, добавленные в DragonFlyBSD 5.4: Осуществлён переход на GCC 8 в качестве базового компилятора, используемого по умолчанию. Поддержка GCC 4.7.4 и GCC 5.4 пока сохранена. Все три версии могут применяться для сборки системы (buildworld) и портов; Актуализировано содержимое коллекции dports, которая теперь отстаёт от портов FreeBSD на 1-2 недели. Обеспечена поставка свежих выпусков Chromium. Реализована возможность сборки портов с использованием GCC 8; Улучшена поддержка асимметричных конфигураций NUMA (Non-Uniform Memory Access), в том числе обеспечена поддержка архитектуры Threadripper 2990WX. Планировщик задач теперь приоритезирует CPU-узлы с прямым доступом к памяти, а подсистема управления памятью нормализует очереди для узлов CPU без прямого доступа к памяти для увеличения эффективности кэширования; Продолжена работа по оптимизации производительности и качественной поддержке SMP. Основные оптимизации в новой версии в основном связаны с обработкой конфликтов при использовании совместных и эксклюзивных блокировок для сокращения передёргивания кэша при большом числе конкурирующих SMP-блокировок; В файловой системе HAMMER2 отмечается проведение работы по исправлению ошибок. HAMMER2 рекомендуется в качестве корневой файловой системы по умолчанию. Поддержка кластеризации пока недоступна. ФС HAMMER2 примечательна такими функциями, как отдельное монтирование снапшотов, доступные на запись снапшоты, квоты на уровне директорий, инкрементальное зеркалирование, поддержка различных алгоритмов сжатия данных, multi-master зеркалирование с распределением данных на несколько хостов; Драйвер DRM обновлён до состояния, соответствующего ядру Linux 4.7.10. Код драйвера radeon синхронизирован с ядром Linux 3.18; Обновлены драйверы для качественной работы DragonFly BSD внутри гостевых систем: if_vtnet (virtual Ethernet) и virtio_pci. Добавлены новые драйверы: ena для сетевых адаптеров Elastic Network Adapter, используемых компанией Amazon в инфраструктуре Elastic Compute Cloud (EC2) для организации связи между узлами EC2, и virtio_balloon для возвращения памяти гипервизору; В ядро и пакетный фильтр pf добавлена поддержка группировки сетевых интерфейсов; Добавлен драйвер mpr для SAS-контроллеров LSI Fusion-MPT 3/3.5; Обеспечена возможность установки без монитора с выводом только в консоль, привязанную к последовательному порту; В состав базовой системы добавлен DHCP-клиент dhcpcd, который может применяться вместо dhclient и rtsold для IPv4 и IPv6, а в будущих выпусках заменит их; Обновлена реализация драйвера tun, обеспечена возможность клонирования интерфейсов для сетевых туннелей любым пользователем; Существенно переработан образ начальной загрузки initrd, в состав которого добавлено более 70 утилит, полезных при восстановлении системы после сбоя; По умолчанию обеспечена установка пакета wpa_supplicant из dports для замены устаревшей версии, поставляемой в базовой системе. Поставка варианта wpa_supplicant в базовой системе продолжена для подстраховки от случайного удаления пакета.