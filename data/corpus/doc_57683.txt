Компания Cloudflare открыла код форка PgBouncer

Компания Cloudflare опубликовала исходные тексты собственной редакции прокси-сервера PgBouncer, применяемого для поддержания пула открытых соединений к СУБД PostgreSQL. PgBouncer позволяет наладить обращение приложений к PostgreSQL через уже установленные соединения для исключения постоянного выполнения ресурсоёмких повторяющихся операций открытия и закрытия соединений и снижения числа активных соединений к PostgreSQL. Предложенные в форке изменения нацелены на более строгую изоляцию ресурсов на уровне отдельных БД (нагрузка на CPU, потребление памяти и интенсивность ввода/вывода) и обеспечение ограничения числа соединений в привязке к пользователю и пулу соединений. Например, в опубликованном форке реализована возможность ограничения размера пула соединений для каждого пользователя, корректно работающая в конфигурациях с аутентификацией по имени хоста (HBA, host-based authentication). Кроме того, добавлена поддержка динамического изменения ограничений на число соединений от каждого пользователя, что позволяет более гибко урезать пользователей, отправляющих множество ресурсоёмких запросов.