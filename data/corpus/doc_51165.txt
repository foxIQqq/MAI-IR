Представлен первый предварительный выпуск Fedora CoreOS

Разработчики проекта Fedora объявили о начале тестирования первой предварительной версии новой редакции дистрибутива Fedora CoreOS, которая пришла на смену продуктам Fedora Atomic Host и CoreOS Container Linux в качестве единого решения для запуска окружений на базе изолированных контейнеров. Из CoreOS Container Linux, который перешёл в руки Red Hat после покупки компании CoreOS, в Fedora CoreOS перенесены инструментарий развёртывания (система конфигурирования на стадии начальной загрузки Ignition), механизм атомарных обновлений и общая философия продукта. Из Atomic Host перенесены технология работы с пакетами, поддержка спецификаций OCI (Open Container Initiative) и дополнительные механизмы изоляции контейнеров на базе SELinux. Начинка Fedora CoreOS формируется на основе репозиториев Fedora с применением rpm-ostree. В качестве поддерживаемых в Fedora CoreOS runtime для контейнеров заявлены Moby (Docker) и podman. Для оркестровки контейнеров поверх Fedora CoreOS планируется обеспечить поддержку Kubernetes. Проект нацелен на предоставление минимального окружения, атомарно обновляемого в автоматическом режиме без участия администратора и унифицированного для массового развёртывания серверных систем, предназначенных исключительно для запуска контейнеров. Fedora CoreOS содержит только минимальный набор компонентов, достаточный для выполнения изолированных контейнеров - ядро Linux, системный менеджер systemd и набор служебных сервисов для подключения по SSH, управления конфигурацией и установки обновлений. Системный раздел монтируется в режиме только для чтения и не изменяется в процессе работы. Конфигурация передаётся на этапе загрузки при помощи инструментария Ignition (альтернатива Cloud-Init). После того как система запущена, изменение конфигурации и начинки каталога /etc невозможно, допустимо лишь изменить профиль настроек и использовать его для замены окружения. В общем виде работа с системой напоминает работу с образами контейнеров, которые не обновляются по месту, а перестраиваются с нуля и запускаются заново. Системный образ неделим и формируется с использованием технологии OSTree (отдельные пакеты установить в таком окружении нельзя, можно лишь пересобрать весь образ системы, расширив его новыми пакетами при помощи инструментария rpm-ostree). Система обновлений основана на использовании двух системных разделов, один из которых является активным, а второй используется для копирования обновления, после установки обновления разделы меняются ролями. Предлагаются три независимых ветки Fedora CoreOS: testing со снапшотами на основе актуального релиза Fedora с обновлениями; stable - стабилизированная ветка, формируемая после двух недель тестирования ветки testing; next - снапшот находящегося в разработке будущего выпуска. Для всех трёх веток формируются обновления с устранением уязвимостей и серьёзных ошибок. На текущем этапе разработки в рамках предварительного выпуска пока формируется только ветка testing. Первый стабильный выпуск планируется выпустить через 6 месяцев. Поддержка дистрибутива CoreOS Container Linux будет прекращена через 6 месяцев после стабилизации Fedora CoreOS, а прекращение поддержки Fedora Atomic Host ожидается в конце ноября. После стабилизации проекта по умолчанию будет включена отправка телеметрии (в предварительной сборке телеметрия пока неактивна) с использованием сервиса fedora-coreos-pinger, который периодически накапливает и отправляет на серверы проекта Fedora не приводящую к идентификации информацию о системе, такую как номер версии ОС, облачная платформа тип установки. Среди передаваемых данных отсутствуют сведения, которые могут привести к идентификации. При разборе статистики используются лишь агрегированные сведения, позволяющие в общем виде судить о характере использования Fedora CoreOS. При желании пользователь может отключить отправку телеметрии или расширить передаваемые по умолчанию сведения.