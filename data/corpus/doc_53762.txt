Релиз Firefox 81

Состоялся релиз web-браузера Firefox 81. Кроме того, сформировано обновление ветки с длительным сроком поддержки 78.3.0. Формирование обновлений Firefox 68.x прекращено, пользователям данной ветки будет предложено автоматическое обновление до выпуска 78.3. На стадию бета-тестирования перешла ветка Firefox 82, релиз которой намечен на 20 октября. Основные новшества: Предложен новый интерфейс предпросмотра перед выводом на печать, который примечателен открытием в текущей вкладке с заменой имеющегося содержимого (старый интерфейс предпросмотра приводил к открытию нового окна), т.е. работает по аналогии с режимом читателя. Инструменты для настройки формата страницы и параметров вывода на печать перенесены из верхней части в правую панель, в которой также появились дополнительные опции, такие как управление включением печати заголовков и фона, а также возможность выбора принтера. Для включения или отключения нового интерфейса можно использовать настройку print.tab_modal.enabled. Предоставлена возможность приостановки воспроизведения звука и видео в Firefox при помощи специальных мультимедийных кнопок на клавиатуре или звуковой гарнитуре без кликов мышью. Управление воспроизведением также может осуществляться через отправку команд при помощи протокола MPRIS и срабатывает даже если экран заблокирован или активна другая программа. В дополнение к базовой, светлой и тёмной темам оформления добавлена новая тема Alpenglow с цветными кнопками, меню и окнами. Пользователям из США и Канады предоставлена возможность сохранения, управления и автозаполнения информации о кредитных картах, используемых при совершении покупок в интернет-магазинах. В других странах возможность будет активирована позднее. Для принудительного включения в about:config можно использовать настройки dom.payments.defaults.saveCreditCard, extensions.formautofill.creditCards и services.sync.engine.creditcards. Для пользователей из Австрии, Бельгии и Швейцарии, использующих версию с немецкой локализацией, на странице новой вкладки добавлена секция со статьями, рекомендованными сервисом Pocket (ранее подобные рекомендации были предложены для пользователей из США, Германиии и Великобритании). Связанная с подбором контента персонализация выполняется на стороне клиента и без передачи сведений о пользователе третьим лицам (в браузер загружается весь список рекомендованных ссылок на текущий день, который ранжируется на стороне пользователя, отталкиваясь от данных истории посещений). Для отключения рекомендованного Pocket контента предусмотрена настройка в конфигураторе (Firefox Home Content/Recommended by Pocket) и опция "browser.newtabpage.activity-stream.feeds.topsites" в about:config. Для мобильных устройств с GPU Adreno 5xx, за исключением Adreno 505 и 506, включён движок композитинга WebRender, который написан на языке Rust и позволяет добиться существенного увеличения скорости отрисовки и снижения нагрузки на CPU за счёт выноса на сторону GPU операций отрисовки содержимого страницы, которые реализованы через выполняемые в GPU шейдеры. Предложены новые пиктограммы для режима просмотра видео Картинка в Картинке (Picture-in-Picture). Обеспечено автоматическое включение панели закладок с наиболее важными сайтами после импорта внешних закладок в Firefox. Добавлена возможность просмотра в Firefox ранее загруженных файлов xml, svg и webp. Решена проблема со сбросом языка по умолчанию на английский после обновления браузеров с установленным языковым пакетом. В атрибуте sandbox элемента <iframe> добавлена поддержка флага "allow-downloads" для блокирования автоматических загрузок, инициируемых из iframe. Добавлена поддержка нестандартных HTTP-заголовков Content-Disposition с именами файлов с пробелами, не заключёнными в кавычки. Для людей, имеющих проблемы со зрением, улучшена поддержка экранных ридеров и управление воспроизведением содержимого в HTML5-тегах audio/video. В JavaScript-отладчике реализовано корректное определение файлов на языке TypeScript и выделение данных файлов из общего списка. В отладчике предоставлена возможность остановки на первой операции в новом скрипте, что может оказаться полезным для отладки побочные эффектов при выполнении скрипта или срабатывании таймеров. Обеспечен разбор и построение дерева JSON-ответов, в которых используются символы для защиты от XSSI (Cross-Site Script Inclusion), такие как ")]}'". В инструментах для web-разработчиков повышена точность режима симуляции просмотра страницы людьми с отклонениями цветовосприятия, такими как дальтонизм. Кроме новшеств и исправления ошибок в Firefox 81 устранено 10 уязвимостей, из которых 7 помечены как опасные. 6 уязвимостей (собраны под CVE-2020-15673 и CVE-2020-15674) вызваны проблемами работы с памятью, такими как переполнения буферов и обращение к уже освобождённым областям памяти. Потенциально данные проблемы способны привести к выполнению кода злоумышленника при открытии специально оформленных страниц.