Эмуляция сборки Red Hat Enterprise Linux на базе Fedora Rawhide

Разработчики Fedora Linux объявили о формировании SIG-группы (Special Interest Group) для сопровождения проекта ELN (Enterprise Linux Next), нацеленного на предоставление непрерывно формируемых сборок Red Hat Enterprise Linux на базе репозитория Fedora Rawhide. Процесс разработки новых веток RHEL подразумевает создание раз в три года ответвления от Fedorа, которое некоторое время развивается отдельно, до его доведения до конечного продукта. ELN позволит эмулировать сборки Red Hat Enterprise Linux на основе среза из репозитория Fedora Rawhide, созданного в произвольный момент. До сих пор после ответвления от Fedora подготовка RHEL велась за закрытыми дверями. При помощи CentOS Stream компания Red Hat намерена сделать процесс разработки RHEL более открытым и прозрачным для сообщества. ELN нацелен на то, чтобы сделать стадию ответвления CentOS Stream/RHEL Next от Fedora более предсказуемой благодаря применению методов, близких к системам непрерывной интеграции. ELN предоставит отдельный buildroot и процесс сборки, позволяющий выполнить пересборку репозитория Fedora Rawhide так, как если бы он был RHEL. Успешные пересборки ELN планируется синхронизировать с экспериментальными сборками RHEL Next, добавляя в пакеты дополнительные изменения, которые недопустимы в Fedora (например, добавление торговых марок). При этом разработчики будут стараться минимизировать отличия, разделяя их на уровне условных блоков в spec-файлах. При помощи ELN сопровождающие пакеты Fedora получат возможность на ранней стадии отлавливать и тестировать изменения, которые могут потенциально отразиться на разработке RHEL. В том числе можно будет проверять намеченные изменения условных блоков в spec-файлах, т.е. собирать пакет со срабатыванием условий с переменной "%{rhel}", установленной в значение "9" (переменная "%{fedora}" ELN будет возвращать "false"), симулируя сборку пакета для будущей ветки RHEL. ELN также позволит экспериментировать с воплощением новых идей, не затрагивая основные сборки Fedora. В том числе ELN можно использовать для проверки пакетов Fedora в условиях применения новых флагов компилятора, отключения экспериментальных или неподходящих для RHEL возможностей, изменения требований к аппаратным архитектурам и задействования дополнительных расширений CPU. Например, не меняя штатный процесс сборки пакетов в Fedora параллельно можно протестировать сборку с включённой поддержкой инструкций AVX2, после чего оценить влияние производительности от применения AVX2 в пакетах и принять решение о реализации изменения в основном дистрибутиве Fedora.