Компания Canonical приняла решение перейти на Mir по умолчанию в Ubuntu 13.10

Оливер Райс (Oliver Ries), занимающий пост директора по развитию продуктов Unity и Mir в компании Canonical, объявил о переходе Ubuntu на использование по умолчанию дисплейного сервера Mir начиная со следующего выпуска Ubuntu 13.10, намеченного на октябрь нынешнего года. Столь стремительное продвижение Mir в дистрибутив объясняется намерением поставки графической среды на основе Mir в LTS-версии Ubuntu 14.04, что требует дополнительной стабилизации технологии как минимум в одном промежуточном выпуске дистрибутива. В ситуации неготовности Mir к моменту выхода Ubuntu 13.10, внедрение данной технологии в десктоп-вариант дистрибутива пришлось бы отложить как минимум на год, до выпуска Ubuntu 14.10 или решиться на выпуск сырого LTS-релиза, что неприемлемо для реализации планов по продвижению редакции Ubuntu Touch, ориентированную на использование на планшетах и смартфонах. Первые телефоны на базе Ubuntu Touch ожидаются уже в начале следующего года, что подстёгивает Canonical к переходу на единую кодовую базу, формирующую окружения для различных классов устройств (от смартфонов до ПК), широкому диапазону экранных разрешений и систем ввода (клавиатура/мышь, сенсорный экран, пульт ДУ). Разработка Mir продвигается достаточно интенсивно, в том числе Canonical постоянно расширяет штат вовлечённых в развитие данного проекта сотрудников, что даёт основание считать, что Mir будет доведён до полностью работоспособного и стабильного состояния в ближайшие месяцы. Более того, по словам Оливера Райса в настоящее время Mir уже соответствует критериям качества и производительности, предъявляемым к компонентам, включаемым в состав релиза. В настоящий момент для тестирования доступен прототип оболочки Unity 8, работающий поверх Mir, а также реализована возможность запуска всех популярных десктоп-окружений при помощи прослойки XMir. Инструкцию по запуску Mir в текущих тестовых сборках Ubuntu 13.10 можно найти в данной заметке. Для того чтобы решить задачу тестирования Mir перед включением в релиз с длительным сроком поддержки (LTS) и при этом не нарушить работоспособность системы, принято компромиссное решение - Mir будет использоваться по умолчанию, но графическое окружение Unity по прежнему будет использовать X-сервер (в дистрибутиве будет поставляться по умолчанию Unity 7). Взаимодействие X.Org-сервера и Mir будет построено на основе прослойки XMir, обеспечивающей трансляцию ввода и вывода между Mir и X-сервером (по сути XMir выступает в роли замены драйверов ввода и вывода). Кроме того, будет предусмотрен специальный fallback-режим, позволяющий организовать работу без задействования Mir с использованием обычных драйверов X.Org. Fallback-режим будет применяться в случае отсутствия поддержки используемой графической карты в Mir или при установке проприетарных драйверов NVIDIA и AMD. Несмотря на то, что поддержка Mir в проприетарных драйверах ещё не реализована, компании NVIDIA и AMD намерены обеспечить подобную поддержку для выпуска Ubuntu 14.04. В Ubuntu 14.04 LTS будет по прежнему использоваться XMir, но поддержка fallback-режима будет прекращена. Начиная с Ubuntu 14.10 дистрибутив полностью перейдёт на графический стек на базе Mir и Unity 8, без использования дополнительной прослойки. Что касается развиваемых сообществом официальных редакций Ubuntu, таких как Kubuntu, Xubuntu, Lubuntu, Ubuntu GNOME и т.п., то их работу также планируется организовать на основе единого с Ubuntu графического стека на базе Mir и XMir. Поддержка XMir будет осуществляться в течение 5 лет в рамках LTS-релиза 14.04. Указанное утверждение представителя Canonical расходится с заявлением лидера проекта Kubuntu, который указал на то, что данная редакция не будет использовать Mir и XMir, а делает ставку на Wayland. Дополнение от 2 октября: План использования XMir по умолчанию в Ubuntu 13.10 отменён.