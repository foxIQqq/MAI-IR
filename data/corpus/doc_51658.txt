Изменение лицензии на Qt Wayland Compositor и включение сбора телеметрии в Qt Creator

Компания Qt Group объявила о смене лицензии на компоненты Qt Wayland Compositor, Qt Application Manager и Qt PDF, которые начиная с выпуска Qt 5.14 начнут поставляться под лицензией GPLv3 вместо LGPLv3. Иными словами, связывание с данными компонентами теперь будет требовать открытия исходных текстов программ под лицензиями, совместимыми с GPLv3, или покупки коммерческой лицензии (ранее применение LGPLv3 допускало связывание с проприетарным кодом). Qt Wayland Compositor и Qt Application Manager в основном востребованы при создании решений для встраиваемых и мобильных устройств, а Qt PDF ранее был доступен только в форме тестовых выпусков. Следует отметить, что под GPLv3 уже поставляется ряд дополнительных модулей и платформ, среди которых: Qt Charts Qt CoAP Qt Data Visualization Qt Device Utilities Qt KNX Qt Lottie Animation Qt MQTT Qt Network Authentication Qt Quick WebGL Qt Virtual Keyboard Qt for WebAssembly Другим заслуживающим внимания изменением, является включение опции для отправки телеметрии в Qt Creator. В качестве причины включения телеметрии упоминается желание понять как используются продукты Qt для последующего улучшения их качества. Заявлено, что информация обрабатывается в обезличенном виде без идентификации конкретных пользователей, но с применением UUID для анонимного разделения данных пользователей (для генерации применяется Qt-класс QUuid). В качестве идентификатора также потенциально может использоваться IP-адрес, с которого отправляется статистика, но в соглашении об обработке частной информации указано, что компания не сохраняет привязку к IP-адресам. Компонент для отправки статистики включён в состав сегодняшнего выпуска Qt Creator 4.10.1. Связанная с телеметрией функциональность реализована через плагин "telemetry", который активируется, если пользователь не откажется от сбора данных во время установки (в процессе установки выдаётся предупреждение, в котором по умолчанию выделен пункт отправки телеметрии). Плагин основан на фреймворке KUserFeedback, развиваемом проектом KDE. Через секцию "Qt Creator Telemetry" в настройках пользователь может контролировать какие именно данные передаются на внешний сервер. Предусмотрено пять уровней детализации телеметрии: Базовая системная информация (данные о версиях Qt и Qt Creator, компилятора и плагина QPA); Базовая статистика по использованию (дополнительно передаются сведения о частоте запусков Qt Creator и продолжительности работы в программе); Детализированная системная информация (параметры экрана, данные об OpenGL и графической карте); Детализированная статистика по использованию (сведения о лицензии, использовании Qt Quick Designer, локали, системе сборки, применении различных режимов Qt Creator); Отключение сбора данных. В настройках также можно выборочно управлять включением каждого параметра статистики и просматривать итоговый JSON-документ, отправляемый на внешний сервер. В текущем выпуске по умолчанию выбран режим отключения сбора данных, но в будущем планируется активировать режим детализированной статистики по использованию. Данные передаются по шифрованному каналу связи. Серверный обработчик выполняется в облаке Amazon (хранилище статистики размещено на одном бэкенде с online-установщиком). Дополнительно можно отметить начало тестирования первой бета-версии Qt 5.14. Релиз ожидается 26 ноября. Выпуск Qt 5.14 примечателен включением предварительной поддержки некоторых возможностей, запланированных для Qt 6. Например, добавлена предварительная реализация нового Qt Quick с поддержкой 3D. Новый API рендеринга сцены позволит запускать приложения на базе Qt Quick поверх Vulkan, Metal или Direct3D 11 (без жесткой привязки к OpenGL), даст возможность использовать QML для определения 3D-элементов в интерфейсе без задействования формата UIP, а также решит такие проблемы, как большие накладные расходы при интеграции QML с контентом из Qt 3D и невозможность синхронизации анимации и преобразований на уровне отдельных кадров между 2D и 3D.