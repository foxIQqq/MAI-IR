Выпуск платформы для организации совместной работы Nextcloud Hub 21

Представлен выпуск платформы Nextcloud Hub 21, предоставляющей самодостаточное решение для организации совместной работы сотрудников предприятий и команд, развивающих различные проекты. Одновременно опубликована лежащая в основе Nextcloud Hub облачная платформа Nextcloud 21, позволяющая развернуть облачное хранилище с поддержкой синхронизации и обмена данными, предоставляющее возможность просмотра и редактирования данных с любого устройства в любой точке сети (при помощи web-интерфейса или WebDAV). Сервер Nextcloud можно развернуть на любом хостинге, поддерживающем выполнение PHP-скриптов и предоставляющем доступ к SQLite, MariaDB/MySQL или PostgreSQL. Исходные тексты Nextcloud распространяются под лицензией AGPL. По решаемым задачам Nextcloud Hub напоминает Google Docs и Microsoft 365, но позволяет развернуть полностью контролируемую инфраструктуру совместной работы, функционирующую на своих серверах и не привязанную к внешним облачным сервисам. Nextcloud Hub объединяет в единую среду несколько открытых приложений-надстроек над облачной платформой Nextcloud, позволяющих совместно работать с офисными документами, файлами и информацией для планирования задач и мероприятий. Платформа также включает надстройки для доступа к электронной почте, обмена сообщениями, организации видеоконференций и чатов. Аутентификация пользователей может производиться как по локальной базе, так и через интеграцию с LDAP / Active Directory, Kerberos, IMAP и Shibboleth / SAML 2.0, в том числе с применением двухфакторной аутентификации, SSO (Single-sign-on) и привязки новых систем к учётной записи по QR-коду. Версионный контроль изменений позволяет отслеживать изменения в файлах, комментариях, правилах совместного доступа и тегах. Основные компоненты платформы Nextcloud Hub: Files - организация хранения, синхронизации, совместного доступа и обмена файлами. Доступ может быть осуществлён как через Web, так и при помощи клиентского ПО для настольных и мобильных систем. Предоставляются такие расширенные возможности, как полнотекстовый поиск, прикрепление файлов при отправке комментариев, выборочный контроль доступа, создание защищённых паролем ссылок для загрузки, интеграция с внешними хранилищами (FTP, CIFS/SMB, SharePoint, NFS, Amazon S3, Google Drive, Dropbox, и т.п.). Flow - оптимизирует бизнес-процессы через автоматизацию выполнения типовых работ, таких как преобразование документов в PDF, отправка сообщений в чаты при загрузке новых файлов в определённые каталоги, автоматическое назначение тегов. Возможно создание собственных обработчиков, выполняющих действия в привязке к определённым событиям. Встроенные средства совместного редактирования документов, электронных таблиц и презентаций на базе пакета ONLYOFFICE, поддерживающего форматы Microsoft Office. Обеспечена полная интеграция ONLYOFFICE c остальными компонентами платформы, например, несколько участников могут одновременно редактировать один документ, параллельно обсуждая изменения в видеочате и оставляя заметки. Photos - галерея изображений, упрощающая поиск, обмен и навигацию по совместной коллекции фотографий и изображений. Поддерживается ранжирование фотографий по времени, месту, тегам и частоте просмотра. Calendar - календарь-планировщик, позволяющий координировать проведение встреч, планировать чаты и видеоконференции. Предоставляется интеграция с инструментами групповой работы на базе iOS, Android, macOS, Windows, Linux, Outlook и Thunderbird. Поддерживается загрузка событий с внешних ресурсов, поддерживающих протокол WebCal. Mail - совместная адресная книга и web-интерфейс для работы с электронной почтой. Возможна привязка нескольких учётных записей к одному inbox. Поддерживается шифрование писем и прикрепление цифровых подписей на базе OpenPGP. Возможна синхронизация адресной книги при помощи CalDAV. Talk - система обмена сообщениями и проведения web-конференций (чат, аудио и видео). Имеется поддержка групп, возможность предоставления доступа к содержимому экрана и поддержка SIP-шлюзов для интеграции с обычной телефонией. Ключевые новшества Nextcloud Hub 21: Предложен новый высокопроизводительный бэкенд для подсистемы хранения и совместного доступа к файлам (Nextcloud Files), позволяющий существенного снизить нагрузку от периодического опроса состояния настольными клиентами и web-интерфейсом. Добавлен поддерживающий прямое соединение с клиентом механизм доставки уведомлений об изменении файлов, появлении комментариев, поступлении вызовов, сообщений в чате и других связанных с хранилищем событиях. Предложенная система серверных уведомлений позволила увеличить период периодического опроса состояния с 30 секунд до 5 минут и на 90% снизить число соединений между серверов и клиентом. Код нового бэкенда написан на языке Rust и предложен в качестве опции. Проведены оптимизации производительности, нацеленные на сокращение времени загрузки страниц, ускорение выполнения запросов к СУБД и снижение нагрузки на сервер. Оптимизирован доступ к хранилищам объектов и ускорена работа с группами в LDAP. В некоторых ситуациях удалось повысить отзывчивость интерфейса до двух раз. Проведена оптимизация унифицированного поиска. Обеспечена совместимость с интерпретатором PHP 8, в котором появился JIT-компилятор. Реализованные в серверных компонентах оптимизации, связанные с кэшированием, работой с БД и организацией хранения, в сочетании с новым бэкендом позволили до 10 раз увеличить число обслуживаемых клиентов. Добавлено новое приложение для совместной работы Whiteboard, которое позволяет нескольким пользователям рисовать фигуры, писать текст, оставлять заметки, загружать изображения и создавать презентации. Создаваемые в Whiteboard файлы сохраняются вместе с обычными файлами, но доступны для совместного редактирования. При совместном редактировании текста в Nextcloud Text реализована возможность выделения цветами изменений, внесённых разными авторами. Добавлена поддержка шаблонов документов, позволяющих ускорить создание часто востребованных документов. В качестве примеров предложены шаблоны отчётов о проведении встреч и макеты приглашений. Шаблоны могут создаваться для текстовых документов, офисных документов, электронных таблиц и презентаций. Заметно расширены возможности Nextcloud Talk, приложения для чата и видеоконференций: Добавлена поддержка индикаторов состояния, позволяющих оценить просмотрели ли отправленное сообщение все участники чата. Реализованы настройки видимости чата, которые можно использовать для предоставления доступа в том числе гостевым участникам без необходимости добавления в чат. В конференциях добавлена кнопка "поднять руку" для привлечения внимания других участников, например, когда есть намерение задать вопрос или что-то уточнить. Добавлен режим рации ("Push to talk") при котором микрофон включается только во время удержания клавиши пробел. Реализована возможность добавления описаний к группам чатов. Улучшен интерфейс совершения вызова: реализованы сворачиваемая панель управления вызовом и режим предоставления доступа ко всему экрану. Снижена нагрузка на CPU. Увеличен размер эскизов изображений в чате. Добавлена поддержка анимированных GIF. Упрощён доступ к настройкам. Переработаны модули для интеграции с внешними сервисами, такими как IRC, Slack и MS Teams. В почтовом клиенте Nextcloud Mail добавлена поддержка режима drag’n’drop и возможность создания настраиваемых специальных папок. Улучшен режим нитевидного просмотра переписки. Улучшена обработка вложений и добавлена возможность задания администратором ограничения на размер вложений. В адресную книгу добавлена возможность автоматического извлечения аватаров из социальных сетей (например, при помощи сервиса gravatar).