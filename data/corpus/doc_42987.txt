Фонд Wikimedia тестирует собственный картографический сервис

Фонд Wikimedia объявил о начале бета-тестирования собственного картографического сервиса maps.wikimedia.org, который со временем будет интегрирован с Wikipedia и Wikidata. В будущем планируется добавить возможность встраивания интерактивных карт в статьи на Wikipedia и обеспечить средства встраивания элементов карт на сторонних сайтах. Для построения карт сервис использует картографическую базу данных, подготовленную проектом OpenStreetMap и может подключать дополнительные слои с произвольной информацией об объектах. Для работы серверной части maps.wikimedia.org разработана собственная платформа Kartotherian, обеспечивающая выдачу кусочков (tile) просматриваемой карты в векторном (pbf) или растровом (png) формате. Kartotherian также может формировать целостное изображение карты для указанного местоположения в нужном разрешении, размере и с заданным масштабированием (пример). Мозаичная компоновка карты из отдельных элементов осуществляется при помощи распределённого бэкенда Tilerator. Для хранения данных применяется СУБД Apache Cassandra. Для построения интерактивной карты, отображающейся как в стационарных, так и в мобильных браузерах, применяется свободная JavaScript-библиотека Leaflet. Данные обрабатываются в векторном виде и преобразуются в статические изображения на последнем этапе (сервер пока отдаёт растр, но упоминается идея организации отрисовки из вектора на стороне клиента). Основным разработчиком сервиса является Юрий Астрахан. Код серверных компонентов распространяется под лицензий Apache 2.0. Основной причиной создания собственного картографического сервера является необходимость обеспечения приватности пользователей - в случае встраивания в Wikipedia карт, построенных с использованием сторонних картографических служб, данные службы смогут получить информацию о посетителях, что недопустимо. Поэтому на страницы Wikipedia допускается встраивание только материалов с собственных ресурсов. Собственный сервер также позволяет реализовать свои обёртки над имеющимися в свободном доступе картографическими данными.