Из-за проблем с лицензированием из ядра Linux будет удалён код эмуляции FPU для платформы ARM

Рассел Кинг (Russell King), отвечающий за поддержку архитектуры ARM в ядре Linux, объявил о решении об удалении из состава ядра реализации эмулятора операций с плавающей запятой nwfpe (NetWinder Floating Point Emulator) и кода эмуляции векторных операций VFP (Vector Floating Point), в связи со всплывшим лицензионным конфликтом. Причиной удаления является несовместимость лицензии, под которой поставляется библиотека softfloat, послужившая основой для кода эмуляции операций с плавающей запятой в ядре Linux, с лицензией GPLv2. В процессе аудита лицензионной чистоты было выявлено, что лицензия на библиотеку содержит пункт о возмещении ущерба, который в соответствии с критериями Фонда СПО относится к категории дополнительных ограничений, что делает данную лицензию несовместимой с шестым пунктом лицензии GPLv2. Удаление указанных подсистем отразится на невозможности использования процессоров ARMv4 и ARMv5, на которых без nwfpe будет невозможен запуск компонентов пространства пользователя. Для более новых процессоров ARM удаление nwfpe может сказаться в замедлении выполнения операций с плавающей точкой (проблема не отразится на SoC OMAP, но скажется на процессорах Qualcomm). Тест по использованию Debian armhf на CPU Cortex-A15 без наличия поддержки эмуляции VFP не выявил заметных проблем. В настоящее время рассматривается несколько вариантов выхода из сложившейся ситуации. Например, возможно удастся убедить автора softfloat в необходимости удаления проблемного пункта лицензии. Также не исключается возможность возвращения в ядро устаревшего альтернативного эмулятора FASTFPE, имеющего ряд функциональных ограничений, или написание с нуля замены для библиотеки softfloat.