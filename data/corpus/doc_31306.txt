В Debian 7 "Wheezy" будет реализована поддержка многоархитектурных установок

На проходящей с 24 по 30 июля конференции DebConf11, разработчики проекта Debian объявили о плане по интеграции в грядущий релиз Debian 7 "Wheezy", который ожидается в 2013 году, поддержки многоархитектурных установок ("Multiarch"). Суть новшества состоит в радикальной переработке организации иерархии файловой системы, нацеленной на предоставление возможности размещения в системе заголовочных файлов и библиотек, параллельно доступных для нескольких аппаратных архитектур. В будущем новая концепция позволит установить в одну систему несколько сборок одной программы для разных архитектур, при этом эти сборки программ будут сосуществовать между собой не мешая друг-другу. С практической точки зрения, самым востребованным применением Multiarch станет обеспечение запуска i386-сборок программ в системе на базе архитектуры amd64. Другим применением может стать упрощение использования эмуляторов, таких как qemu, запускаемые в которых приложения можно устанавливать в основную систему, без создания дополнительных chroot-окружений. По словам Стива Лангашека (Steve Langasek), основного разработчика проекта, Multiarch является тем значительным улучшением, которое позволит воплотить в жизнь идею о превращении Debian в действительно универсальную операционную систему. Представленная технология не только позволит упростить процесс кросс-сборки пакетов для различных архитектур, но и улучшит поддержку выполнения 32-разрядных приложений в 64-разрядных установках дистрибутива. Более того, в будущем планируется реализация возможности по live-миграции 32-разрядных окружений в 64-разрядное представление, без переустановки дистрибутива. В настоящее время поддержка Multiarch уже реализована для репозитория Debian Unstable. Вместо применяемого в Red Hat и SUSE традиционного и описанного в стандарте LSB подхода, заключающегося в создании двух каталогов для 32- и 64-разрядных библиотек (/lib и /lib64), при использовании Multiarch используется более универсальный метод комбинирования библиотек для различных архитектур в рамках одного уровня иерархии файловой системы: библиотеки размещаются в директориях /"prefix"/lib/"target"/ (например, /usr/lib/i386-linux-gnu/ или /usr/lib/powerpc-linux-gnu/). В настоящий момент проект предусматривает только параллельную установку многоархитектурных библиотек и заголовочных файлов. Возможность одновременной установки бинарных файлов для нескольких архитектур относится к планам на будущее (т.е. пока можно установить только пакет для одной из архитектур, для которой в систему установлены соответствующие библиотеки).