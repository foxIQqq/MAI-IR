Компания Google открыла код движка обработки запросов Supersonic

Компания Google объявила об открытии кода проекта Supersonic Query Engine, в рамках которого создана библиотека для создания бэкендов для работы с базами данных, хранящими информацию в виде наборов столбцов (Column oriented DBMS), в которых данные размещаются с объединением записей на уровне столбцов (1,2,3; Smith,Jones,Johnson), а не на уровне строк (1,Smith; 2,Jones; 3,Johnson). Код библиотеки написан на языке C++ и открыт под лицензией Apache. Отличительной особенностью Supersonic является изначальная ориентация на обеспечение максимальной производительности обработки запросов на современных многоядерных CPU. Для достижения высокой производительности используется активное кэширование и низкоуровневые оптимизации машинного кода (например, задействованы инструкции SIMD и различные техники распараллеливания выполнения). В качестве областей применения называется выполнение различных аналитических запросов над большими массивами данных (Data Warehouse). Поддерживается широкий спектр стандартных операций над столбцами (вычисление, фильтрация, сортировка, объединение хэшей, агрегатные функции. Результат формируется путем построения цепочки вызовов операторов обработки данных, в несколько стадий уточняющих выборку (см. изображение ниже). Для каждого состояния данных можно применять специализированные выражения, при помощи которых можно производить математические вычисления, логическое ветвление, работу со временем, обработку строковых данных и другие манипуляции. В настоящее время Supersonic не предоставляет какое-либо фиксированное хранилище данных и манипулирует только записанными в буфер данными (данные определяются через две структуры: схема полей таблицы и список значений). Возможно дополнение и навигация по массиву данных с использованием курсоров. Перед применением операций на основе имеющихся данных формируется представление (view), в дальнейшем указанное представление передаётся в качестве аргумента в функции-обработчики. В будущем планируется реализовать встроенный формат для постоянного хранилища, который существенно расширит область применения проекта.