Facebook представил открытую платформу для создания сетевых коммутаторов

Facebook представил проект Wedge, в рамках которого развивается открытый сетевой коммутатор, рассчитанный на обслуживание серверной стойки (top-of-rack). Одновременно представлена основанная на ядре Linux операционная система FBOSS, предназначенная для использования в коммутаторах. Благодаря отличающемуся от традиционных парадигм подходу к комбинации компонентов программного и аппаратного обеспечения для организации работы сетевого стека, в новом коммутаторе удалось достигнуть нового уровня прозрачности, автоматизации и управления в работе сети. При разработке был учтён опыт использования тысяч серверов в центре обработки данных Facebook. Рабочий 40-гигабитный прототип коммутатора на базе платформ Wedge и FBOSS, включающий 16 слотов, расширяемых до 32, уже тестируются в сети Facebook. После завершения тестирования, связанные с проектом наработки будут опубликованы в рамках инициативы Open Compute, нацеленной на создание открытых спецификаций для оснащения датацентров, позволяющих добиться максимальной масштабируемости, гибкости и эффективности работы инфраструктуры при минимальных затратах. Развиваемые в рамках проекта Open Compute спецификации распространяются в соответствии с условиями Open Web Foundation, подразумевающими полную передачу в безвозмездное пользование всей связанной с разработкой интеллектуальной собственности и патентов. CAD-файлы с дизайном оборудования публикуются под лицензией Creative Commons Attribution 3.0. Ключевыми особенностями аппаратной начинки Wedge является приближение гибкости и производительности коммутатора к современным серверным платформам. Если традиционные коммутаторы обычно поставляются в форме монолитных систем и снабжены нестандартными управляющими интерфейсами, то Wedge построен на архитектуре модульных микросерверов, уже применяемой в серверных системах Facebook. Архитектура Wedge позволяет использовать в продукте широкий диапазон микросерверов, удовлетворяющих открытым спецификациям и не привязанным к отдельным производителям. Например, в тестируемом прототипе использованы штатные микросерверы, уже используемые в других элементах инфраструктуры. При этом задействование устройств открытого форм-фактора позволяет создавать конфигурации на базе разных процессоров, включая процессоры Intel, AMD и ARM. Следствием применения типовых серверных модулей является возможность обслуживания коммутаторов через существующие распределённые системы управления c использованием типового Linux-окружения. Таким образом установка и обновление ПО, мониторинг и управление коммутаторами, может осуществляться бок о бок с серверами и системами хранения, позволяя инженерам сосредоточится на развитии новых возможности, снизив рутину по поддержанию существующих систем. Структура программной платформы FBOSS нацелена на возможность применения в коммутаторах библиотек и подсистем, уже используемых для управления серверами, в том числе средств начального развёртывания, вывода из эксплуатации, применения обновлений, приостановки работы на время обслуживания без потери клиентских соединений. В платформе также применяется единый уровень абстракции на базе Apache Thrift, скрывающий особенности API применяемых в коммутаторах ASIC и позволяющий рассматривать коммутатор как один из типовых сервисов Facebook. FBOSS позволяет использовать гибридную модель управления коммутаторами, сочетающую централизованные и распределённые методы управления, позволяя довести уровень утилизации доступных сетевых ресурсов до 90% без возникновения заторов в обработке пакетов, ускорить устранение проблем и восстановление после сбоев, оперативно реагировать на внезапные изменения характера глобального трафика. С FBOSS также используются существующие инструменты мониторинга, позволяющие контролировать изменения производительности и параметры системы, такие как температура и работа кулеров.