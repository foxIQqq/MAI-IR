Релиз KDE 4.11

После шести месяцев разработки увидел свет релиз десктоп-окружения KDE SC 4.11. Выпуск KDE Software Compilation 4.11 состоит из трёх составных частей: базовой платформы, набора дополнительных приложений и десктопа Plasma. Бинарные сборки KDE SC 4.11 в скором времени будут подготовлены для Kubuntu, Fedora, FreeBSD, openSUSE, ArchLinux и ROSA. В рамках выпуска KDE 4.11 представлено последнее значительное обновление рабочего стола Plasma Workspaces для ветки 4.x, в дальнейшем в составе KDE 4.x будут выпускаться только корректирующие обновления, а все усилия разработчиков будут сосредоточены на разработке оболочки Plasma Workspaces 2, которая войдёт в состав KDE 5, основанный на Qt5 и KDE Frameworks 5. KDE Plasma Workspaces 4.11 рассматривается как стабильный выпуск с длительным сроком поддержки, обновления для которого будут выпускаться на протяжении двух лет. Приложения, библиотеки и runtime-компоненты KDE 4 продолжат своё развитие. В дальнейшем ожидается публикация релизов KDE SC 4.12 и 4.13, но оболочка Plasma в данных версиях будет оставаться неизменной. Из добавленных в KDE 4.11 улучшений можно отметить: Интеграция в оконный менеджер KWin экспериментальной поддержки запуска полноценного десктопа в окружении Wayland. Работа организована через использование бэкенда к KWin для трансляции ввода и вывода через композитный сервер Weston. Реализация пока имеет характер начального прототипа и требует для запуска ручных манипуляций в командной строке. При запуске поверх Wayland работа окружения организована с использованием X-сервера Xvfb, который непосредственно не занимается выводом на экран и используется как промежуточное звено, гарантирующее полную совместимость со всеми приложениями. KWin осуществляет рендеринг не в окно X, а на поверхность Wayland. Функциональность работы KWin в роли полноценного композитного сервера Wayland пока не готова; Улучшение поддержки OpenGL в KWin, в том числе добавление возможности создания базового контекста OpenGL 3.1, поддержка OpenGL ES 3.0 и задействование расширения GL_ARB_robustness для повышения ошибкоустойчивости. В новый выпуск KWin также внесены оптимизации, позволившие снизить нагрузку на CPU, сократить потребление памяти при работе бэкенда OpenGL, повысить гладкость и скорость управления окнами. Реализация многих десктоп-эффектов переписана с использованием JavaScript, что позволило упростить сопровождение кода. Обеспечена поддержка сборки KWin в режиме C++11; Интеграция KScreen, новой системы упрощённой настройки многомониторных конфигураций для KDE. KScreen отличается кардинальным упрощением процесса настройки параметров размещения десктопа на нескольких мониторах, позволяя в наглядном режиме на лету менять настройки без использования классических предварительных конфигураторов. KScreen, насколько это возможно, автоматизирует процесс настройки - достаточно подключить второй монитор и пространство рабочего стола автоматически будет расширено вправо на новый экран. Для каждой выбранной конфигурации по умолчанию будет выбрано максимально возможное экранное разрешение. При закрытии крышки ноутбука, если к нему подключён внешний монитор, экран этого монитора автоматически становится первичным, а экран ноутбука временно отключается. После отключения внешнего экрана настройки запоминаются и при дальнейшем подключении экрана используется ранее выбранный режим; Продолжена работа по переводу компонентов рабочего стола Plasma на использование технологии декларативного описания интерфейса Qt Quick. Компоненты на базе Qt Quick позволяют добиться большой гибкости в изменении внешнего оформления - интерфейс полностью отделён от кода и легко подстраивается под различные классы устройств. Работа виджетов на основе Qt Quick ничем не отличаются от виджетов, созданных с использованием классического API Plasma, но виджеты на Qt Quick имеют более привлекательное визуальное оформление и лучше поддерживают работу на устройствах с сенсорными экранами. На базе Qt Quick подготовлен набор дополнений Plasma Quick, которые позволяют обеспечить более плотную интеграцию с системой и предоставляют более функциональные варианты приложений и компонентов Plasma. Переработан виджет контроля состояния заряда аккумулятора, который теперь показывает заряд всех аккумуляторов, используемых в системе, в том числе аккумуляторов периферийных устройтсв, таких как беспроводная клавиатура и мышь. Кроме того, новый вариант точнее отражает статус заряда на пиктограмме, выводит предупреждение при низком уровне заряда и позволяет изменять яркость экрана с помощью горячих клавиш. С использованием Qt Quick с нуля переписан виджет с реализацией менеджера задач (Task Manager). Новый вариант апплета, сохранив основные внешние черты и возможности прошлой версии, стал более гибким и удобным в использовании. Устранено несколько давно мешавших работе проблем, налажен процесс ручной перегруппировки элементов. Во сплывающих списках добавлена поддержка прокрутки колесом мыши. Реализована более компактная компоновка кнопок запуска приложений и информации об уже запущенных задачах, оптимальнее использующая доступное свободное пространство; В меню Kickoff обеспечено отдельное отображение приложений, установленных в течение нескольких последних дней; Во всплывающий диалог вывода уведомлений добавлена кнопка для настройки параметров для разных типов уведомлений; Ускорение работы системы индексации в семантическом движке Nepomuk. Пересмотр метода индексации позволил добиться увеличения скорости чтения данных в 6 раз, по сравнению с прошлыми выпусками KDE 4. Процесс индексации разделён на две стадии: В первую очередь производится получение общей информации, такой как тип и имя файла, которая сразу становится доступна в движке. На втором этапе выполняется загрузка вторичных данных, требующих дополнительного разбора контента, таких как теги MP3 и информация об авторе. Кроме того, обеспечена поддержка индексации документов в формате odt и docx, расширены средства резервного копирования и восстановления метаданных Nepomuk, переписан на QML интерфейс управления Nepomuk; Многочисленные улучшения в менеджере персональной информации Kontact, в том числе увеличение скорости индексации данных PIM, новый редактор оформления вывода заголовков сообщений, поддержка изменения на лету размера встраиваемых в сообщения изображений, устранение проблем при взаимодействии с Google Calendar, поддержка импорта настроек и данных из почтового клиента Trojita и большое число мелких исправлений. В KMail добавлены средства для автоматического выявления типовых приёмов фишинга и вывода предупреждения о сомнительном содержимом. Добавлена опция Send Later для отправки типовых сообщения не сразу, а в заданное время или через определённых интервал. Добавлен простой интерфейс для генерации Sieve-криптов для фильтрации почты на стороне IMAP-сервера. Улучшена информативность уведомления о получении новых сообщений. Внесена серия исправлений, устраняющих некоторые заметные проблемы с потреблением памяти в приложениях KDE PIM. В частности устранены ошибки приводящие к потреблению 1-2 Гб памяти при работе с большими почтовыми каталогами, на 65 Мб сокращено потребление памяти в akonadiserver, в Kontact устранено пятикратное дублирование данных календаря при выборе суммарного просмотра (при тестировании наблюдается экономия около 200 Мб), на 25 Мб уменьшены аппетиты при использовании хранилища MySQL; В микшере звука KMix добавлена поддержка управления сторонними медиапроигрывателями, поддерживающими стандарт MPRIS2. Кроме того, отмечается значительное увеличение производительности и стабильности KMix; Проведена чистка кода с реализацией коротких ссылок (Web Shortcuts) для быстрого обращения к популярным сайтам (например, ввод "wp:KDE" позволяет открыть страницу KDE на Wikipedia). Многие сокращения переведены на использование HTTPS, добавлены новые сокращения (freecode - fc, Google Shopping - ggs, KDE Projects - kp) и удалены устаревшие, упрощён процесс создания собственных коротких ссылок (например, автоматически вставляется URL из буфера обмена); Внесено много мелких правок и оптимизаций в файловый менеджер Dolphin. Загрузка содержимого больших директорий теперь выполняется заметно быстрее и расходует на 30% меньше памяти. Для снижения нагрузки на CPU и дисковую подсистемы, теперь загружаются только миниатюры, расположенные рядом с видимыми элементами. Исправлено множество недоработок при выводе детальной информации о содержимом директории. Для открытия списка с содержимым архива в отдельной вкладке теперь можно использовать среднюю кнопку мыши; Для текстового редактора Kate реализованы плагины для работы с кодом Python (2 и 3), JavaScript, JQuery, Django и XML. Плагины предоставляют средства для автодополнения ввода, проверки синтаксиса, вставки типовых блоков кода и автоматического форматирования XML. Для файлов на языке Python дополнительно выводится подробная информация. В Okular обеспечена поддержка отката изменений в редакторе форм и аннотаций, добавлены настраиваемые инструменты рецензирования; В медиапроигрыватель Juk добавлена поддержка формата Ogg Opus и обеспечена возможность исключения отдельный директорий при рекурсивном поиске; В редактор изображений Kolourpaint добавлена поддержка формата WebP.