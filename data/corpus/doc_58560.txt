Выпуск дистрибутива для создания межсетевых экранов OPNsense 23.1

Сформирован релиз дистрибутива для создания межсетевых экранов OPNsense 23.1, который является ответвлением от проекта pfSense, созданным с целью сформировать полностью открытый дистрибутив, который мог бы обладать функциональностью на уровне коммерческих решений для развёртывания межсетевых экранов и сетевых шлюзов. В отличие от pfSense, проект позиционируется как неподконтрольный одной компании, развиваемый при непосредственном участии сообщества и обладающий полностью прозрачным процессом разработки, а также предоставляющий возможность использования любых своих наработок в сторонних продуктах, в том числе коммерческих. Исходные тексты компонентов дистрибутива, а также используемые для сборки инструменты, распространяются под лицензией BSD. Сборки подготовлены в форме LiveCD и системного образа для записи на Flash-накопители (399 МБ). Базовая начинка дистрибутива основывается на коде FreeBSD. Среди возможностей OPNsense можно выделить полностью открытый сборочный инструментарий, возможность установки в форме пакетов поверх обычного FreeBSD, средства балансировки нагрузки, web-интерфейс для организации подключения пользователей к сети (Captive portal), наличие механизмов отслеживанием состояний соединений (stateful firewall на основе pf), задание ограничений пропускной способности, фильтрация трафика, создание VPN на базе IPsec, OpenVPN и PPTP, интеграция с LDAP и RADIUS, поддержка DDNS (Dynamic DNS), система наглядных отчётов и графиков. В дистрибутиве предоставляются средства создания отказоустойчивых конфигураций, основанных на использовании протокола CARP и позволяющих запустить помимо основного межсетевого экрана запасной узел, который будет автоматически синхронизирован на уровне конфигурации и примет на себя нагрузку в случае сбоя первичного узла. Для администратора предлагается современный и простой интерфейс для настройки межсетевого экрана, построенный с использованием web-фреймворка Bootstrap. Среди изменений: Перенесены изменения из ветки FreeBSD 13-STABLE. Обновлены версии дополнительных программ из портов, например, php 8.1.14 и sudo 1.9.12p2. Добавлена новая реализация списка блокировки на основе DNS, переписанная на языке Python и поддерживающая различные списки блокировки рекламы и вредоносного содержимого. Обеспечено накопление и отображение статистики о работе DNS-сервера Unbound, что позволяет отслеживать DNS-трафик в привязке к пользователям. Добавлен новый тип межсетевых экранов BGP ASN. Добавлен изолированный режим PPPoEv6 для выборочного включения IPv6 Control Protocol. Добавлена поддержка WAN-интерфейсов SLAAC без DHCPv6. На MVC-фреймворк переведены компоненты для захвата пакетов и управления IPsec, что позволило реализовать в них поддержку управления через API. Настройки IPsec перенесены в файл swanctl.conf. В состав включён плагин os-sslh, позволяющий мультиплексировать подключения HTTPS, SSH, OpenVPN, tinc и XMPP через один сетевой порт 443. В плагине os-ddclient (Dynamic DNS Client) появилась возможность использования собственных бэкендов, включая Azure. Плагин os-wireguard с VPN WireGuard переведён по умолчанию на использование модуля ядра (старый режим работы на уровне пользователя вынесен в отдельный плагин os-wireguard-go).