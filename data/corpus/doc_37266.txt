Новые версии языков Dart и TypeScript, претендующих на роль альтернатив JavaScript

Компания Google представила первую бета-версию проекта Dart, в рамках которого развивается язык структурированного программирования для Web, который в долгосрочной перспективе может стать прогрессивной заменой JavaScript, решающей имеющиеся в настоящее время проблемы с расширяемостью, производительностью и поддержкой разработки сложных приложений. Язык обладает похожим на Java синтаксисом, не требует явного определения типов и может использоваться для создания серверных и клиентских приложений. Для упрощения разработки на языке Dart поставляется SDK, включающий в себя компилятор dart2js, виртуальную машину Dart VM, пакетный менеджер pub и набор библиотек. Для выполнения и отладки приложений на языке Dart, без компиляции в JavaScript, распространяется Dartium - сборка браузера Chromium с интегрированной виртуальной машиной Dart VM. Дополнительно доступен расширенный пакет Dart Editor, в который помимо SDK и Dartium включена специализированная среда разработки на языке Dart. Из представленных в новом выпуске изменений отмечается проведение оптимизаций различных компонентов платформы. Обеспечена генерация более компактного JavaScript-кода, для некоторых типов программ удалось добиться сокращения размера до 3.7 раз за счёт реализации техники совместного использования кода, встречающегося в разных классах. Заметно увеличена производительность виртуальной машины, которая по сравнению с прошлым выпуском на 33% быстрее при выполнении теста DeltaBlue и на 40% быстрее в тесте Tracer. Для ускорения работы VM также реализована полноценная поддержка акселерации с использованием инструкций SIMD. Компилятор dart2js демонстрирует прирост производительности на 20% в тесте Richards, на 10% в тесте DeltaBlue, и на 8% в Tracer. На 20% ускорена работа анализатора кода в редакторе Dart Editor, позволяющего выявлять ошибки и выводить предупреждения по мере кодирования, без необходимости отдельного выполнения unit-тестов. Добавлены новые инструменты рефакторинга для переименования библиотек и преобразования методов в геттеры и наоборот. Расширены средства подсветки синтаксиса. Упрощён процесс развёртывания web-приложений при помощи новой команды "pub deploy", которая создаёт директорию с кодом приложения и связанными с ним ресурсами, и производит подготовку кода для использования с выбранным web-сервером. Особенности языка Dart: Привычный и простой для изучения синтаксис, естественный для программистов на JavaScript, Си и Java. Обеспечение быстрого запуска и высокой производительности для всех современных web-браузеров и различных типов окружений, от портативных устройств до мощных серверов; Возможность определения классов и интерфейсов, позволяющих использовать инкапсуляцию и повторно использовать существующие методы и данные; Необязательное указание типов, использовать или нет статические типы решает разработчик. Указание типов позволяет упростить отладку и выявление ошибок, делает код более ясным и читаемым, упрощает его доработку и анализ сторонними разработчиками. Среди поддерживаемых типов: различные виды хэшей, массивов и списков, очереди, числовые и строковые типы, типы для определения даты и времени, регулярные выражения (RegExp). Возможно создание своих типов; Для организации параллельного выполнения предлагается использовать классы с атрибутом isolate, код которых выполняется полностью в изолированном пространстве в отдельной области памяти, взаимодействуя с основным процессом через отправку сообщений; Поддержка использования библиотек, упрощающих поддержку и отладку больших web-проектов. Сторонние реализации функций могут подключаться в виде разделяемых библиотек. Приложения можно разбить на части и поручить разработку каждой из частей отдельной команде программистов; Набор готовых инструментов для поддержки разработки на языке Dart, включая реализацию средств динамической разработки и отладки с исправлением кода на лету ("edit-and-continue"); Возможность создавать однородные системы, охватывающие как клиентскую, так и серверную часть. Использование одного языка и инструментария для клиентских и серверных компонентов упрощает процесс кодирования и избавляет от постоянной смены контекста. Одновременно компания Microsoft опубликовала новый выпуск языка программирования TypeScript 0.9. TypeScript позиционируется в качестве языка для разработки web-приложений, расширяющего возможности JavaScript. Код компилятора, транслирующего код TypeScript в представление JavaScript, распространяется под лицензией Apache, разработка ведётся в публичном репозитории через сервис CodePlex. Спецификации языка открыты и опубликованы в рамках соглашения Open Web Foundation Specification Agreement. В отличие от Google Dart, TypeScript не является кардинальной переработкой JavaScript, а лишь расширяет возможности JavaScript, оставаясь полностью обратно совместимым, что сводит к минимуму затраты на адаптацию существующих приложений. От JavaScript новый язык отличается возможностью явного определения типов, поддержкой использования полноценных классов (как в традиционных объектно-ориентированных языках), а также поддержкой подключения модулей. Статическая типизация позволяет избежать многих ошибок в процессе разработки, даёт возможность задействовать дополнительные техники оптимизации, упрощает отладку и делает код более читаемым и простым для доработки и поддержки сторонними разработчиками. Основной принцип языка - весь существующий код на JavaScript совместим с TypeScript, т.е. в программах на TypeScript можно использовать стандартные JavaScript-библиотеки и ранее созданные наработки. Более того, можно оставить существующие JavaScript-проекты в неизменном виде, а данные о типизации разместить в виде аннотаций, которые можно поместить в отдельные файлы, которые не будут мешать разработке и прямому использованию проекта (например, подобный подход удобен при разработке JavaScript-библиотек). Итоговое приложение на TypeScript компилируется в обычный JavaScript, который можно выполнить в любом современном web-браузере или использовать совместно с серверной платформой Node.js. Редактировать код можно в штатных редакторах, например, файлы для восприятия расширенного синтаксиса TypeScript уже подготовлены для Vim и Emacs. Файлы с декларациями статических типов подготовлены для некоторых популярных JavaScript-библиотек, среди которых jQuery. Наиболее существенным улучшением в новом выпуске является поддержка "generic", который позволяет вводить специальные дополнительные параметры типов, которые дают возможность выявлять ошибки в реализации классов, интерфейсов и методов без дополнительных аннотаций типов (например, генерик для функции map позволяет считать, что переменные создаваемые конструкциями в которых используется map можно рассматривать как числовые). В новом выпуске также представлен финальный вариант синтаксиса для перечислимых типов (enums) и перегрузки методов. Кроме того внесены нарушающие совместимость модификации, направленные на упрощения совместного использования модулей на JavaScript и TypeScript. Переработан компилятор, который теперь генерирует более точно соответствующий спецификациям JavaScipt-код.