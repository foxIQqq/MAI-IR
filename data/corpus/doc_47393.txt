Релиз операционной системы DragonFly BSD 5.0

После семи месяцев разработки сформирован релиз DragonFlyBSD 5.0, операционной системы с гибридным ядром, созданной в 2003 году с целью альтернативного развития ветки FreeBSD 4.x. Из особенностей DragonFly BSD можно выделить распределённую версионную файловую систему HAMMER, поддержку загрузки "виртуальных" ядер системы как пользовательских процессов, возможность кэширования данных и мета-данных ФС на SSD-накопителях, учитывающие контекст вариантные символические ссылки, возможность заморозки процессов с сохранением их состояния на диске, гибридное ядро, использующее легковесные потоки (LWKT). Из наиболее существенных новшеств DragonFlyBSD 5.0 отмечается поставка начальной реализации файловой системы HAMMER2, обновление пакетного фильтра ipfw, обновление графических драйверов для GPU Intel и гибридных графических подсистем, расширение максимально возможного числа запущенных процессов. Основные улучшения, добавленные в DragonFlyBSD 5.0: Включение в базовую поставку начальной реализации файловой системы HAMMER2, которая развивается проектом с 2012 года. В инсталляторе пока отсутствует опция для настройки HAMMER2, а также недоступны средства кластеризации (multi-master зеркалирование с распределением данных на несколько хостов), возможность работы на нескольких разделах, квоты и функции хранения данных в зашифрованном виде. При этом поддерживается установка на загрузочные разделы, дедупликация данных (dedup) на лету, хранение данных в сжатом виде и поддержка монтирования снапшотов, доступных на запись; Обновлена реализация пакетного фильтра ipfw, в котором отмечены такие изменения как увеличение производительности, переработка кода отслеживания соединений, интеграция фильтров для сетевых интерфейсов и разбора фрагментированных пакетов (ipfrag). Поддержка pf и ipfw3 полностью сохранена; Обновлён drm-драйвер i915, предоставляющий интерфейс для управления видеокартами Intel на уровне ядра (KMS). Код драйвера i915 синхронизирован с ядром Linux 4.7.10 (в прошлом выпуске 4.6). Обеспечена поддержка графических подсистем процессоров Intel, вплоть до Kabylake; Улучшена поддержка гибридных графических систем: Добавлен модуль vga_switcheroo, позволяющий использовать GPU Intel на системах с гибридной графикой. Добавлен драйвер apple_gmux, дающий возможность переключиться на GPU Intel на компьютерах Macbook, поставляемых со сдвоенными графическими подсистемами (Intel/NVIDIA и Intel/Radeon); Добавлена утилита efisetup для установки на системы с UEFI; Обеспечен переход на 6-значные PID-идентификаторы, что позволило поднять лимит на максимальное число работающих процессов до 999 тысяч; Продолжено развитие инструментария для использования Clang в качестве альтернативного компилятора базовой системы, вместо GCC 4.7; В ядро добавлена возможность отражения памяти процессов (pmap) в режиме NX (запрет на исполнение кода), а также выделения памяти с флагом NX (отключено по умолчанию, так как требуется доработка для корректной работы с некоторыми интерпретируемыми языками и JIT-компиляторами); Добавлена поддержка сетевой подсистемы чипов Kabylake; Обеспечена рандомизация выделяемых локальных сетевых портов; Добавлен драйвер virtio_scsi; Для SD-карт обеспечена поддержка формата UHS1 и режима передачи данных ADMA2; В файловой системе HAMMER1 ускорены операции вычисления контрольных сумм (CRC теперь вычисляется до 6 раз быстрее) и повышена стабильность дедупликации; Добавлена утилита kcollect для периодического сброса в лог статистики из ядра; В usched обеспечена возможность изменения привязки процесса к ядру CPU; Добавлена утилита sshlockout для блокирования доступа по SSH в случае нескольких неудачных попыток аутентификации. В SSH-клиенте по умолчанию отключена парольная аутентификация в пользу аутентификации по открытым ключам. Для возвращения подключения по паролю в /etc/ssh/ssh_config следует указать 'PasswordAuthentication=yes'.