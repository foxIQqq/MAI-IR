В Samba найдена серьезная уязвимость

В Samba обнаружена уязвимость, позволяющая удаленному злоумышленнику прочитать содержимое системных файлов через создание символической ссылки, в пути которой присутствует обращение к предыдущей директории ("../"). Для успешного проведения атаки злоумышленник должен иметь доступ к допускающему создание файлов samba разделу (например, общедоступные гостевые хранилища с возможностью публикации файлов). Степень доступа, которую может получить атакующий, ограничена системой привилегий, в большинстве случаев открытие файлов производится под пользователем 'nobody'. Эксплоит для проведения атаки уже добавлен в пакет metasploit. Разработчики samba опубликовали уведомление, в котором посоветовали для решения проблемы установить опцию "wide links = no" в секции "[global]" файла конфигурации smb.conf, не забыв перезапустить процесс smbd. По заявлению разработчиков samba уязвимость вызвана стечением двух штатных возможностей: настройки "wide links = yes", позволяющей администраторам файлового сервера создавать символические ссылки в область вне текущего SMB/CIFS-раздела, и активацией по умолчанию для клиентов возможности использования Unix-расширений ("unix extensions = yes"), позволяющих среди прочего самостоятельно создавать символические ссылки. При создании символических ссылок в Unix-подобной ОС данные ссылки позиционируются относительно локальной системы клиента, но при попытке их создания в Windows, символические ссылки преобразуются относительно файловой системы сервера. В будущих выпусках samba принято решение отключить по умолчанию параметр "wide links" и исключить возможность одновременной активации настроек "unix extensions" и "wide links".