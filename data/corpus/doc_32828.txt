PulseAudio портирован для платформы Android

Один из разработчиков звукового сервера PulseAudio выполнил портирование проекта для работы в окружении платформы Android и представил результаты сравнения производительности PulseAudio c AudioFlinger, штатным звуковым сервером Android. Работа PulseAudio была обеспечена через интеграцию в базовую систему Android с задействованием стандартных звуковых драйверов ALSA. Тестирование было произведено на телефоне Galaxy Nexus с прошивкой на базе Android 4.0. PulseAudio показал более высокую эффективность при сравнении таких показателей как нагрузка на CPU (2% против 0% для потока 48 kHz), потребление энергии системой (108 против 87 прерывания в секунду, использовалась утилита PowerTOP) и отзывчивость системы (176 против 20 миллисекунд задержки). При оценке потребления памяти, лучшие показатели продемонстрировал AudioFlinger (2600 Кб и 3020 Кб). Из возможностей PulseAudio, которые могут оказаться полезными для платформы Android отмечается поддержка прозрачной потоковой передачи звука по сети (например, можно организовать проигрывание звука с телефона на телевизор), поддержка дополнительных форматов сжатия (AC3, DTS и т.п.), возможности по маршрутизации звуковых потоков и модульная структура, позволяющая легко расширять базовую функциональность. PulseAudio позволяет управлять громкостью и смешиванием звука на уровне отдельных приложений, организовывать поступление, смешивание и вывод звука при наличии нескольких входных и выходных каналов или звуковых карт, позволяет на лету менять формат звукового потока. В будущем планируется написать надстройку над PulseAudio, которая сможет эмулировать API AudioFlinger на базе PulseAudio, т.е. позволит использовать PulseAudio в качестве замены AudioFlinger. AudioFlinger представляет собой прослойку, предоставляющую такие сервисные функции, как организация записи и проигрывания звуковых потоков, смешивание различных звуковых потоков, преобразование частоты дискретизации потока. Клиентские приложения для платформы Android используют дополнительный высокоуровневый API, построенный поверх AudioFlinger (нативные приложения вынуждены использовать для вывода звука API OpenSL ES, который также транслируется в AudioFlinger). С целью оптимизации производительности в PulseAudio планируется обеспечить поддержку некоторых специфичных для платформы Android возможностей, таких как Binder для работы с IPC и ashmem для передачи звуковых блоков как сегментов разделяемой памяти. Дополнительно можно отметить проект по портированию для платформы Android мультимедийного фреймворка GStreamer, в рамках которого подготовлен набор компонентов для создания широкого спектра мультимедиа приложений, от медиаплееров и конвертеров аудио/видео файлов, до программ использующих RTP/VoIP, поддержки DLNA и средств для организации видеоконференций.