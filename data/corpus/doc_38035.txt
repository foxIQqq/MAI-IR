Релиз FreeBSD 9.2

После девяти месяцев разработки официально анонсирован релиз FreeBSD 9.2. Установочные сборки, способные работать в Live-режиме, доступны в вариантах Bootonly, DVD, CD и Memstick для платформ amd64, i386, powerpc64, sparc64 и ia64. Основные новшества: Система Для UFS, блочных устройств и некоторых драйверов интегрирована поддержка unmapped I/O, которая позволила поднять производительность ввода/вывода, благодаря исключению стадии маппинга буферов в кэше, что существенно снизило накладные расходы при работе на многопроцессорных системах; В инсталлятор bsdinstall добавлена поддержка установки по протоколу HTTP; В ядре GENERIC по умолчанию включена поддержка системы динамической трассировки DTrace. Код DTrace синхронизирован с проектом Illumos (используется версия 1.9); Из конфигурации ядра GENERIC для всех архитектур исключены драйверы firewire и ctl, которые могут загружаться как модули без вкомпиляции в ядро; Дисковая подсистема, ввод/вывод, системы хранения и файловые системы В реализацию файловой системы ZFS добавлена и включена по умолчанию поддержка операции TRIM, что позволяет продлить жизненный цикл и обеспечить поддержание высокой производительности работы накопителей на основе Flash-памяти в условиях высокой нагрузки. Для работы ZFS TRIM накопитель должен поддерживать операцию BIO_DELETE, которая доступна через такие методы, как ATA TRIM и SCSI UNMAP. Для управления использованием TRIM добавлены sysctl-переменные: vfs.zfs.trim.enabled (вкл/выкл TRIM), vfs.zfs.trim.max_interval (максимальное время между обработки очереди TRIM), vfs.zfs.trim.timeout (максимально время задержки выполнения TRIM), vfs.zfs.trim.txg_delay (откладывание TRIM до накопления указанного числа TXG); При создании ZFS пула или добавлении нового устройства в пул, TRIM выполняется для всего накопителя, что обеспечивает оптимальную начальную производительность. Для отмены данного поведения предусмотрена sysctl-переменная vfs.zfs.vdev.trim_on_init, которая может быть использована для новых или уже безопасно очищенных накопителей. Для слежения за состоянием выполнения TRIM представлена sysctl-переменная kstat.zfs.misc.zio_trim и команда "gstat -d"; В ZFS добавлена поддержка прозрачного сжатия данных с использованием алгоритма LZ4. LZ4 упаковывает подлежащие сжатию данные примерно на 50% быстрее, а распаковывает на 80% быстрее, чем ранее доступный алгоритм LZJB. Если данные несжимаемы, например, уже сжатые архивы или мультимедиа контент, то LZ4 обгоняет LZJB по скорости сжатия более чем в три раза. Размер упакованных с использованием LZ4 данных занимает до 10% меньше места, чем при использовании LZJB. При этом, включение прозрачного сжатия может обеспечить двухкратную экономию дискового пространства для разделов с обычными немультимедийными данными, и, соответственно, позволяет сократить интенсивность ввода/вывода с носителя. LZ4 автоматически распознаёт и игнорирует не подлежащие сжатию данные, что сводит к минимуму паразитную нагрузку при наличии в хранилища несжимаемых типов данных. В подсистему CAM (Common Access Method SCSI/ATA) добавлена поддержка проброса ATA-устройств. Сетевая подсистема В демон rarpd (Reverse ARP) добавлена поддержка VLAN; В rc.conf представлен новый синтаксис для настройки демона hostapd, используемого для обеспечения работы беспроводной точки доступа и сервера аутентификации. Новый формат - ifconfig_wlanX="HOSTAP", где wlanX название беспроводного интерфейса; По умолчанию увеличен размер начального окна перегрузки TCP с 4 до 10 сегментов. Вернуть прошлое значение можно через установку sysctl-переменной net.inet.tcp.experimental.initcwnd10=0; В rc.conf добавлена возможность определения сервисов в форме name_fib для настройки множественных таблиц маршрутизации через setfib; Изолированные окружения, безопасность и ограничения ресурсов В конфигурации ядра GENERIC для архитектур amd64 и i386 включён драйвер virtio с поддержкой паравиртуальных устройств ввода/вывода (VirtIO). Поддерживаются следующие устройства VirtIO: vtnet (Ethernet), virtio_blk (блочное устройство), virtio_scsi (SCSI HBA) и virtio_balloon (для возвращения памяти гипервизору); Оборудование и аппаратные архитектуры Добавлено блочное устройство "nvme" с реализацией PCI-платы, соответствующей стандарту NVMe (NVM Express); Добавлена поддержка Ethernet-адаптеров на базе чипа Chelsio 40G T5; Обновлены драйверы ixgbe и Intel e1000. В драйвере cxgbe добавлена поддержка карты 4x10G T540-CR; Добавлена поддержка HighPoint DC Series Data Center HBA (DC7280 и R750) Приложения Обновлены версии поставляемых в базовой системе сторонних проектов: xz 5.0.4; awk 20121220; oce 4.6.95.0; OpenSSL 0.9.8y; Sendmail 8.14.7; OpenSSH 6.2p2; less 458;