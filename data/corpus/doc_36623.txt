Проект Mozilla представил WebPayment API для совершения платежей в Web

Разработчики проекта Mozilla представили экспериментальный программный интерфейс WebPayment API, предназначенный для организации платежей из web-приложений и развиваемый для обеспечения покупки платных программ в Firefox OS. Новый API разработан с учётом недостатков текущих разрозненных методов проведения платежей в Web, вместо которых предлагается единый Web API, делающий процесс покупки более простым и безопасным, сохраняя при этом гибкость и привычность для продавцов. В своей основе WebPayment API базируется на элементах API Google Wallet, но отличается отсутствием привязки к конкретным платёжным системам, поэтому может быть использован любыми провайдерами финансовых сервисов. После окончательного формирования WebPayment API, разработчики Mozilla намерены передать спецификацию в консорциум W3C для утверждения в качестве web-стандарта и привлечь к его продвижению известные платёжные системы. Ключевым элементом WebPayment API является функция navigator.mozPay(), позволяющая web-приложениям инициировать совершение платежей. В отличие от существующих API, каждый из которых специфичен для определённого платёжного сервиса, при помощи navigator.mozPay на уровне единого API покупателю предоставляется возможность выбора, какой из платёжных систем он может воспользоваться. На первом этапе поддержка navigator.mozPay() добавлена в Firefox OS и в магазин приложений Firefox Marketplace, что даёт возможность протестировать новый API в работе. Для тестирования предусмотрен режим симуляции платежа, из методов платежей пока поддерживается только оплата кредитной картой или перевод со счёта мобильного телефона. В дальнейшем планируется расширить спектр способов проведения платежей и интегрировать новый API в Firefox для настольных систем и платформы Android. Инициирование платежа производится через отправку платёжному сервису запроса в форме подписанного цифровым ключом блока JSON Web Token (JWT), в котором приводятся такие сведения, как адрес платёжной системы, уникальные идентификаторы web-приложения и продукта, URL для отправки запроса с подтверждением совершения платежа и URL для информирования о невозможности совершить платёж. Отправленные web-приложением JWT-блоки обрабатываются платёжным сервисом через интерфейс WebPaymentProvider и, в зависимости от выбранного конечным пользователем метода платежа, с использованием тех или иных способов оплаты, параметры для которых вводятся отдельно, не касаясь разработчика web-приложения. Web-приложение только определяет сколько нужно перевести и получает статус выполнения перевода. Прототипы серверного кода c реализацией WebPaymentProvider подготовлены на языке Python и JavaScript/Node.js.