Тестирование Firefox 45-beta и Firefox Developer Edition 46

Firefox 45 перешёл на стадию бета-тестирования, что ознаменовало прекращение формирования базовой функциональности и сосредоточение всего внимания на выявлении ошибок и контроле качества. Одновременно сформирован выпуск Firefox Developer Edition 46, который заменил собой aurora-ветку, в рамках которой проводится оценка готовности тех или иных новшеств для последующего бета-выпуска. Загрузить бета-выпуск можно на данной странице, а Firefox Developer Edition здесь. Релиз Firefox 45 намечен на 8 марта, а Firefox 46 на 19 апреля. Выпуск Firefox 45 будет развиваться в рамках продлённого цикла поддержки (ESR). В отличие от выпусков aurora, Developer Edition адаптирован для обособленного использования, запускается с использованием отдельного профиля и отличается изменением оформления - задействована отдельная тёмная тема оформления, в панель вынесены кнопки для быстрого доступа к инструментам для web-разработчиков, изменены некоторые настройки по умолчанию, в состав включены дополнения ADB Helper и Valence (бывший Firefox Tools Adapter). Улучшения, представленные в бета-версии Firefox 45: Переход на GTK3+ в сборках для платформы GNU/Linux. Поддержка GTK2+ пока сохранена и поддерживается в полном объёме. Переход Firefox на GTK3+ является важным звеном в реализации работы на системах, поддерживающих протокол Wayland. $ ldd libmozgtk.so |grep libgtk libgtk-3.so.0 => /usr/lib/i386-linux-gnu/libgtk-3.so.0 (0xb722c000) Удаление интерфейса для переключения между группами вкладок (Tab Groups или режим Panorama). По данным Mozilla этой возможностью пользуется только 0.01% пользователей, которым рекомендуется перейти к использованию дополнений с реализацией похожей функциональности. В коммуникационном клиенте Hello добавлена поддержка предоставления другому пользователю доступа к открытой вкладке с возможностью отслеживания навигации в данной вкладке. Синхронизированные с других устройств вкладки теперь показываются в выпадающей области адресной строки при поиске; В панель добавлена отдельная кнопка для показа вкладок, синхронизированных через Firefox Accounts; Представлена новая настройка network.dns.blockDotOnion, позволяющая заблокировать обращение к доменам .onion на уровне DNS; Добавлена поддержка классов JavaScript, определённых в спецификации ECMAScript 6; class Polygon { constructor(height, width) { this.name = 'Polygon'; this.height = height; this.width = width; } sayName() { log('Hi, I am a ', this.name + '.'); } } let p = new Polygon(300, 400); Реализация Web Speech API, предоставляющего средства для манипуляции голосовыми данными в web-приложениях. API предоставляет два набора вызовов: SpeechSynthesis (Text-to-Speech) для синтеза речи и SpeechRecognition (Asynchronous Speech Recognition) для распознавания речи; Возможность задания через встроенный на страницу тег META правил CSP (Content Security Policy) для защиты от организации межсайтового скриптинга (XSS) и подстановки в страницы "IFRAME/JavaScript src" блоков; Поддержка Push API, позволяющего устанавливать обработчики получаемых со стороны сервера сообщений, срабатывающие даже в ситуации, когда web-приложение не активно. Обработчики задаются через API Service Workers и не зависят от времени жизни приложения, что позволяет создавать новые классы web-приложений, способные обрабатывать запросы даже после закрытия страницы с приложением. Для обработки подобных уведомлений требуется обязательное явное предоставление полномочий от пользователя. Управления обработкой push-уведомлений осуществляется через новую пиктограмму с символом "i", отображаемую для поддерживающих данную технологию сайтов в левой части адресной строки; В интерфейсе инспектирования анимации, при клике на анимированный блок на шкале времени обеспечен показ списка анимированных свойств и ключевых кадров. Добавлена возможность тонкой настройки параметров анимации путём изменения скорости воспроизведения на шкале времени; Поиск в режиме инспектирования теперь отражает результаты, полученные из всего содержимого страницы, в том числе вложенных iframe-блоков; В интерфейсе мониторинга сетевой активности добавлена поддержка фильтрации c исключением заданной маски URL (например, выборка по части имени файла). На шкале времени в режиме сетевого мониторинга реализовано отображение DOMContentLoaded и загрузки событий; В инструменте анализа потребления памяти добавлена возможность сравнения различий между разными слепками состояния кучи и поддержка фильтрации снапшотов; Поддержка нестандартных элементов CSS, специфичных для WebKit и получивших распространение в мобильных приложениях: -webkit-transform, -webkit-min-device-pixel-ratio, -webkit-box; Добавлен режим временной установки неподписанных дополнений, позволяющий установить любое неподписанное дополнение из локального XPI-файла с активностью данного дополнения только в рамках текущего сеанса (после первого перезапуска браузера временное дополнение автоматически удалено); В релиз Firefox 45 планируется включить экспериментальную поддержку API WebExtensions для разработки браузерных дополнений, совместимое с API для Chrome и идущего на смену XUL API; Реализация WebGL2 расширена поддержкой шейдеров, униформ (uniforms) и атрибутов. Добавлены объекты Framebuffer и Renderbuffer; В версии для платформы Android: Реализована функция загрузки изображения только после клика; В интерфейс администратора добавлена кнопка для отключения доступа к камере и микрофону; Прекращено включение URL при отправке другому пользователю выделенного блока текста; Оптимизирован и перегруппирован раздел настроек в меню; Упрощён интерфейс администратора для безопасной навигации на планшетах при включенном безопасном профиле; Улучшения, ожидаемые в Firefox 46: Увеличена плавность панорамирования и масштабирования web-контента; Открытые по HTTP web-страницы, содержащие формы ввода пароля ("input type=password"), теперь помечаются как небезопасные. Для подобных страниц в адресной строке показывается специальный значок, сигнализирующий о том, что соединение небезопасно. Данная функция была добавлена в Firefox 44, но требовала включения опции security.insecure_password.ui.enabled в about:config, в Firefox 46 данная возможность включена по умолчанию; Проведена работа по усилению безопасности JIT-компилятора JavaScript. Выполнение кода организовано с использованием применяемого в OpenBSD алгоритма W^X, суть которого в том, что страницы памяти не могут быть одновременно доступны на запись и исполнение. В контексте JIT, генерируемый код может быть исполнен только после запрещения записи. При необходимости сгенерировать обновлённый вариант, флаг исполнения меняется на флаг записи. Включение режима W^X приводит к замедлению работы JavaScript-движка на 1-4%; Ограниченному кругу пользователей будут показаны экспериментальные наработки по унификации адресной строки с полем для обращения к поисковым системам. Для сбора отзывов изменение будет предложено только для 10% пользователей; Поддержка интерфейса WebKitCSSMatrix и CSS-свойства "-webkit-transform-3d", предоставляющих методы использования матриц и 3D-трансформации. Интерфейс WebKitCSSMatrix специфичен для движка WebKit, но добавлен в Firefox в рамках инициативы по усилению совместимости с мобильными приложениями, написанными только с оглядкой на движок WebKit. Кроме того, добавлена поддержка подборки свойств с префиксом "-webkit"; Внесена большая порция изменений и исправлений в реализацию технологии WebRTC. Добавлена поддержка Simulcast, поддержка дуплексного режима при использовании PulseAudio, переписан код завершения соединения, добавлен вызов RTCRtpReceive, добавлены константы echoCancellation, mozAutoGainControl и mozNoiseSuppression, включена поддержка WebRTC в многопроцессном режиме; В инструмент отладки потребления памяти добавлен режим "Dominator view", отображающий косвенный размер объектов ("retained size"), помимо самого объекта включающий и данные о размере других объектов, связанных через ссылки; В инструмент для оценки производительности добавлены возможности для отслеживания пауз из-за операций выделения памяти и сборки мусора; В редакторе стилей в боковую панель правил "@media" добавлена возможность создания и отладки слоёв на базе отзывчивых изображений (Responsive Images, задание вариантов изображений, оптимизированных для различных экранных разрешений и уровня масштабирования); Улучшения в версии для платформы Android: Прекращена поддержка платформы Android 3 (Honeycomb); В уведомлениях для открытых в фоне вкладок обеспечен показ URL; На устройствах с Android 6.0+ реализован вывод запроса полномочий при доступе к расширенным функциям в процессе выполнения приложения (ранее полномочия запрашивались только при установке); Обеспечен показ прокэшированных страниц, при попытке их открытия без наличия доступа в интернет; Увеличено разрешение пиктограмм ярлыков на домашнем экране; В качестве предлагаемых по умолчанию эскизов популярных сайтов теперь выводятся сайты, занимающие первые пять мест в рейтинге Alexa;