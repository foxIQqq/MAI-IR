Новый вариант Linux патчей для снятия патентных ограничений VFAT

Andrew Tridgell опубликовал новый патч, снимающий с ядра Linux ограничения, накладываемые патентами файловой системы VFAT. В отличие от предыдущего патча, выпущенного в мае, новая версия поддерживает использование длинных имен файлов. Именно этот функционал лежал в основе соответствующих патентов. В распространяемом FAQ детально описывается примененный подход, позволивший обойти все ограничения. Небезызвестные патенты, из-за которых TomTom и возможно другие вендоры были вынуждены идти на сделку с Microsoft, касаются создания и записи на носитель имени файла, превышающего формат 8.3. Для ухода от угрозы нарушения патента в начале было предложено вовсе отказаться от функции записи длинных имен, оставив только их чтение. Установка патча №1 лишала пользователя возможности сохранять файлы с длинными именами, но не ограничивала его в доступе к носителю, содержащему эти файлы. После консультации со специализирующимися на подобных вопросах юристами было выявлено, что под действие патентов подпадает только создание и запись двух версий имени (8.3 и длинного) сразу. Патч №2 реализует создание либо только короткого имени, либо длинного, и блокирует одновременную запись обоих. Добавочные 11 байтов, создаваемые процедурой vfat_build_dummy_83_buffer() для дополнения поля имени файла, содержат «неправильные» с точки зрения FAT символы, которые не являются именем, а следовательно не могут быть использованы для доступа к файлу. Авторы специально не разглашают всех тонкостей юридического анализа патентов и кода в связи с возможностью его использования противоположной стороной в потенциальном судебном иске. Также следует заметить, что де-юре никакого нарушения патентов еще не было зафиксировано, и любые публикации разработчиков кода файловой системы VFAT, которые будут исследовать эту тему, могут стать доказательством признания существования технической ошибки, привести к отказу в досудебном рассмотрении правомочности потенциального иска и долгому, дорогостоящему судебному разбирательству.