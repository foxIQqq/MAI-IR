Выпуск PC-BSD 10.0.2 с новым форматом PBI

В соответствии с планом ежеквартальных выпусков стабильной ветки вышла новая версия операционной системы PC-BSD 10.0.2, основанной на кодовой базе FreeBSD 10. Несмотря на то что версия изменилась незначительно, новый выпуск PC-BSD содержит достаточно много фундаментальных изменений. Для загрузки подготовлен гибридный iso-образ (только для amd64), подходящий для использования на DVD и USB-накопителях. Самым значительным новшеством стала кардинальная переработка родной системы управления пакетами - PBI. Начиная с этой версии пакеты PBI больше не являются самодостаточными контейнерами, содержащими все зависимости, а лишь надстройкой над новой системой пакетов FreeBSD pkg-ng. По сути теперь PBI содержит лишь некоторую мета информацию, отсутствующую в pkg-ng. Другие новшества: В состав включена альфа версия нового легковесного окружения рабочего стола - Lumina, основанного на Qt и развиваемого командой PC-BSD. Окружение Lumina еще не вполне готово для каждодневного использования, но достаточно стабильно для ознакомления. В состав входит рабочий стол, панель приложений, менеджер сеансов, меню приложений и система настройки параметров окружения; Обновлены окружения рабочего стола: KDE 4.12.5, Cinnamon 2.2.13, GNOME 3.12.2; В связи с изменениями в формате PBI переработан интерфейс родной утилиты управления установленным ПО AppCafe. Теперь AppCafe также включает в себя управление пакетами pkg. Для пакетов PBI создана начальная реализация оценки ПО и рейтингов, показ снимков экрана и т.д. В AppCafe добавлена возможность автоматической очистки автоматически установленных пакетов (pkg cleanup); Удалены утилиты "Менеджер пакетов" и "Центр обновлений". Теперь обновления PBI и пакетов производятся с помощью AppCafe. Переписана Панель управления PC-BSD. В новой реализации полностью переписан код чтения элементов, исправлены некоторые старые проблемы и добавлено несколько опций отображения элементов. Проведена унификация пользовательского интерфейса утилит; Улучшено взаимодействие утилит PC-BSD (штатная программная система нотификаций); Осуществлен переход на PulseAudio в качестве звукового сервера по умолчанию; Добавлена поддержка полнодискового шифрования GELI. Этот механизм позволяет избавится от необходимости иметь незашифрованный раздел /boot; Добавлена поддержка автоматического создания окружения загрузки (boot environment) при установке обновлений. Похожий механизм использовался в OpenSolaris; Обеспечена поддержка boot environments в том числе для систем с полнодисковым шифрованием; Изменён процесс обновления операционной системы на новый значительный выпуск. Система обновления вначале формирует список всех установленных PBI и пакетов, затем загружает и устанавливает базовый установочный ISO, после чего устанавливает недостающие пакеты и PBI по ранее подготовленному списку. Для синхронизации файлов конфигурации в директории /etc применяется специальная утилита; Реализована поддержка добавления комментариев к снимкам zfs; В инсталлятор добавлена поддержка устройств L2Arc / ZIL; Ядро и мир обновлены до FreeBSD 10.0-RELEASE-p6. В состав базовой системы включен инструментария для создания виртуальных окружений Vagrant; Life Preserver, графический интерфейс для упрощения резервного копирования всей системы и восстановления отдельных файлов и директорий из бэкапа, по умолчанию переведён в автоматический режим, при котором спапшоты создаются каждые 5 минут и сохраняются в течение часа, после чего агрегируются в часовые слепки, которые сохраняются 24 часа, затем формируются ежедневные слепки, которые хранятся месяц и ежемесячные слепки которые хранятся год. Как только загруженность ZFS-пула достигает 70% удаляется самый старый снапшот; Множество других нововведений и исправлений в том числе в Warden и других утилитах.