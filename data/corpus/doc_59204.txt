В ядре Linux 6.3 всплыла проблема, приводящая к повреждению метаданных ФС XFS

В опубликованном в конце апреля выпуске ядра Linux 6.3 выявлена ошибка, приводящая к повреждению метаданных файловой системы XFS. Проблема пока остаётся неисправленной и проявляется среди прочего в последнем обновлении 6.3.4 (повреждение зафиксировано в выпусках 6.3.1, 6.3.2, 6.3.3 и 6.3.4, но проявление проблемы находится под вопросом в выпуске 6.3.0). В более ранних ветках ядра, таких как 6.2, а также в находящейся в разработке ветке 6.4, проявление проблемы не зафиксировано. Вызвавшее проблему изменение и точные факторы проявления ошибки пока не определены. Пользователям XFS следует воздержаться от обновления ядра до ветки 6.3 до прояснения ситуации. Дополнение: Судя по всему, ошибка была вызвана коммитом 74c36a8689d ("xfs: use xfs_alloc_vextent_this_ag() where appropriate"), и уже имеется исправление ("xfs: fix livelock in delayed allocation at ENOSPC"), которое есть только для ядра 6.4.