Релиз ftp-сервера ProFTPD 1.3.8

После двух с половиной лет разработки опубликован значительный выпуск ftp-сервера ProFTPD 1.3.8, сильными сторонами которого являются расширяемость и функциональность, а слабыми - периодическое выявление опасных уязвимостей. Одновременно доступен корректирующий выпуск ProFTPD 1.3.7f, который станет последним в серии ProFTPD 1.3.7. Основные новшества ProFTPD 1.3.8: Реализована поддержка FTP-команды CSID (Client/Server ID), которую можно использовать для отправки сведений для идентификации клиентского ПО на сервере и получения ответа с информацией для идентификации сервера. Например, клиент может отпавить "CSID Name=BSD FTP; Version=7.3" и получить в ответ "200 Name=ProFTPD; Version=1.3.8; OS=Ubuntu Linux; OSVer=22.04; CaseSensitive=1; DirSep=/;". В реализацию протокола SFTP добавлена поддержка расширения "home-directory" для раскрытия путей ~/ и ~user/. Для включения можно использовать директиву "SFTPExtensions homeDirectory". В mod_sftp добавлена поддержка шифров AES-GCM "aes128-gcm@openssh.com" и "aes256-gcm@openssh.com", а также ротации хостовых ключей ("SFTPOptions NoHostkeyRotation") при помощи расширений OpenSSH "hostkeys-00@openssh.com" и "hostkeys-prove-00@openssh.com". В директиву SFTPCiphers добавлена поддержка включения шифров AES GCM. Добавлена опция "--enable-pcre2" для сборки с библиотекой PCRE2 вместо PCRE. В директиву RegexOptions добавлена возможность выбора движка регулярных выражений между PCRE2, POSIX и PCRE. Добавлена директива SFTPHostKeys для указания предлагаемых клиентам алгоритмов хостовых ключей для модуля mod_sftp. Добавлена директива FactsDefault для явного определения списка возвращаемых "фактов" в FTP-ответах MLSD/MLSD. Добавлена директива LDAPConnectTimeout для определения таймаута подключения к LDAP-серверу. Добавлена директива ListStyle, позволяющая включить вывод списка содержимого каталогов в стиле Windows. Реализована директива RedisLogFormatExtra для добавления собственных ключей и значений в JSON-лог, включаемый директивами RedisLogOnCommand и RedisLogOnEvent. В директиву BanOnEvent добавлен параметр MaxLoginAttemptsFromUser для блокировки заданных комбинаций пользователей и IP-адресов. В директиву RedisSentinel добавлена поддержка TLS при соединении с СУБД Redis. В директиву RedisServer добавлена поддержка изменённого синтаксиса команды AUTH, используемого начиная с Redis 6.x. В директиву SFTPDigests добавлена поддержка хэшей ETM (Encrypt-Then-MAC). В директиву SocketOptions добавлен флаг ReusePort для включения режима сокетов SO_REUSEPORT. В директиву TransferOptions добавлен флаг AllowSymlinkUpload для возвращения возможности загрузки в символические ссылки. В директиву SFTPKeyExchanges добавлена поддержка алгоритма обмена ключами "curve448-sha512". В модуль mod_wrap2 добавлена возможность подстановки дополнительных файлов в таблицы allow/deny. Значение параметра FSCachePolicy по умолчанию изменено на "off". Модуль mod_sftp адаптирован для использования с библиотекой OpenSSL 3.x. Добавлена поддержка сборки с библиотекой libidn2 для использования интернационализованных доменных имён (IDN). В утилите ftpasswd для генерации хэшей паролей по умолчанию включён алгоритм SHA256 вместо MD5.