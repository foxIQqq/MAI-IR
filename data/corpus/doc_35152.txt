Релиз systemd 195 с поддержкой ротации логов по времени

Леннарт Поттеринг (Lennart Poettering) анонсировал релиз системного менеджера systemd 195. Systemd 195 является последним выпуском, новшества которого будут включены в состав дистрибутива Fedora 18. Начиная со следующего выпуска начнётся реализация возможностей, которые будут интегрированы в Fedora 19. Из новшеств, появившихся в systemd 195: В демоне ведения журнала событий появилась поддержка ротации и упаковки логов на основании заданных промежутков времени, в дополнение к ранее реализованной ротации на основании занимаемого дискового пространства; В утилиту journalctl добавлены новые опции "--since"/"--until=" и "--unit" для фильтрации вывода по времени и юнитам; В Journal добавлено ведение индекса значений для каждого из полей, что позволило реализовать такие возможности, как опция "-F" в journalctl для вывода всех значений для указанного поля и улучшенный механизм отображения результатов поиска значений в логе; Сообщения об изменении состояния служб теперь записываются в Journal в структурированном виде (ранее они записывались в виде простого текста), что позволяет снабжать их идентификаторами; Для мини-сервисов timedated, localed и hostnamed, используемых для изменения времени, локали и имени хоста из графических конфигураторов, теперь подготовлены консольные утилиты, позволяющие выполнить указанные действия из командной строки; Добавлена утилита "systemd-coredumpctl" для вывода списка core-дампов и их извлечения из БД Journal; В gatewayd добавлен режим "follow", позволяющий выполнять синхронизацию логов в режиме push (отправка сообщений по мере их появления), в дополнение к ранее существовавшему режиму pull (отправка сообщений по запросу извне); В gatewayd и journalctl добавлена поддержка экспорта логов в формате server-sent events (может быть использовано, например, для отслеживания логов в веб-фронтенде в режиме реального времени). В веб-фронтенд gatewayd (browse.html) добавлена возможность просмотра развернутой информации о событиях, а также поддержка фильтрации записей. В рамках подготовки к полному отказу от syslog и sysv init, в каталоги /var/log/ и /etc/rc.d/init.d/ помещаются README-файлы, информирующие администратора об изменениях в соответствующих подсистемах. Для oneshot-служб добавлена поддержка операции reload (например, для обновления списка правил iptables без перезапуска соответствующей службы).