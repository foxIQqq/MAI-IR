Выпуск программы для профессиональной обработки фотографий Darktable 4.2

Представлен релиз программы для организации и обработки цифровых фотографий Darktable 4.2, который приурочен к десятилетию с момента формирования первого выпуска проекта. Darktable выступает в роли свободной альтернативы Adobe Lightroom и специализируется на недеструктивной работе с raw-изображениями. Darktable предоставляет большую подборку модулей для выполнения всевозможных операций по обработке фотографий, позволяет вести базу исходных фотографий, осуществлять наглядную навигацию по имеющимся снимкам и при необходимости выполнять операции корректировки искажений и улучшения качества, сохраняя при этом исходный снимок и всю историю операций с ним. Код проекта написан на языке Си и распространяется под лицензией GPLv3. Интерфейс построен с использованием библиотеки GTK. Бинарные сборки подготовлены для Linux (OBS, flatpak), Windows и macOS. Основные изменения: Предложен новый модуль трансформации Sigmoid, который объединяет функциональность модулей filmic и base curve, и может применяться вместо них для изменения контраста или расширения динамического диапазона сцены для приведения их в соответствие с динамическим диапазоном экрана. В модуль восстановления пересвеченных областей ("highlight reconstruction") добавлены два новых алгоритма восстановления цветов пикселей, у которых один или несколько RGB-каналов ушёл в максимум (например, розовые артефакты в небе): "противоположное раскрашивание" и "на основе сегментации". Переработан пиксельный конвейер (pixelpipe), применявшийся для отображения в режиме обработки (darkroom). Указанный конвейер теперь также может применяться в окне на втором экране, в менеджере дубликатов, в окне предпросмотра стиля и в функциях для работы с мгновенными снимками. Во втором окне обработки изображения (darkroom) появилась поддержка режимов определения фокуса и цветовой оценки ISO-12646. Полностью переработан модуль для работы с мгновенными снимками (snapshot), который вместо захвата фиксированных областей экрана использует динамическую генерацию изображения при помощи пиксельного конвейера, что позволяет применять масштабирование и панорамирование при помощи клавиатуры или мыши. Усовершенствован менеджер дубликатов, который переведён на новые конвейерные подпрограммы при расчёте областей для предпросмотра, позволившие добиться получения эскизов, идентичных изображению в режиме обработки. Предоставлена возможность предпросмотра эффекта от применения к изображению пользовательского стиля, на этапе до фактического применения эффекта (при наведении мыши на эффект в меню или в списке выводится подсказка с эскизом результата применения эффекта). Модуль коррекции искажений линз адаптирован для учёта данных о коррекции линз, записанных в блоке EXIF. Добавлена поддержка чтения и записи изображений в формате JPEG XL Добавлена поддержка файлов с расширением JFIF (JPEG File Interchange Format). Улучшена поддержка профилей для форматов AVIF и EXR. Добавлена поддержка чтения изображений в формате WebP. При экспорте в WebP реализована возможность встраивания профилей ICC. Вспомогательные модули и модули обработки изменены, чтобы их интерфейс был сразу виден полностью после раскрытия (без необходимости прокрутки). Добавлен новый анимированный эффект, применяемый при раскрытии и сворачивании модулей. Полностью переделано кэширование при работе пиксельных конвейеров (pixelpipe), увеличена эффективность кэша. Переделан режим слайд-шоу, в котором до завершения обработки полного изображения обеспечен показ упрощённого эскиза. В левую панель фильтров добавлено новое выпадающее меню, через которое можно добавлять и удалять фильтры. Переделан интерфейс фильтра оценки диапазона. Добавлена возможность манипуляции фигурами без использования колеса мыши, например, на планшетных ПК. Предложен балансирующий между OpenCL и CPU режим сегментирования (tiling), который позволяет привлекать CPU к сегментированию, когда на графической карте нехватает памяти для выполнения этой операции при помощи OpenCL.