Релиз Firefox 95

Состоялся релиз web-браузера Firefox 95. Кроме того, сформировано обновление ветки с длительным сроком поддержки - 91.4.0. На стадию бета-тестирования в ближайшее время будет переведена ветка Firefox 96, релиз которой намечен на 11 января. Основные новшества: Для всех поддерживаемых платформ реализован дополнительный уровень изоляции, основанный на технологии RLBox. Предложенный слой изоляции обеспечивает блокировку проблем с безопасностью в сторонних библиотеках функций, которые не подконтрольны разработчикам Firеfox, но могут скомпрометировать основной проект в случае выявления уязвимостей. В текущем выпуске RLBox применён для изоляции библиотек Graphite, Hunspell и Ogg, а в следующем выпуске ожидается изоляция Expat и Woff2. Механизм работы RLBox сводится к компиляции C/C++ кода изолируемой библиотеки в низкоуровневый промежуточный код WebAssembly, который затем оформляется в виде WebAssembly-модуля, полномочия которого задаются в привязке только к этому модулю (например, библиотека для обработки строк не сможет открыть сетевой сокет или файл). Для непосредственного выполнения WebAssembly-модуль компилируется в машинный код при помощи компилятора wasm2c и выполняется в отдельной области памяти, не имея доступа к остальному адресному пространству. Для всех пользователей активирован режим строгой изоляции сайтов, развивавшийся в рамках проекта Fission. В отличие от применяемого до настоящего времени произвольного распределения обработки вкладок по доступному пулу процессов (по умолчанию 8), режим строгой изоляции выносит обработку каждого сайта в свой отдельный процесс с разделением не по вкладкам, а по доменам (Public Suffix). Режим строгой изоляции обеспечивает более надёжную защиту от атак класса Spectre, снижает фрагментацию памяти, позволяет дополнительно изолировать содержимое внешних скриптов и iframe-блоков, более эффективно возвращает память операционной системе, минимизирует влияние сборки мусора и интенсивных вычислений на страницы в других процессах, увеличивает эффективность распределения нагрузки на разные ядра CPU и повышает стабильность (крах процесса, обрабатывающего iframe, не потянет за собой основной сайт и другие вкладки). Ценой является общее повышение потребления памяти при большом числе открытых сайтов. Продолжена работа по улучшению поддержки протокола Wayland. Порт Firefox для Wayland доведён до общего паритета в функциональности со сборкой для X11 при работе в GNOME-окружении Fedora. В контекстное меню режима "картинка в картинке" (Picture-in-Picture) добавлена опция для перемещения кнопки переключения режима просмотра в противоположную сторону на видео. Реализована технология упреждающей компиляции JavaScript-кода, позволившая повысить производительность загрузки страниц. Внесены оптимизации в работу системы распределения памяти. Включено переопределение значения User Agent для сайта Slack.com на "Chrome", что позволило получить доступ к дополнительным возможностям Slack, таким как голосовые/видео вызовы и конференции (huddles), ранее не предоставляемым при открытии сайта в Firefox. Отключить переопределение User Agent можно на странице "about:compat". На всех платформах реализована поддержка глобального атрибута inputmode, применяемого для указании информации о типах данных, которые могут быть введены при редактировании элемента. Указанная информация используется для выбора экранной клавиатуры, наиболее подходящей для редактирования текущего элемента на устройствах с сенсорным экраном. Ранее поддержка inputmode ограничивалась только платформой Android. Добавлена функция Crypto.randomUUID(), возвращающая криптографически надёжный 36-символьный UUID. В сборках для платформы macOS снижена нагрузка на CPU в процессе обработки событий, ускорен запуск процессов обработки контента и снижено энергопотребление при программном декодировании видео, в том числе при воспроизведении видео с сайтов Netflix и Amazon Prime Video. Для платформ Windows 10 и Windows 11 предоставлена возможность установки Firefox из каталога Microsoft Store. В версии для платформы Android в меню с настройками реализована новая секция Homepage. На странице "Вернуться назад" ("Jump back in") обеспечен показ основных изображений с сайтов (Hero Image). Реализован запрос подтверждения при включении режима автоматического закрытия вкладок. В версии для платформы Android реализована поддержка CSS-свойства cursor, при помощи которого можно визуально отметить элементы, доступные для клика, что может упростить работу пользователей Android, применяющих манипулятор "мышь" (изображение курсора будет меняться при наведении на подобные элементы). Кроме новшеств и исправления ошибок в Firefox 95 устранено 18 уязвимостей, из которых 11 помечены как опасные. 8 уязвимостей вызваны проблемами работы с памятью, такими как переполнения буферов и обращение к уже освобождённым областям памяти. Потенциально данные проблемы способны привести к выполнению кода злоумышленника при открытии специально оформленных страниц.