Выпуск десктоп-окружения Cinnamon 2.6

После семи месяцев разработки представлен релиз пользовательского окружения Cinnamon 2.6, в рамках которого сообществом разработчиков дистрибутива Linux Mint развивается форк оболочки GNOME Shell, файлового менеджера Nautilus и оконного менеджера Mutter, нацеленный на предоставление окружения в классическом стиле GNOME 2 c поддержкой удачных элементов взаимодействия из GNOME Shell. Cinnamon основывается на компонентах GNOME, но эти компоненты поставляются как периодически синхронизируемый форк, не связанный внешними зависимостями с GNOME. Установочные пакеты подготовлены для Linux Mint, Ubuntu, Debian, Fedora, Arch Linux, Gentoo, openSUSE и ALT Linux. В конце июня ожидается выпуск дистрибутива Linux Mint 17.2 "Rafaela", в котором будет предложено обновление до Cinnamon 2.6. Новый выпуск Cinnamon также будет предложен в дистрибутиве LMDE 2 "Betsy" (Linux Mint Debian Edition). Основные новшества Cinnamon 2.6: Хранитель экрана "cinnamon-screensaver" теперь не ограничивается функциями блокировки экрана и может выполнять модули XScreenSaver и HTML5-апплеты для создания анимации и визуальных эффектов во время блокировки. Во время блокировки можно управлять яркостью экрана и подсветкой клавиатуры; Изменено оформление и проведена реорганизация интерфейса для настройки параметров системы. Конфигуратор запускаемых приложений ("Startup Applications") полностью переписан и представлен в форме полноценного модуля для системы настройки Cinnamon. Проведена оптимизация настроек по умолчанию, например, окна теперь открываются в центре экрана, включена прокрутка двумя пальцами на тачпаде и т.п. Упрощена настройка визуальных эффектов для окон и добавлены новые эффекты. Переработаны и объединены в один блок опции для управления питанием, яркостью и аккумулятором. Переработан апплет для управления питанием, в котором появились средства настройки яркости экрана и подсветки клавиатуры. В файловом менеджере Nemo представлен новый интерфейс управления плагинами. Упрощена структура контекстных меню, в которых теперь выводятся только наиболее полезные действия (показ всех возможных действий можно вернуть в настройках). Для политики запуска с правами root обеспечено кэширования параметров аутентификации, что позволяет избежать лишнего ввода пароля при частом выполнении типовых работ. Файловые операции теперь помещаются в очередь и выполняются последовательно, а не параллельно. Добавлена возможность индивидуального добавления, удаления и настройки панелей и их перемещения в другую позицию или на другой монитор. К каждой панели можно привязывать свой набор апплетов, в том числе разные версии одного апплета или несколько вариантов одного апплета с разными настройками. Представлен новый метод "умного" автоскрытия панели ("intelli-hide"). Переработан способ определения зон размещения апплетов (слева, справа, по центру), добавлена поддержка центрирования независимо от наличия апплетов в соседних зонах; Представлен новый апплет, который позволяет мгновенно запретить вывод любых уведомлений или отключить средства управления питанием (отключается затемнение экрана и вызов хранителя экрана). Апплет также позволяет выяснить, что какая-то программа заблокировала средства управления питанием. Улучшены апплеты переключения пользователей и настройки сети; В апплете управления громкостью улучшена поддержка PulseAudio и повышено качество определения имеющихся устройств вывода звука. Добавлена возможность индивидуальной настройки громкости для каждого приложения; Улучшена поддержка многомониторных конфигураций. Упрощён процесс перемещения окон между мониторами. Для быстрого перемещения окна с одного монитора на другой добавлена клавиатурная комбинация Super+Shift+стрелка. Существенно улучшены средства для размещения нескольких панелей на разных мониторах. Апплеты адаптированы для запуска нескольких экземпляров на системах с несколькими мониторами и панелями. Например, апплет вывода списка окон показывает только окна текущего монитора, если на втором мониторе размещена отдельная панель со своим списком окон. Добавлена поддержка бесшовного использования logind и consolekit-upower, не требующая перекомпиляции для перехода с ConsoleKit. Бэкенды для управления сеансами и энергопотреблением теперь могут меняться простым изменением настроек в gsettings: при установке опции session-manager-uses-logind=ture в секции org.cinnamon.desktop.session для перезагрузки и спящего/ждущего режимов будет задействован logind, при установке session-manager-uses-logind=false будет использован consolekit. Аналогичным образом настраиваются опции settings-daemon-uses-logind и screensaver-uses-logind. Проделана большая работа по оценке потребления ресурсов CPU в различных компонентах Cinnamon. Проведены оптимизации различных обработчиков событий и сокращено число или уменьшена интенсивность запускаемых задач. Например, в шесть раз сокращена интенсивность обновления меню, число операций при подсоединении USB-устройств сокращено с 4 до 1 за счёт группировки сигналов. Значительно увеличена эффективность работы подсистемы docinfo, предоставляющей средства для отслеживания недавно открытых файлов. Например, отключена функция генерации в меню эскизов недавно открытых файлов, которая очень сильно загружала CPU. На 40% снижена интенсивность пробуждения процессора за счёт избавления от лишних вычислений в коде управления окнами. Проведён анализ времени запуска Cinnamon и MDM. За исключением первого запуска после перезагрузки компьютера, инициализация Cinnamon выполняется достаточно быстро и занимает не более двух секунд. Что касается первого запуска, то в этом случае загрузка может достигать 40 секунд. Основной проблемой является низкая эффективность хэша чтения данных с жесткого диска при считывании данных GIO appinfo и тем оформления пиктограмм. Для преодоления данной проблемы в Cinnamon 2.6 обеспечена возможность применения механизма preload для упреждающей загрузки тем и appinfo в асинхронном режиме на начальной стадии запуска. Для эффективной загрузки тем пиктограмм их следует указать в /etc/cinnamon/preload/iconthemes.d/. В логах обеспечено отражение информации о времени запуска компонентов рабочего стола Cinnamon и отдельных аплетов. На том оборудовании, на котором это возможно, теперь используется новый API Cogl, что позволило избавиться от наблюдавшихся в прошлых выпусках зависаний рабочего стола. Для экстренного перезапуска Cinnamon в случае зависания добавлена возможность использования клавиатурной комбинации Ctrl+Alt+Escape, при нажатии которой перезапускаются программы nemo и cinnamon-settings-daemon и выполняется новый экземпляр рабочего стола. В отличие от Ctrl+Alt+Backspace сохраняются сеанс пользователя, все запущенные приложения и открытые окна.