Релиз операционной системы Dragonfly BSD 3.8

Увидел свет релиз DragonFlyBSD 3.8, операционной системы с гибридным ядром, созданной в 2003 году с целью альтернативного развития ветки FreeBSD 4.x. Из особенностей DragonFly BSD можно выделить распределённую версионную файловую систему HAMMER, поддержку загрузки "виртуальных" ядер системы как пользовательских процессов, возможность кэширования данных и мета-данных ФС на SSD-накопителях, учитывающие контекст вариантные символические ссылки, возможность заморозки процессов с сохранением их состояния на диске, гибридное ядро, использующее легковесные потоки (LWKT). Среди ключевых улучшений выпуска DragonFly BSD 3.8 отмечается использование динамического связывания для исполняемых файлов в /bin и /sbin, переход на новый USB-стек USB4BSD, включение в поставку обновлённых видеодрайверов drm/i915 и drm/radeon. Dragonfly BSD 3.8 станет последним выпуском с поддержкой 32-разрядной архитектуры i386, будущие релизы смогут работать только на 64-разрядных системах. Более того, в текущем выпуске готовые сборки пакетов сформированы в репозитории dports только для 64-разрядных систем, 32-разрядные варианты пакетов нужно собирать вручную. Для загрузки доступны 32- и 64-разрядные установочные образы размером 202 Мб для CD и USB Flash. Выпуск расширенных образов размером 1 Гб с десктоп-окружением для установки на DVD и USB Flash задерживается. Все доступные образы могут работать в Live-режиме, что позволяет оценить работу DragonFly BSD без установки на диск. Основные улучшения, добавленные в DragonFlyBSD 3.8: Исполняемые файлы в директориях /bin и /sbin теперь собраны с использованием динамического связывания, что позволяет использовать в данных программах такие системы идентификации и аутентификации, как PAM и NSS. Некоторые библиотеки, требуемые для программ из /bin и /sbin, перенесены в директорию /lib; По умолчанию задействован новый USB-стек USB4BSD, который ранее предлагался в качестве экспериментальной опции. Стек USB4BSD создан на основе портирования кода из FreeBSD 8 и примечателен поддержкой хост-контроллеров xhci (USB 3.0) и расширением совместимости с USB-устройствами. Отмечается, что в новом стеке могут наблюдаться проблемы с использованием некоторых сетевых устройств с интерфейсом USB; Из FreeBSD портирована новая версия модуля drm/i915 для переключения видеорежимов на уровня ядра для видеокарт Intel. Поддержка KMS необходима для использования свежих версий видеодрайверов Intel, в которых была удалена поддержка переключения видеорежимов на пользовательском уровне (UMS) и оставлена только поддержка KMS (Kernel Mode Setting) для переключения видеорежимов на уровне ядра. Обеспечена поддержка менеджеров управления видеопамятью GEM и TTM. Проведена частичная синхронизация кода драйвера drm/i915 с модулем из состава ядра Linux 3.8. В будущем планируется обеспечить поддержку графической подсистемы процессоров Haswell и ValleyView/Bay Trail. В настоящее время поддержка ограничена GPU HD4000, используемого в процессорах Ivy Bridge. Менеджер видеопамяти drm/ttm, используемый в драйвере drm/radeon для GPU компании AMD, синхронизирован с кодом из ядра Linux 3.9, что позволило заметно поднять стабильность работы драйвера, но уровень стабилизации ещё не позволяет включить драйвер drm/radeon по умолчанию; В состав выпуска входит обновлённый вариант ФС HAMMER2, но она пока не готова для использования. Разработка HAMMER2 будет продолжена в ветке DragonFly 3.9. В HAMMER2 появятся такие функции, как отдельное монтирование снапшотов, доступные на запись снапшоты, квоты на уровне директорий, инкрементальное зеркалирование, поддержка различных алгоритмов сжатия данных, multi-master зеркалирование с распределением данных на несколько хостов; Налажена поддержка IPv4 multicast; В утилиту pfi добавлена поддержка опции authorized_keys; Добавлен скрипт tools/hammer-backup.sh с реализацией простой системы резервного копирования ФС Hammer; Обновлены утилиты units, sed, cmp, newgrp, fetch, patch, install и daemon; Интегрирован код поддержки SysV IPC в пространстве пользователя; C FreeBSD синхронизирован код драйверов ohci, uhci и xhci; Обновлены драйверы iwn, ath, bwn, vtnet, arcmsr. Добавлен драйвер cyapa с поддержкой тачпадов, используемых в Chromebook. Прекращена поддержка протоколов ATM, IPX и NCP. Удалена поддержка файловой системы NWFS; Обновлены сторонние приложения, поставляемые в базовой системе: bmake 20131001, mdocml 1.12.3, binutils 2.24, dma 0.9, libpcap 1.4.0, file 5.18, OpenSSL 1.0.1g, ee 1.5.2, tcplay 2.0, tzdata2014c, ACPICA 20140424.