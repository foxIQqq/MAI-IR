Выпуск Cryptsetup 2.6 с поддержкой механизма шифрования FileVault2

Опубликован набор утилит Cryptsetup 2.6, предназначенных для настройки шифрования дисковых разделов в Linux при помощи модуля dm-crypt. Поддерживается работа с разделами dm-crypt, LUKS, LUKS2, BITLK, loop-AES и TrueCrypt/VeraCrypt. В состав также входят утилиты veritysetup и integritysetup для настройки средств контроля целостности данных на основе модулей dm-verity и dm-integrity. Ключевые улучшения: Добавлена поддержка устройств хранения, зашифрованных с использованием механизма FileVault2, применяемого для полнодискового шифрования в macOS. Cryptsetup в комбинации с драйвером hfsplus теперь может открывать зашифрованные при помощи FileVault2 USB-накопители в режиме чтения и записи на системах с обычным ядром Linux. Поддерживается доступ к накопителям с файловой системой HFS+ и с разделами Core Storage (разделы с APFS пока не поддерживаются). Библиотека libcryptsetup избавлена от глобальной блокировки всей памяти через вызов mlockall(), применявшейся для предотвращения утечки конфиденциальных данных в раздел подкачки. Из-за превышения ограничения на максимальный размер блокируемой памяти при запуске без прав root, в новой версии применена выборочная блокировка только тех областей памяти, в которых хранятся ключи шифрования. Повышен приоритет процессов, выполняющих формирование ключа (PBKDF). Добавлены функции для добавления в слот ключей LUKS (keyslot) токенов LUKS2 и двоичных ключей, помимо ранее поддерживаемых парольных фраз и файлов с ключами. Предоставлена возможность извлечения ключа раздела при помощи парольной фразы, файла с ключом или токена. В veritysetup добавлена опция "--use-tasklets", позволяющая добиться повышения производительности на некоторых системах с ядром Linux 6.x.