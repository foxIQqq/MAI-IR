Принятие кода Xen Dom0 в основную ветку ядра находится под вопросом

В ответ на приглашение в списке рассылки Linux Kernel (LKML) оставлять свои комментарии по поводу недавних патчей для Xen Dom0, Эндрю Мортон ставит вопрос о целесообразности дальнейшего развития этого направления виртуализации в основной ветке ядра. По его мнению Xen несколько «устарел», и не выглядит так привлекательно, как KVM. Эндрю обеспокоен тем фактом, что Xen не использует стандартные интерфейсы для обмена данными внутри ядра, и как бы разработчикам не пришлось через 3 года жалеть о решении совместить пока еще плохо уживающиеся технологии. В то время, как модуль KVM планомерно и с достаточно высокой скоростью «обрастает» новым функционалом, а его поддержание стало обыденной работой маинтейнеров ядра, развитие Xen остановилось на релизе 2.6.18. Отсюда проблемы с поддержкой нового оборудования. Портирование же драйверов в старое ядро — занятие достаточно ресурсоемкое и требующее дополнительной отладки. Разработчики Xen пытаются нагнать упущенное время и выпускают патчи, позволяющие более полно использовать опции паравиртуализации ядра. Уже поддерживается версия гостевой ОС на ядре Linux 2.6.23. Код находится в основной ветке, что практически гарантирует его беспроблемную работу с любым современным Xen гипервизором. По поводу необходимости продолжения работы над Xen сейчас ведется жаркая полемика. Основной аргумент защитников — это отсутствие у Xen зависимости от поддержки расширений виртуализации AMD-V и Intel VT. Гипервизор Xen может запускать виртуальную машину, практически не оказывая влияние на ее быстродействие. На противоположной чаше весов, признанное разработчиками Xen низкое качество кода гипервизора, которое в текущем его виде не может быть интегрировано в ядро Linux. Дополнительные патчи и массивное переписывание кода Xen неизбежно сопряжено с ошибками и их последующим исправлением, и если в Linux и появится полная поддержка Xen, то это произойдет не раньше, чем в версии ядра 2.6.30.