Разработчики Fedora рассматривают возможность включения телеметрии

Ифе Молони (Aoife Moloney) из команды развития платформы Fedora (Community Platform Engineering Team) и Майкл Катандзаро (Michael Catanzaro), разработчик браузера Epiphany и WebKitGTK из компании Red Hat, предложили включить в Fedora Workstation 40 механизм сбора телеметрии, учитывающий интересы пользователей по обеспечению конфиденциальности. Предполагается, что собираемая информация о системах даст возможность лучше понять предпочтения пользователей и учесть их при принятии решений, связанных с развитием дистрибутива, определением приоритетов в разработке и повышением удобства работы. Предложение пока не рассмотрено комитетом FESCo (Fedora Engineering Steering Committee), отвечающим за техническую часть разработки дистрибутива Fedora. Предложение также может быть отклонено в процессе рецензирования сообществом. Телеметрию предлагается включить по умолчанию для новых установок, предусмотрев возможность её отключения на стадии до первой отправки данных. При обновлении системы с прошлого выпуска телеметрия по умолчанию будет отключена. Кнопки для отключения будут добавлены в мастер первичной настройки и в конфигуратор GNOME Сontrol Center, при этом для финальной активации пользователь должен обязательно завершить просмотр раздела "конфиденциальность". Cбор телеметрии отделён от отправки - сбор включается сразу, а отправка активируется только после показа пользователю страницы с параметрами конфиденциальности. В мастере начальной настройки ползунок включения телеметрии активирован по умолчанию и если пользователь не перевёл его в неактивное состояние, то после закрытия страницы с настройками приватности активируется отправка телеметрии. Если пользователь отключил ползунок, то уже накопленные данные удаляются и дальнейший сбор данных отключается. В случае если пользователь отклонил вход в мастер начальной настройки, в конфигураторе GNOME ползунок телеметрии будет по умолчанию не активен (без его явного включения метрики будут продолжать собираться, но не будут отправляться). Процесс передачи телеметрии планируется сделать максимально прозрачным для аудита, а собираемые метрики регламентировать в отдельном наборе правил, которые будут описывать какие типы данные допустимо собирать, а какие нет. Сообществу будут предоставлена возможность надзора за сбором данных, что позволит гарантировать отсутствие злоупотреблений, сохранение конфиденциальности и соблюдение принятых правил. Для отправки данных будет применяться технология "этической телеметрии" Azafea, реализованная в дистрибутиве Endless. Azafea манипулирует агрегированными данными без построения профилей отдельных пользователей и без обращения к внешним сервисам (таким как Google Analytics), агрегаторам и хранилищам. Приём и обработка информации будет осуществляться серверами в инфраструктуре проекта Fedora. Код компонентов для обработки телеметрии Azafea открыт и при желании пользователи могут развернуть сервер для сбора телеметрии на своих мощностях, например, для накопления статистики с дополнительными метриками о работе систем в локальных сетях. Детальный список допустимых для сбора метрик пока не определён и в дальнейшем будет сформирован с учётом мнения сообщества. Одной из целей включения телеметрии является желание проанализировать компанией Red Hat то, насколько Fedora Workstation отвечает потребностям разработчиков для облачных систем. Например, телеметрия позволит понять какие интегрированные среды разработки и инструменты работы с контейнерами пользуются популярностью среди пользователей, а также оценить правильность решений в области дизайна интерфейса пользователя. Из планируемых к сбору сведении также упоминается статистика о нажатиях мышью на подсказки с рекомендациями установки ПО в GNOME Software, данные о частоте обращения к панелям и настройкам в конфигураторе, информация о времени загрузки, типах накопителей (НЖМД или SSD), моделях ноутбуков и выбранной локали. Подробности о том какие именно данные отправляются, в каком виде передаются и для каких целей используются будут представлены на отдельных информационных страницах в gnome-initial-setup и gnome-control-center. На стороне сервера будут задействованы прокси первичного приёма данных и сервис azafea для обработки поступающих метрик. Код azafea написан на языке Python и открыт под лицензией MPL 2.0. Для приёма соединений и перенаправления их в прокси будет задействован HTTP-сервер nginx. Прокси временно помещает принятые от пользователя метрики в хранилище Redis, а сервис azafea периодически извлекает их и сохраняет в СУБД PostgreSQL. IP-адреса пользователей в БД не сохраняются (по локальной базе GeoIP определяется и сохраняется страна). На стороне пользователя для накопления и отправки телеметрии будут задействованы пакеты eos-metrics (интерфейс D-Bus для записи событий от приложений и сервисов), eos-event-recorder-daemon (фоновый процесс для накопления и отправки телеметрии) и eos-metrics-instrumentation (компоненты для сбора отдельных метрик).