Выпуск FreeBSD 12.4

Представлен релиз FreeBSD 12.4. Установочные образы доступны для архитектур amd64, i386, powerpc, powerpc64, powerpcspe, sparc64 и armv6, armv7 и aarch64. Дополнительно подготовлены образы для систем виртуализации (QCOW2, VHD, VMDK, raw) и облачных окружений Amazon EC2. FreeBSD 12.4 станет последним обновлением ветки 12.x, сопровождение которой продлится до 31 декабря 2023 года. Весной будет подготовлено обновление FreeBSD 13.2, а на июль 2023 года запланирован выпуск FreeBSD 14.0. Ключевые новшества: Переведён в разряд устаревших серверный процесс telnetd, кодовая база которого находится без сопровождения и имеет проблемы с качеством. В ветке FreeBSD 14 код telnetd будет удалён из системы. Поддержка клиента telnet остаётся без изменения. В драйвере if_epair, применяемом для создания виртуальных Ethernet-интерфейсов, обеспечена возможность распараллеливания обработки трафика с привлечением нескольких ядер CPU. В утилите cp реализована защита от возникновения бесконечной рекурсии при использовании флага "-R", обеспечена корректная обработка флагов "-H", "-L" и "-P" (например, при указании "-H" или "-P" прекращено раскрытие символических ссылок), разрешено использование флага "-P" без флага "-R". Улучшена работа утилит nfsd, elfctl, usbconfig, fsck_ufs и growfs. В командном интерпретаторе sh изменена логика загрузки профилей: вначале из каталога /etc/profile.d загружаются все файлы с расширением ".sh", затем загружается файл /usr/local/etc/profile, после чего файлы с расширением ".sh" загружаются из каталога /usr/local/etc/profile.d/. В утилите tcpdump предоставлена возможность установки числа правил, отображаемых в заголовке pflog. C DragonFly BSD синхронизирован код агента доставки сообщений dma (DragonFly Mail Agent), который обеспечивает приём и доставку сообщений от локальных почтовых клиентов (обработка сетевых SMTP-запросов через 25 порт не поддерживается). В пакетном фильтре pf устранены утечки памяти и улучшена синхронизация состояния при перенаправлении трафика при использовании pfsync. В пакетный фильтр ipfilter добавлены проверочные вызовы DT5 и SDT для механизма трассировки dtrace. Реализована возможность сброса дампа с копией ippool в формате ippool.conf. Запрещено изменение правил ipfilter, таблиц трансляции адресов и ip-пулов (ippool) из jail-окружений, в которых не используется виртуальный сетевой стек VNET. Во фреймворк hwpmc (Hardware Performance Monitoring Counter) добавлена поддержка CPU Intel на базе микроархитектур Comet Lake, Ice Lake, Tiger Lake и Rocket Lake. Улучшена поддержка оборудования. Устранены ошибки в драйверах aesni, aw_spi, igc, ixl, mpr, ocs_fc, snd_uaudio, usb. До версии 2.6.1 обновлён драйвер ena с поддержкой второго поколения сетевых адаптеров ENAv2 (Elastic Network Adapter), используемых в инфраструктуре Elastic Compute Cloud (EC2) для организации связи между узлами EC2. Обновлены версии входящих в базовую систему сторонних приложений: LLVM 13, unbound 1.16.3, OpenSSL 1.1.1q, OpenSSH 9.1p1, file 5.43, libarchive 3.6.0, sqlite 3.39.3, expat 2.4.9, hostapd/wpa_supplicant 2.10.