Выпуск Mozilla Things Gateway 0.7, шлюза для умного дома и IoT-устройств

Компания Mozilla представила выпуск Things Gateway 0.7, который представляет собой универсальную прослойку для организации доступа к различным категориям потребительских и IoT-устройств, скрывающую за собой особенности каждой платформы и не требующую использования специфичных для каждого производителя приложений. Код проекта написан на языке JavaScript с использованием серверной платформы Node.js. Для взаимодействия шлюза с IoT-платформами можно использовать протоколы ZigBee и ZWave, WiFi или прямое подключение через GPIO. Прошивки с шлюзом подготовлены для различных моделей Raspberry Pi. Шлюз можно установить на плату Raspberry Pi и получить систему управления умным домом, объединяющую все имеющиеся в доме IoT-устройства и предоставляющую средства для мониторинга и управления ими через Web-интерфейс. Платформа также позволяет создавать дополнительные web-приложения, которые могут взаимодействовать с устройствами через Web Thing API. Таким образом, вместо установки своего мобильного приложения для каждого типа IoT-устройств, можно использовать единый унифицированный web-интерфейс. Для установки Things Gateway достаточно загрузить предоставленную прошивку на SD-карту, открыть в браузере хост "gateway.local", настроить подключение к WiFi, ZigBee или ZWave, найти имеющиеся IoT-устройства, настроить параметры для доступа извне и добавить самые востребованные устройства на домашний экран. Шлюз поддерживает такие функции, как определение устройств в локальной сети, выбор web-адреса для соединения с устройствами из интернета, создание учётных записей для доступа к web-интерфейсу шлюза, подключение к шлюзу устройств, поддерживающих проприетарные протоколы ZigBee и Z-Wave, удалённое включение и выключение устройств из web-приложения, удалённый мониторинг за состоянием дома и видеонаблюдение. Кроме web-интерфейса и API в шлюзе также реализована экспериментальная поддержка голосового управления, позволяющая распознавать и выполнять голосовые команды (например, "включи свет на кухне"). Основные новшества: Добавлена поддержка подключения IP-камер для организации видеонаблюдения. Информация с камер может забираться как в форме потокового видео, так и для экономии трафика в виде отдельных снимков. Поддерживаются камеры, соответствующие стандарту ONVIF, такие как Foscam R2. Поддержка камер пока преподносится как экспериментальная. В дальнейшем планируется расширить спектр поддерживаемых камер, улучшить интерфейс пользователя и провести оптимизацию производительности видео (при размещении шлюза на Raspberry Pi возникают большие задержки из-за перекодирования); Для включения в настройках (Settings > Add-ons) необходимо установить дополнение ONVIF, после чего следует настроить доступ к камере через секцию "Configure" в дополнении. После настройки камеры её можно будет добавить в список доступных устройств через кнопку "+" на экране "Things". Затем после клика на появившейся в списке камере будет предложен интерфейс для создания отдельных снимков или просмотра потокового видео; Обеспечена поддержка датчиков температуры (Eve Degree, Eve Room и SmartThings Multipurpose) и датчиков утечки воды (SmartThings Water Leak Sensor и Fibaro Flood Sensor). Подключив указанные датчики пользователь может добавить правила для автоматического включения кондиционера или вентилятора, если температура превысит заданный предел, или настроить отправку уведомления, если датчик зафиксирует наличие воды на полу. Внесены изменения в формат описания устройств, позволяющие определять списки поддерживаемых свойств, действий и событий (объекты Property, Action и Event теперь могут включать массивы ссылок, например, для видеокамеры можно указать ссылки на видео и отдельное изображение); Из дальнейших планов отмечается работа по включению Things Gateway в дистрибутивы для беспроводных маршрутизаторов, что позволит использовать данные устройства не только для обеспечения сетевого доступа, но и в качестве узлов управления умным домом. В том числе планируется подготовить собственный дистрибутив на базе OpenWrt с интегрированной поддержкой Things Gateway, предоставляющий унифицированный интерфейс для настройки умного дома и беспроводной точки доступа.