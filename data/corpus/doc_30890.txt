Второй выпуск инструментария KVM для Linux-ядра и корректирующий релиз Xen 4.1.1

Представлен второй выпуск проекта Native Linux KVM tool, в рамках которого развивается инструментарий для обеспечения работы с системой виртуализации KVМ, который планируется поставлять в составе Linux-ядра. Целью проекта является создание упрощенного инструмента для запуска гостевых виртуальных окружений под управлением KVM, работающего независимо от QEMU и не требующего установки пакета qemu-kvm. По сравнению с первым выпуском отмечается значительный прогресс развития проекта. Разработчики рассчитывают добиться включения кода Native Linux KVM tool в состав Linux-ядра, начиная с версии 3.1. Интеграция позволит синхронизировать разработку частей KVM, работающих на уровне ядра и пользовательских инструментов, а также обеспечить возможность работы KVM без установки дополнительных компонентов. В Native Linux KVM tool гарантируется, что утилита всегда будет совместима с ABI KVM текущего ядра, так как код утилиты развивается в одном репозитории и неразрывно от KVM (в случае qemu-kvm, при смене ABI KVM нужно ждать пока под изменение адаптируют сторонний проект qemu-kvm). Из добавленных во втором выпуске новшеств можно отметить: Экспериментальная поддержка GUI-интерфейса, базирующегося на SDL и VNC; Поддержка SMP. Инструментарий (tools/kvm/) теперь хорошо масштабируется, реализует интерфейс к драйверу с минимумом блокировок, в коде отдельных драйверов использует fine-grained блокировки; Поддержка virtio-сети на базе виртуальных сетевых адаптеров (TAP); Поддержка быстрой работы (чтение и запись) с образами виртуальных машин в формате QCOW2. Тесты производительности показали, что реализация поддержки QCOW2 опережает по скорости Qemu; Поддержка Virtio-9p для доступа из гостевых окружений к участкам файловой системы хост-окружения; Реализация virtio-драйвера с реализацией генератора случайных чисел; На 64-разрядных системах блочные устройства могут быть использованы для загрузки гостевых систем, работая в режиме copy-on-write с сохранением изменений в памяти. Дополнительно, можно отметить выход корректирующего релиза системы виртуализации Xen 4.1.1. Основные изменения: Устранение уявзимостей CVE-2011-1583 (целочисленное переполнение в коде распаковки паравиртуализированной гостевой системы) и CVE-2011-1898 (устранение уязвимости в механизме виртуализации Intel VT-d); Многочисленные улучшения, связанные со стабильностью. Например, решение проблем с обработкой IRQ для PV-on-HVM, для паравиртуальных гостевых систем добавлена поддержка процессорного флага XSAVE и т.п. Улучшение совместимости с гостевыми системами на базе новых Linux-дистрибутивов, поддержка новых компиляторов, новых версий Python, grub2. Добавление обходных путей для некоторых ошибок, связанных с BIOS и оборудованием.