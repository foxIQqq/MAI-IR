В KDE Plasma 6 будут включены по умолчанию Wayland и плавающая панель

Разработчики проекта KDE приняли решение изменить некоторые настройки по умолчанию в грядущем выпуске KDE Plasma 6, который ожидается осенью 2023 года. Среди наиболее важных решений: По умолчанию будет использоваться сеанс, использующий протокол Wayland, а работа с использованием X11 будет переведена в разряд опций. При желании пользователи и дистрибутивы смогут вернуться к использованию сеанса на базе X11, но Wayland будет преподноситься как официально рекомендованный протокол. Для координации работы по переходу на Wayland создана wiki-страница с перечнем основных проблем и недоработок, которые наблюдаются в сеансе на базе Wayland. Среди наиболее значимых недоработок отмечаются проблемы с восстановлением окон при возобновлении сеанса, завершение не-Qt приложений в случае аварийного завершения композитного сервера, отсутствие средств для управления цветом и проблемы, специфичные для систем с видеокартами NVIDIA. По умолчанию будет задействован плавающий режим показа панели, при котором имеются видимые отступы между панелью и границами экрана, придающие пользовательскому окружению самобытный вид (после появления в Windows 11 панели, похожей на старую панель KDE, некоторые пользователи считают, что KDE копирует оформление Windows, хотя в KDE подобная панель была предложена задолго до Windows 11). Для открытия файлов и каталогов по умолчанию будет требоваться двойной щелчок мышью, а не одинарный как было раньше, что упростит адаптацию в новом окружении пользователей из других систем. При необходимости старое поведение можно будет вернуть в настройках. Область заголовка активного окна решено подсвечивать цветом, применяемым в выбранной теме оформления для выделения активных элементов (accent). Ранее для этих целей применялся оттенок серого, но в этом случае возникали проблемы с визуальным отделением активного окна от неактивных. Будет изменён интерфейс переключения между задачами. В качестве причины замены старого Breeze Task Switcher упоминается необходимость вертикальной прокрутки даже при небольшом числе окон. Новый интерфейс "Thumbnail Grid" позволит сразу видеть все имеющиеся окна, без необходимости траты времени на прокрутку. В новом интерфейсе кроме эскизов окон будут показываться пиктограммы приложений, что упростит навигацию для тех, кто привык идентифицировать программы по их пиктограммам, а не текстовому названию. Кроме того, будет выполнена отвязка переключателя задач от глобальной темы оформления, что позволит менять тему не опасаясь, что вместе с ней будет заменён и переключатель задач. Решено убрать переключение виртуальных рабочих столов при попытке прокрутки на рабочем столе. Данная возможность сбивала с толку многих пользователей, особенно если переключение производилось на рабочий стол с раскрытыми окнами и прокруткой уже не получалось вернуться назад. Для тех кто привык к данному режиму его можно будет вернуть в настройках. Появится возможность быстрой смены позиции в окне через щелчок мышью на области прокрутки, что позволит обойтись без перетаскивания мышью полосы прокрутки. Планируется убрать разделение между типами плагинов для рабочего стола "Folder" и "Desktop". Так как отличия плагинов с типом Desktop сводятся к размещению пиктограмм непосредственно на рабочем столе, в Plasma 6 намерены вместо разделения типов просто отображать опцию "показать пиктограммы на рабочем столе". Разработчики KDE также обсудили вопрос продления цикла подготовки новых выпусков. Вместо ранее применяемой модели с 3 релизами в год рассматривается возможность перехода к выпуску 2 релизов в год. Отмечается, что схема с тремя релизами не удобна для дистрибутивов, у которых не всегда хватает времени на оттачивание пакетов. Разработчики KDE намерены попробовать перейти на 6-месячный цикл разработки после того как ветка Plasma 6 более-менее стабилизируется. Время выпусков планируют синхронизировать с графиком разработки основных дистрибутивов Linux по аналогии с тем как это делает проект GNOME. Ключевым изменением в KDE 6 является переход на Qt 6 и поставка обновлённого базового набора библиотек и runtime-компонентов KDE Frameworks 6, формирующего программный стек KDE. В KDE Frameworks 6 проводится большая переработка API, например, планируется предоставить новый API для работы с уведомлениями (KNotifications), упростить использование возможностей библиотек в окружениях без виджетов, переработать API KDeclarative, пересмотреть разделение классов API и runtime-сервисов для снижения числа зависимостей при использовании API. В текущем виде из 658 проектов KDE возможность сборки с Qt 6 реализована в 332 проектах. Среди компонентов, в которых пока не поддерживается Qt 6 - akonadi, akregator, colord-kde, dolphin, falkon, kdevelop, kget, kgpg, kmail, kopete, korganizer, ktorrent, okular, aura-browser и discover.