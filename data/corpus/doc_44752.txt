Доступен язык программирования Rust 1.10

Представлен релиз языка программирования Rust 1.10, развиваемого проектом Mozilla, обеспечивающего автоматическое управление памятью и предоставляющего средства для высокого параллелизма выполнения заданий, при этом обходясь без использования сборщика мусора и runtime. Параллельно с Rust совместно с компанией Samsung развивается экспериментальный браузерный движок Servo, написанный на языке Rust и отличающийся поддержкой многопоточного рендеринга web-страниц и распараллеливанием операций с DOM (Document Object Model). В состав нового выпуска принято 1276 изменений от 139 разработчиков, среди которых: Добавлена опция "-C panic=abort", позволяющая в случае краха из-за ошибки программы выполнить аварийное завершение работы, вместо вызова процесса "размотки" (unwinding). При отключении обработчиков unwind генерируется меньше кода и исполняемый файл получается более компактным (примерно на 10%), а компиляции производится немного быстрее; Представлен новый формат исполняемых контейнеров (crate type) cdylib, который рассчитан на компиляцию динамических библиотек, предназначенных для встраивания в программы на других языках. Ранее доступный формат dylib позиционируется для создания динамических библиотек для проектов на языке Rust. В отличие от dylib в cdylib не включаются метаданные, экспортируемые символы аналогичны исполняемым файлам, не допускается LTO и все библиотеки связываются статически. Сборка простейшего примера "hello world" при использовании cdylib занимает 7.2 Кб, в то время как при dylib - 2.4 Мб; Изменены требования для сборки компилятора Rust, который написан на языке Rust. Если ранее для сборки свежего стабильного релиза требовалось применение экспериментальных ночных выпусков Rust, что создавало большие трудности с поставкой rust в дистрибутивах, то отныне для сборки можно использовать прошлые стабильные выпуски. Т.е. для сборки Rust 1.10 достаточно наличия Rust 1.9, а для Rust 1.11 потребуется Rust 1.10; Внесено несколько оптимизаций производительности в компилятор: За счёт применения кэширования ключей инициализации ускорено создание HashMaps. Сокращено потребление памяти и примерно на 15% ускорена работа кода проверки типов. В два раза ускорена операция поиска для итераторов Chain. В 10 раз ускорены операции выборки битовых свойств в таблицах Unicode; В разряд стабильных переведено около 70 функций и методов, среди которых std::os::windows::fs::OpenOptionsExt, std::panic::{set,take}_hook, CStr::from_bytes_with_nul, compare_exchange, std::os::unix::net::{UnixStream, UnixListener, UnixDatagram, SocketAddr}; В Linux в качестве запасного пути инициализации HashMaps теперь может использоваться /dev/urandom, если getrandom недоступен (например, на начальной стадии загрузки системы); В пакетном менеджере Cargo добавлена опция profile.*.panic для управления реализацией обработки крахов, для вывода информации о состоянии теперь применяется stderr вместо stdout, запрещено использования ключевых слов Rust в именах контейнеров, добавлен флаг "--force" для команды "cargo install", добавлен режим "cargo --explain" аналогичный "rustc --explain". Напомним, что язык Rust сфокусирован на безопасной работе с памятью и обеспечении высокого параллелизма выполнения заданий. При этом Rust обходится без использования сборщика мусора или runtime, что делает возможным создания на Rust библиотек, которые могут выступать в роли прозрачной замены библиотекам для языка Си. Для распространения библиотек на языке Rust, обеспечения сборки и управления зависимостями проектом развивается пакетный менеджер Cargo, позволяющий получить нужные для программы библиотеки в один клик. Для размещения библиотек введён в строй репозиторий crates.io. По структуре язык Rust напоминает C++, но существенно отличается в некоторых деталях реализации синтаксиса и семантики. Автоматическое управление памятью избавляет разработчика от манипулирования указателями и защищает от проблем, возникающих из-за низкоуровневой работы с памятью, таких как обращение к области памяти после её освобождения, разыменование нулевых указателей, выход за границы буфера и т.п. Rust поддерживает смесь императивных, процедурных и объектно-ориентированных методов с такими парадигмами, как функциональное программирование и модель акторов, а также обобщённое программирование и метапрограммирование, в статических и динамических стилях.