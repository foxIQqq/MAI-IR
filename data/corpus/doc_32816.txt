Обновление ядра Linux: 2.6.32.54, 3.0.17, 3.1.9, 3.2.1. Ядро 3.3 преодолеет барьер в 15 млн строк

Представлены очередные корректирующие релизы ядра Linux: 3.2.1 (49 исправлений), 3.1.9 ( 42 исправления), 3.0.17 (40 исправлений) и 2.6.32.54 (20 исправлений). Как обычно, в анонсе выхода новых версий подчеркивается обязательность проведения обновления. Также упомянуто, что выпуск 3.1.9 скорее всего будет последним в ветке 3.1.x. Из подсистем в которые внесены исправления можно отметить: xfs, ext3, reiserfs, usb, cgroup, wl12xx. Кроме того, в ядре Linux обнаружено несколько уязвимостей: Целочисленное переполнение в "xfs_acl_from_disk()", которое может привести к повреждению памяти в области ядра при монтировании специально оформленного XFS-раздела (например, при подключении USB Flash); Целочисленное переполнение в "drm_mode_dirtyfb_ioctl()", которое потенциально может привести к повышению привилегий через отправку специально оформленного IOCTL; Уязвимость в "igmp_heard_query()" может быть использована для инициирования краха ядра через отправку специально оформленного IGMP-пакета; Ошибка в обработчике инструкции "syscall" (opcode 0f05) в KVM может привести к инициированию краха гостевой системы при запуске специально сформированного исполняемого файла; Несколько других событий, связанных с ядром Linux: Первые вливания патчей в ядро 3.3 привели к преодолению очередного рубежа - размер исходного кода ядра превысил отметку в 15 млн строк. Примечательно, что отметка в 10 млн строк была пройдена три года назад, в конце 2008 года, при выпуске ядра 2.6.27. При этом 5.6 млн строк приходится на драйверы, 1.8 млн на специфичный для аппаратных архитектур код, 700 тыс на файловые системы, 533 тыс на звуковую подсистему, 493 тыс на сетевой стек. 97.22% кода ядра написано на языке Си, 2.47% на ассемблере, 0.15% на Perl и 0.04% на Shell. Разработчики Xen опубликовали отчёт об изменениях, представленных в ядре 3.2 и намеченных для интеграции в ядро 3.3. Что касается ядра 3.2 сообщается об устранении нескольких неприятных проблем, проведении чистки кода, реализации поддержки машин с более чем 256 PCI-устройствами, добавлении поддержи kexec для PVonHVM, поддержке операций TRIM и UNMAP для блочных устройств. В версии 3.3 планируется реализовать ioctl для обращения к гипервизору, улучшить драйвера netback, обеспечить поддержку DMA для TTM-бэкенда драйверов radeon и nouveau. В версию 3.4 планируется интегрировать код поддержки управления питанием ACPI для Xen, продолжить работу по развитию netback и обеспечить поддержку запуска бэкендов и xenstore в гостевых системах, позволяя создавать отдельные домены для драйверов устройств. Вышло обновление пакета iproute2 3.2.0 с поддержкой ядра 3.2 и реализацией поддержки L2TPv3; Вышел ipset 6.11 в котором представлено два новшества: поддержка хэшами "hash:net" флага "nomatch" для определения исключения подсети из списка (например: ipset add test 192.168.0/24; ipset add test 192.168.0/30 nomatch); возможность экранирования имён хостов и названий сервисов, содержащих в имени тире (например, ipset add test [hostname-with-dash],[ftp-data]).