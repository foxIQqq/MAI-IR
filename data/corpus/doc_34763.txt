Вышел X.Org Server 1.13 с поддержкой горячего переключения между драйверами

После 6 месяцев разработки анонсирован релиз X.Org Server 1.13, в котором представлено несколько важных нововведений. Релиз приурочен к празднованию 25-летия с момента публикации первого выпуска X11, представленного 15 сентября 1987 года. Наиболее интересным новшеством является расширение API для взаимодействия с драйверами и изменение внутренних компонентов X-сервера, направленные на реализацию поддержки горячего переключения вывода между разными видеодрайверами без перезапуска X-сервера и без разрыва рабочей сессии, а также на предоставление возможности перенаправления рендеринга GPU на другое устройство вывода (GPU offloading), что позволит обеспечить полноценную работу на гибридных системах с несколькими видеокартами. Например, новый API позволит бесшовно перенаправить вывод при подключении дополнительных видеоадаптеров c интерфейсом USB, задействовать несколько GPU с различными драйверами для совместной обработки одной и той же сцены (сцена может обсчитываться на первом GPU, а выводиться на втором, или вычисляться частями сразу на нескольких GPU) или обеспечить работу ноутбуков, укомплектованных подсистемой Optimus, дающей возможность на лету переключаться между встроенной энергоэффективной видеокартой на базе GPU Intel и дискретной картой NVIDIA. Возможности по бесшовному переключению вывода и выносу отдельных операций на другой GPU добавлены для API DDX-драйверов, DRI2 и интерфейса RandR. Указанные возможности базируются на технологии DMA-BUF PRIME, предназначенной для организации совместного использования буферов несколькими драйверами. В настоящее время поддержка DMA-BUF PRIME включена в состав ядра Linux и уже поддерживается открытыми драйверами Nouveau, Radeon и Intel. Поддержка нового API X.Org Server также обеспечена в большинстве открытых видеодрайверов. X.Org Server 1.13 ABI поддерживается в последнем выпуске проприетарного драйваера NVIDIA и ожидается в следующем выпуске драйвера AMD Catalyst. Из других изменений можно упомянуть: Проведение работы по приведению кода X-сервера к единому стилю; Добавление поддержки на стороне сервера расширений GLX серии GLX_ARB_create_context_*; Прекращение поддержки устаревшей 2D-акселерации XAA (XFree86 Acceleration Architecture), разработанной 15 лет назад, не отвечающей современным реалиям и уже давно не используемой (большинство DDX-драйверов поддерживает EXA или более современные SNA/GLAMOR/UXA).