Дизайн новой версии протокола pfsync

"Active-Active Firewall Cluster Support in OpenBSD" (часть 1, часть 2, часть 3, часть 4) - рассказ о реализации нового протокола pfsync, который может быть использован для синхронизации состояний нескольких пакетных фильтров, например, в сочетании с CARP может применяться для создания отказоустойчивых кластерных конфигураций, работающих в параллельном режиме. В новой версии протокола поддерживается передача нескольких команд внутри одного пакета, что существенно повышает производительность.