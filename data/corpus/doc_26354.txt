Обзор улучшений в системе портов OpenBSD

Мини-отчёт по изменениям за последний месяц в портах OpenBSD: GNOME обновлён до 2.30, Glib — до 2.24. Среди всех поводов для позитива есть и неприятное: сочетание факторов «обязательное использование libpthread в Glib» и «однопоточный Perl» привело к тому, что p5-Glib (Perl-прослойка к Glib) помечен как BROKEN. К счастью, это означает невозможность сборки для немногих программ, для которых в дереве портов есть не уступающие аналоги. Единственный способ обойти проблему — rthreads (kernel-потоки), однако стабильность этого решения пока что разработчиков не устраивает, поэтому rthreads по-прежнему не включены по умолчанию (и, соответственно, Perl собирается однопоточный). Обновлены ghc (Haskell-компилятор) до 6.12.2 и darcs (система контроля версий на Haskell). Добавлены порты для множества связанных модулей. Как шутит мэйнтейнер, «ещё 1230 модулей, и мы обгоним p5-порты по количеству». Также из числа особо заметных портов были обновлены до свежих версий SeaMonkey, ThunderBird, SunBird, Qt. Усилиями, в первую очередь, Jakob Meuser добавлена поддержка sndio в ещё два порта: ices2 и soundtracker. Jakob опубликовал TODO-лист, содержащий список портов, связанных с аудио, но ещё не переехавших на sndio. Пользователи данных программ, желающие помочь, могут воспользоваться подробной инструкцией. dpb3 (distribited ports building), система для распределённой сборки пакетов, создаваемая Marc Espie взамен имеющейся, работает уже достаточно надёжно. Ключевые особенности новой системы — скорость работы, подробное и удобное ведение логов сборки, возможность грамотного использования всех имеющихся ядер, предсказание времени сборки на основе прошлого прогона и многое другое. Желающие протестировать — просим к ${PORTSDIR}/infrastructure/build/dpb3. Также, как обычно, были произведено множество мелких улучшений в самой системе портов и sqlports, добавлено несколько полезных портов вроде shmux.