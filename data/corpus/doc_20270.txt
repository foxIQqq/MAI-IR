Вышел релиз Debian GNU/Linux 5.0 (Lenny). Обзор новшеств

После почти двух лет разработки выпущен долгожданный релиз Debian GNU/Linux 5.0 (Lenny), поддерживающий платформы Sun SPARC (sparc), HP Alpha (alpha), Motorola/IBM PowerPC (powerpc), Intel IA-32 (i386), IA-64 (ia64), HP PA-RISC (hppa), MIPS (mips, mipsel), ARM (arm, armel), IBM S/390 (s390) и AMD64 и Intel EM64T (amd64). Для установки доступны несколько дисковых образов: Образ для установки по сети (150Мб). Установочный CD (650 MB), варианты с GNOME, KDE и LXDE + Xfce. Полный установочный комплект занимает 31 CD (содержимое каждого из дисков). Установочный DVD. Полный комплект занимает 5 DVD (содержимое каждого из дисков). Планируется подготовить образ Blu-ray диска. CD в формате бизнес-карты (35Мб). По умолчанию используется окружение на базе LXDE. Для архитектур amd64 и i386 разработан официальный LiveCD (подготовлены варианты с GNOME, KDE и Xfce), который может работать с CD/DVD/USB Flash напрямую, без установки на жесткий диск. Основные новшества: Обновление программного обеспечения: Linux ядро 2.6.26, Gnome 2.22.2 (из-за проблем с интеграцией gvfs Nautilus и панель взяты из версии 2.20), KDE 3.5.10 (в бэкпортах доступна сборка KDE 4.1.4), XFCE 4.4.2, LXDE 0.3.2.1, Xorg 7.3, OpenOffice.org 2.4.1, Iceweasel/Firefox 3.0.6, Gimp 2.4.7, Apache 2.2.9, Samba 3.2.5, Asterisk 1.4.21.2, Xen 3.2.1, MySQL 5.0.51a,PostgreSQL 8.3.6, GCC 4.3.2, PHP 5.2.6, Ruby 1.8 и 1.9, Python 2.5.2. Всего в репозитории Debian Lenny насчитывается около 23 тыс. бинарных пакетов, собранных из более чем 12 тыс. пакетов с исходными текстами. В состав дистрибутива решено включить спорные проприетарные бинарные компоненты (firmware). Работа по проверке и чистке неоднозначных бинарных вставок отложена на неопределенный срок. Напомню, что правила проекта Debian запрещают помещение в состав дистрибутива компонент для которых отсутствуют исходные тексты, в то время как у большого числа драйверов из состава Linux ядра имеется привязка к проприетарным бинарным прошивкам, для которых исходные тексты недоступны. Также в репозитории main появились программы с лицензией AGPLv3 (GNU Affero General Public License); Init-скрипты переведены на новую систему инициализации с учетом зависимостей, позволяющую организовать параллельный запуск сервисов; Обеспечена поддержка совместимости со стандартом Linux Standards Base (LSB) 3.2; В состав Lenny, вместо старой архитектуры ARM, включена новая реализация "ARMEL". Порт "Armel" (EABI) теперь предлагается по умолчанию, кроме того Lenny последний релиз Debian в котором поддерживается старый порт "Arm" (ABI). Дистрибутив переведен сборку пакетов при помощи GCC-4.3, который теперь используется как компилятор по умолчанию для всех архитектур; Осуществлен переход на использование Python 2.5 и Perl 5.10 (изменено более 400 связанных с Perl пакетов). Обновлены версии пакетов ocaml и gcc-defaults. Проведена замена g77 на gfortran реализацию языка Фортран; Дистрибутив полностью подготовлен для использования в качестве /bin/sh оболочки dash. Но решено еще не использовать dash в качестве shell по умолчанию, переключиться на dash можно опционально; Полностью реализована поддержка интернационализации (I18n) в системе управления конфигурацией Debian, пакеты использующие подсистему debconf полностью поддерживают перевод сообщений на разные языки. Файлы changelog и control во всех пакетах переведены на использование кодировки UTF-8; Осуществлен полный уход от использования debmake. Все пакеты в репозиторие 'main' теперь связаны рекомендательными зависимостями только внутри 'main', не ссылаясь на дополнительные репозитории; Значительно улучшена работа дистрибутива на ноутбуках и субноутбуках, например, расширена поддержка оборудования (драйверы Asus EeePC и т.п.), спец. клавиш, улучшена работа системы перехода в спящий режим, автоматически задействуются средства для управления частотой процессора; Во всех приложениях которые могут работать через IPv4 добавлена полная поддержка IPv6; Для формирования миниатюрных сборок базового программного окружения в состав дистрибутива интегрированы наработки проекта Emdebian. Интегрирована поддержка системы виртуализации OpenVZ, Linux ядро с OpenVZ патчами можно загрузить из стандартного репозитория; Проведен аудит приложений на предмет устранения ограничений на размер обрабатываемых файлов (некоторые программы не читали файлы больше 2/4 Гб). Дистрибутив из коробки теперь поддерживает монтирование дисковых разделов с файловой системой NTFS; В качестве замены проприетарного плагина Adobe Flash в комплект включены свободные замены - swfdec и Gnash; Добавлена поддержка NFS v4; Стандартный syslog демон (syslogd) заменен на систему rsyslog; В состав "main" репозитория включен полностью свободный дистрибутив Java SE 6, основанный на IcedTea (OpenJDK и дополнения из библиотеки классов GNU Classpath); В "main" репозиторий включены бинарные пакеты qmail и djbdns, которые ранее были доступны для пользователей Debian только в исходных текстах или через сторонние репозитории пакетов, из-за лицензионной политики автора; Улучшения связанные с безопасностью Stack protector - сборка пакетов с включенной в GCC опцией "-fstack-protector" для защиты от атак, направленных на переполнение буфера и стека. Fortify Source - активация средства glibc ("-D_FORTIFY_SOURCE=2" ) для дополнительной внутренней проверки выхода за пределы буфера функций, таких как strcpy. Format warnings - защита от атак через параметры форматирования строки (format-string), обеспечивается сборкой с параметрами "-Wformat" и "-Wformat-security". Address Space Layout Randomization - случайный выбор позиции для размещения стека и области выделяемой через mmap памяти; relro - переключение определенных областей памяти, после загрузки исполняемого приложения, в режим только для чтения. Включается через сборку с "-Wl,zrelro"; Пакет PHP собран с поддержкой дополнительных патчей для усиления безопасности, подготовленных в рамках проекта Suhosin; Опциональная поддержка SELinux, для включения необходимо установить пакет "selinux-basics". Улучшение в инсталляторе: В образ установочного компакт диска добавлены модули для PATA/IDE устройств (частично решает проблемы с установкой на машины с дисковыми контроллерами Marvell); Улучшена поддержка BRLTTY устройств (точечные дисплеи для слепых); Добавлена поддержка загрузки прошивок (firmware) с дополнительных носителей информации (например, с USB Flash или SD/MMC карты) в процессе установки дистрибутива; Полная поддержка установки на зашифрованные разделы. Улучшена поддержка работы с шифрованными разделами в режиме восстановления после сбоя; Из состава CD удалена директория tools/, в которой были такие утилиты, как loadlin, unzip, gzip. Добавлена поддержка создания SATA RAID через dmraid; Возможность обновления пакетов, содержащих уязвимости, на ранней стадии установки; Для архитектур i386 и amd64 реализовано новое интерактивное меню, выдаваемое при загрузке (syslinux vesamenu); Возможность установки из Windows при помощи ПО win32-loader; Реализована поддержка установки системы на NAS серверы, основанные на платформе Marvell Orion, базирующейся на архитектуре ARMv5 (например QNAP TS-109, TS-209 и TS-409, HP Media Vault mv2120, Buffalo Kurobox Pro). В графическом инсталляторе увеличено удобство выбора языка для локализации: улучшена наглядность, добавлена возможность перехода между диалоговыми окнами, страны разбиты на блоки, привязанные к континентам. При выборе языка, для которого перевод установочных сообщений не доведен до конца, теперь выводится предупреждение с возможностью выбора второго языка, на котором будут выводиться непереведенные тексты; Доведено до рабочего состояния монтирование файловых систем в режиме relatime, появившемся в Linux ядре 2.6.20 и в отличии от монтирования ФС с noatime флагом, учет времени чтения файла производится только если прошлый atime старее чем mtime (время изменения) или ctime (время создания); Возможность выбора дополнительных действий при использовании установочных образов с KDE или Xfce CD. Возможность подключения дополнительных репозиториев с CD/DVD дисков, убранная в “etch”, вновь вернулась в lenny. Это значительно улучшит поддержку i18n в инсталляторе, т.к. не все языковые пакеты умещались на первом CD; Установщик, в случае, если сконфигурировано сетевое подключение, будет теперь пытаться синхронизировать часы компьютера с одним из доступных ntp-серверов; Прекращена поддержка DECstation (mips), RiscPC (arm) и sparc32 машин.