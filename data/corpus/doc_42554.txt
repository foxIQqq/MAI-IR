В Firefox 41 будет существенно сокращено потребление памяти при использовании AdBlock Plus

В то время как релиз Firefox 39 задерживается на несколько дней из-за выявления непредвиденных проблем со стабильностью, в ночные сборки Firefox, на базе которых будет сформирован выпуск Firefox 41, добавлены патчи, решающие проблему с излишним потреблением памяти при использовании AdBlock Plus. Суть проблемы в том, что при регистрации одной таблицы стилей, используемой для скрытия элементов, Firefox создаёт новые копии этой таблицы стилей для каждой страницы вместо совместного использования всеми страницами. Таким образом, AdBlock Plus требует около 60Мб ОЗУ для хранения базы правил блокировки, плюс около 4 Мб на каждую страницу и iframe. На страницах с больших числом iframe, которые часто применяются для вставки рекламных блоков, потребление памяти возрастает кардинально. Например, открытие сайта TechCrunch с AdBlock Plus приводит к потреблению 417 Мб ОЗУ, а без дополнения браузер потребляет всего 194 Мб. Решению указанной проблемы будет способствовать возможность совместного использования данных, связанных с CSS. После принятия патча потребление памяти при открытии тестовой страницы, содержащей 429 блоков iframe, снизилось с 1960 Мб до 450 Мб, т.е. почти на полтора гигабайта. Тестирование на других сайтах также подтверждает общее снижение потребления памяти на 3.6 Мб на каждый открытый документ. В среднем, из-за применения патчей экономия в тестовой конфигурации составила 90 Мб при использовании AdBlock Plus, а потребление памяти без AdBlock Plus снизилось на 40 Мб.