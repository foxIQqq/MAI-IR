Новый выпуск дистрибутива Raspberry Pi OS

Разработчики проекта Raspberry Pi опубликовали весеннее обновление дистрибутива Raspberry Pi OS 2022-04-04 (Raspbian), основанного на пакетной базе Debian. Для загрузки подготовлены три сборки - сокращённая (297 МБ) для серверных систем, с базовым рабочим столом (837 МБ) и полная с дополнительным набором приложений (2.2 ГБ). Дистрибутив поставляется с пользовательским окружением PIXEL (ответвление от LXDE). Для установки из репозиториев доступно около 35 тысяч пакетов. В новом выпуске: В графический сеанс добавлена экспериментальная поддержка работы с использованием протокола Wayland. Применение Wayland стало возможным благодаря переводу в прошлом году окружения PIXEL с оконного менеджера openbox на mutter. Поддержка Wayland пока ограничена и некоторые компоненты рабочего стола продолжают использовать протокол X11, запускаясь под управлением XWayland. Активировать сеанс на базе Wayland можно в разделе "Advanced Options" в конфигураторе raspi-config. Прекращено использование предлагаемой по умолчанию предопределённой учётной записи "pi", вместо которой при первой загрузке пользователю предоставлена возможность создание своей учётной записи. Предложен новый мастер настройки параметров системы, запускаемый в процессе первой загрузки и позволяющий настроить параметры языка, определить сетевые подключения и установить обновления приложений. Если раньше запуск мастера можно было пропустить, нажав кнопку "Отмена", то отныне его использование стало обязательным. В мастер настройки встроен интерфейс для создания первой учётной записи и пока данная учётная запись не будет собрана, пользователь не сможет войти в пользовательское окружение. Сам мастер теперь запускается как отдельное окружение, а не как приложение в сеансе рабочего стола. Кроме создания учётной записи в мастере также реализованы раздельные настройки параметров для каждого подключённого монитора, которые применяется сразу и не требуют перезапуска. В урезанном образе Raspberry Pi OS Lite для создания учётной записи в консольном режиме выводится специальный диалог. Для систем, в которых плата Raspberry Pi применяется в обособленном виде без подключения к монитору, предоставлена возможность создания учётной записи через предварительную настройку загрузочного образа утилитой Imager. Другим вариантом настройки нового пользователя является размещение на загрузочном разделе SD-карты файла с именем userconf (или userconf.txt), в котором размещена информация о создаваемом логине и пароле в формате "логин:хэш_пароля" (для получения хэша пароля можно использовать команду "echo 'mypassword' | openssl passwd -6 -stdin"). Для существующих установок после обновления предоставлена команда "sudo rename-user", позволяющая переименовать учётную запись "pi" в произвольное имя. Решена проблема с использованием мышей и клавиатур с интерфейсом Bluetooth. Ранее для настройки подобных устройств ввода вначале требовалась загрузка с подключённой USB-клавиатурой или USB-мышью для настройки сопряжения по Bluetooth. В новом мастере первого подключения реализовано автоматическое сканирование готовых к сопряжению Bluetooth-устройств и их подключение.