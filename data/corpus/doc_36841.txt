Релиз операционной системы OpenBSD 5.3

Доступен релиз операционной системы OpenBSD 5.3, тридцать четвёртый выпуск за девятнадцатилетнюю историю существования проекта. При развитии OpenBSD основное внимание уделяется переносимости (поддерживается 17 аппаратных архитектур), стандартизации, корректной работе, активной безопасности и интегрированным криптографическим средствам. Размер установочного iso-образа 220 Мб. Кроме непосредственно операционной системы, проект OpenBSD известен своими компонентами, которые получили распространение в других системах и зарекомендовали себя как одни из наиболее безопасных и качественных решений. Среди них: OpenSSH, пакетный фильтр PF, демоны маршрутизации OpenBGPD и OpenOSPFD, NTP-сервер OpenNTPD, почтовый сервер OpenSMTPD, мультиплексор текстового терминала (аналог GNU screen) tmux, демон identd с реализацией протокола IDENT, BSDL-альтернатива пакету GNU groff - mandoc, протокол для организации отказоустойчивых систем CARP (Common Address Redundancy Protocol). Из улучшений, добавленных в OpenBSD 5.3, можно отметить: Для архитектур i386 и amd64 добавлена поддержка процессорных инструкций SMEP (Supervisor Mode Execution Protection) и SMAP (Supervisor Mode Access Prevention), поддерживаемых современными CPU Intel. Использование SMEP не даёт переходить из режима ядра к выполнению кода, находящегося на пользовательском уровне, что позволяет блокировать эксплуатацию многих уязвимостей в ядре (shell-код не будет выполнен, так как он находится в пространстве пользователя). SMAP позволяет блокировать доступ к данным в пространстве пользователя из привилегированного кода, выполняемого в пространстве ядра; Задействована инструкция RDRAND, через которую предоставлена возможность обращения к аппаратному генератору случайных чисел, появившемуся в новых моделях процессоров Intel (Core i5 и i7); По умолчанию осуществлён переход на использование PIE (Position-independent executables) для платформ alpha, amd64, hppa, landisk, loongson, sgi и sparc64; NSCAN задействован в качестве алгоритма по умолчанию для сортировки запросов ввода/вывода, что позволило улучшить справедливость выполнения запросов и сократить время отзыва; Значительные оптимизации производительности внесены в утилиту make, особенно заметно повышена эффективность сборки с распараллеливанием операций; В состав базовой системы включён новый демон npppd с реализацией сервера для организации соединений с использованием протоколов L2TP, L2TP/IPsec, PPTP и PPPoE; В разрабатываемом проектом SNMP-сервере snmpd (OpenSNMP) добавлена поддержка протокола SNMPv3; Существенно переработана реализация DHCP-клиента (dhclient) от проекта OpenBSD, в котором представлено около 30 изменений и улучшений. В том числе, ускорен процесс конфигурации интерфейсов, добавлена директива ignore, resolv.conf перезаписывается только при изменении маршрута по умолчанию; Значительная доработка и стабилизация SMTP-сервера OpenSMTPD. OpenSMTPD 5.3 позиционируется как первый стабильный релиз проекта. С особенностями новой версии (от изменения формата конфигурации до поддержки виртуальных доменов и альтернативных баз пользователей) можно познакомиться в данном анонсе; Улучшение сетевого стека: значительно улучшена совместимость с IPsec v3, в том числе добавлена поддержка расширенных номеров последовательностей в драйвер AES-NI для обеспечения работы режима AES-GCM; в sosplice добавлена поддержка UDP; по умолчанию включен режим автоматической настойки приватности IPv6; в ifconfig hwfeatures теперь выводится максимально поддерживаемый размер MTU для определения поддержки кадров jumbo/baby-jumbo; В пакетном фильтре PF для сокета divert обеспечена поддержка опции IP_DIVERTFL для выбора типа потока для перенаправления (входящие пакеты, исходящие пакеты или и те и другие); налажена корректная работа с ICMP в трекере состояний соединений "sloppy state", не привязывающемся при работе к номеру последовательности (sequence number) и используемом для асиметричных соединений; добавлен контроль соблюдения лимитов на уровень фрагментации для защиты от ошибок конфигурации, которые могут привести к исчерпанию кластеров mbuf; В bgpd добавлена поддержка задания фильтров на основе атрибута NEXTHOP; при определении неизвестных параметров сессии теперь выводится предупреждение вместо остановки работы; реализована возможность перезапуска без разрыва сеансов ("graceful restart"); В ftp-клиент добавлена поддержка basic-аутентификации HTTP (можно использовать "ftp http[s]://user:pass@host/file"), реализована возможность рекурсивной загрузки каталога (mput с опцией -r); В IKEv2-демон iked добавлена поддержка NAT-T; Добавлен обособленный прокси tftp-proxy, который заменил собой сервис, ранее используемый через inetd; Обновлён пакет OpenSSH 6.2, обзор улучшений можно посмотреть здесь; Улучшение поддержки оборудования: Новый драйвер oce для адаптеров Emulex OneConnect 10Gb Ethernet; Новый драйвер rtsx для кардридеров Realtek RTS5209; Новый драйвер mfii для контроллеров LSI Logic MegaRAID SAS Fusion; Новый драйвер smsc для Ethernet-адаптеров SMSC LAN95xx с интерфейсом USB; Новые драйверы для USB-сенсоров Toradex OAK: uoaklux (освещенность), uoakrh (температура и влажность) и uoakv; В драйвер ahd добавлена поддержка SCSI-карт Adaptec 39320LPE; В драйвер bge добавлена поддержка Broadcom 5718/5719/5720 Gigabit Ethernet; В В драйвер iwn добавлена поддержка беспроводных чипов Centrino Advanced-N 6235 и Centrino Wireless-N 1030; В драйвер ix добавлена поддержка Intel X540 10Gb Ethernet; В драйвер vr добавлена поддержка миграции TX-прерываний, аппаратной привязки VLAN и аппаратного вычисления контрольных сумм. Ускорение вычисления контрольных сумм также добавлено в драйвер gem; В драйверы bnx, gem и jme добавлена поддержка контроля потока; В драйвере mpi появилась поддержка эмулируемых в VMware SAS-контроллеров; В ulpt добавлена поддержка загрузки прошивки для некоторых принтеров HP LaserJet; Улучшение поддержки процессоров Loongson. Поддержка "throttling" (пропуск части циклов для сокращения потребления энергии) для процессоров Loongson 2F; Число портов превысило 7800. Для архитектуры i386 подготовлено 7670 бинарных пакетов, для amd64 - 7632, для arm - 4944, для mips64el - 56539, для sparc64 - 6756, для hppa - 6401. Из находящихся в портах приложений, отмечены: GNOME 3.6.2 KDE 3.5.10 Xfce 4.10 MySQL 5.1.68 PostgreSQL 9.2.3 Postfix 2.9.6 OpenLDAP 2.3.43 и 2.4.33 Mozilla Firefox 3.6.28 и 18.0.2 Mozilla Thunderbird 17.0.2 GHC 7.4.2 LibreOffice 3.6.5.2 Emacs 21.4 и 24.2 Vim 7.3.154 PHP 5.2.17 и 5.3.21 Python 2.5.4, 2.7.3 и 3.2.3 Ruby 1.8.7.370 и 1.9.3.392 Tcl/Tk 8.5.13 и 8.6.0 Jdk 1.6.0.32 и 1.7.0.11 Mono 2.10.9 Chromium 24.0.1312.68 Groff 1.21 Go 1.0.3 GCC 4.6.3 и 4.7.2 LLVM/Clang 3.2 Компоненты от сторонних разработчиков, входящие в состав OpenBSD 5.2: Xenocara (основанная на X.Org 7.7 с xserver 1.12.3, freetype 2.4.11, fontconfig 2.8.0, Mesa 7.11.2, xterm 287, xkeyboard-config 2.7). GСС 4.2.1 с патчами, 3.3.6 с патчами и 2.95.3 с патчами; Perl 5.12.2 (с патчами) Улучшенная и более защищённая версия Apache 1.3, с поддержкой SSL/TLS и DSO nginx 1.2.6(с патчами) OpenSSL 1.0.1c (с патчами) Sendmail 8.14.6, с libmilter Bind 9.4.2-P2 (с патчами) Lynx 2.8.7rel.2 с поддержкой HTTPS и IPv6 Sudo 1.7.2p8 Ncurses 5.7 SQLite 3.7.14.1 Heimdal 0.7.2 (с патчами) Binutils 2.15 (с патчами) Gdb 6.3 (с патчами) Less 444 (с патчами) Awk, версия от 10 августа 2011 г. Послушать песню, приуроченную к выходу нового релиза, можно здесь.