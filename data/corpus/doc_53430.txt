Выпуск дисплейного сервера Mir 2.0

Представлен релиз дисплейного сервера Mir 2.0, разработка которого продолжается компанией Canonical, несмотря на отказ от развития оболочки Unity и редакции Ubuntu для смартфонов. Mir остаётся востребован в проектах Canonical и теперь позиционируется как решение для встраиваемых устройств и интернета вещей (IoT). Mir может использоваться в качестве композитного сервера для Wayland, что позволяет запускать в окружениях на базе Mir любые приложения, использующие Wayland (например, собранные с GTK3/4, Qt5 или SDL2). Пакеты для установки подготовлены для Ubuntu 18.04-20.10 (PPA) и Fedora 30/31/32. Код проекта распространяется под лицензией GPLv2. Значительное изменение номера версии связано с внесением в API изменений, нарушающих совместимость, и удалением некоторых устаревших API. В частности, прекращена поддержка специфичных API mirclient и mirserver, вместо которых уже достаточно давно предлагается использовать протокол Wayland. Связанные с mirclient и mirserver библиотеки сохранены, но теперь используются только для внутренних целей, не предоставляют заголовочные файлы и не гарантируют сохранение ABI (на будущее намечена большая чистка кода). Прекращение поддержки указанных API согласовано с проектом UBports, который продолжает применять mirclient в Ubuntu Touch. Было решено, что в данное время возможностей Mir 1.x достаточно для потребностей UBports, а в будущем проект сможет перейти на Mir 2.0. Удаление mirclient также позволило избавиться от поддержки некоторых интерфейсов для графических платформ, которые применялись только в API mirclient. Отмечается, что указанное упрощение не приведёт к видимым изменениями и послужит основой для улучшения кода для работы с платформами, особенно в области поддержки систем с несколькими GPU, работы в режиме без монитора (headless) и развитию средств для удалённого доступа к рабочему столу. В рамках проводимой чистки из платформ mesa-kms и mesa-x11 убраны специфичные mesa-зависимости - из зависимостей оставлен только gbm, что позволило обеспечить работу Mir поверх X11 на системах с драйверами NVIDIA. Платформа mesa-kms переименована в gbm-kms, а mesa-x11 в gbm-x11. Также добавлена новая платформа rpi-dispmanx, позволяющая использовать Mir на платах Raspberry Pi 3 с драйверами Broadcom. В прослойке MirAL (Mir Abstraction Layer), которую можно использовать для ухода от прямого обращения к серверу Mir и абстрагирования доступа к ABI через библиотеку libmiral, добавлена возможность включения и отключения декорирования окон на стороне сервера (SSD), а также возможность настройки масштабирования в блоке DisplayConfiguration.