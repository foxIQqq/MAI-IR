Canonical выпустил multipass 1.0, инструментарий для развёртывания Ubuntu в виртуальных машинах

Компания Canonical представила первый стабильный выпуск инструментария multipass 1.0, предназначенного для упрощения установки различных версий Ubuntu в виртуальных машинах, запускаемых в системах виртуализации Linux, Windows и macOS. Multipass позволяет разработчику одной командой без дополнительных настроек запустить нужную версию Ubuntu в виртуальной машине, например, для экспериментов или проверки работы своего приложения. Для запуска виртуальной машины в Linux используется KVM, в Windows - Hyper-V, а в macOS - HyperKit on macOS. Также возможно использование для выполнения виртуальных машин VirtualBox. Код проекта написан на C++ и распространяется под лицензией GPLv3. Для быстрой установки multipass в Ubuntu подготовлен snap-пакет. Multipass самостоятельно извлекает необходимый образ операционной системы и поддерживает его в актуальном состоянии. Для настройки может применяться cloud-init. Предусмотрена возможность монтирования внешних дисковых разделов в виртуальное окружение (команда multipass mount), но также предоставляются средства передачи отдельных файлов между хост-системой и виртуальной машиной (multipass transfer). Домашний каталог пользователя автоматически монтируется в виртуальной машине как ~/Home. Поддерживается полная интеграция установленной виртуальной машины с основным рабочим столом (добавляются пиктограммы приложений, системное меню и уведомления). Пример сеанса в multipass: Поиск доступных образов: $ multipass find Image Aliases Version Description core core16 20190424 Ubuntu Core 16 core18 20190213 Ubuntu Core 18 16.04 xenial 20190628 Ubuntu 16.04 LTS 18.04 bionic,lts 20190627.1 Ubuntu 18.04 LTS 18.10 cosmic 20190628 Ubuntu 18.10 19.04 disco 20190628 Ubuntu 19.04 daily:19.10 devel,eoan 20190623 Ubuntu 19.10 Запускаем актуальный выпуск Ubuntu LTS в VM: $ multipass launch ubuntu Launching dancing-chipmunk... Downloading Ubuntu 18.04 LTS.......... Launched: dancing chipmunk Просматриваем список запущенных VM: $ multipass list Name State IPv4 Release dancing-chipmunk RUNNING 10.125.174.247 Ubuntu 18.04 LTS live-naiad RUNNING 10.125.174.243 Ubuntu 18.04 LTS snapcraft-asciinema STOPPED -- Ubuntu Snapcraft builder for Core 18 Получаем детальную информацию о запущенной VM $ multipass info dancing-chipmunk Name: dancing-chipmunk State: RUNNING IPv4: 10.125.174.247 Release: Ubuntu 18.04.1 LTS Image hash: 19e9853d8267 (Ubuntu 18.04 LTS) Load: 0.97 0.30 0.10 Disk usage: 1.1G out of 4.7G Memory usage: 85.1M out of 985.4M Подключаемся к командной оболочке в VM $ multipass shell dancing-chipmunk Welcome to Ubuntu 18.04.1 LTS (GNU/Linux 4.15.0-42-generic x86_64) # Запускаем команду "lsb_release -a" в окружении VM: $ multipass exec dancing-chipmunk -- lsb_release -a No LSB modules are available. Distributor ID: Ubuntu Description: Ubuntu 18.04.1 LTS Release: 18.04 Codename: bionic Останавливаем VM: $ multipass stop dancing-chipmunk Удаляем VM: $ multipass delete dancing-chipmunk Name State IPv4 Release snapcraft-asciinema STOPPED -- Ubuntu Snapcraft builder for Core 18 dancing-chipmunk DELETED -- Not Available Чистим удалённые VM с диска $ multipass purge