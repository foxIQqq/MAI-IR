Для MIPS-устройств разработан метод соблюдения требований FCC для использования свободных прошивок

Компания Imagination Technologies, в своё время поглотившая связанную с процессорами MIPS интеллектуальную собственность, объявила о реализации на базе процессоров MIPS Warrior P-серии новой технологии, которая позволит не ограничивать применение свободных прошивок на беспроводных маршрутизаторах и увеличит общую защищённость устройств. Метод основан на рекомендациях prplSecurity, подготовленных рабочей группой, созданной для выработки решения по использованию свободных прошивок в условиях введения новых требований FCC. Суть метода в применении вирутализации для разделения драйвера приёмопередатчика и прошивки, которые предлагается выполнять в отдельных виртуальных машинах. Метод также интересен возможностями создания дополнительных виртуальных машин, в которых прошивка может выполнять компоненты, требующие повышенной изоляции, например, в такой виртуальной машине могут запускаться сторонние сервисы домашней автоматизации. Для виртуализации применяется окружение на базе микроядра и микрогипервизора L4Re (L4 Runtime Environment), код которого распространяется под свободной лицензией GPLv2. Выпущенный несколько дней назад свежий выпуск L4Re уже включает изменения, необходимые для работы архитектуры аппаратной виртуализации MIPS. Замедление работы от использования дополнительной виртуализации оценивается приблизительно в 2%. Интересно, что рабочий прототип беспроводного маршрутизатора, реализующий новую архитектуру, построен с использованием платы от российской компании Baikal Electronics, также развивающей отечественный SoC Baikal-T1 на базе архитектуры MIPS (двухядерный CPU MIPS P5600). В качестве прошивки в прототипе задействован дистрибутив OpenWrt. Компания Imagination не занимается конечным производством процессоров, а лишь разрабатывает и лицензирует чипы для других производителей, таких как Qualcomm Atheros, Realtek, MediaTek и Baikal Electronics. Broadcom и Cavium используют процессоры MIPS собственного дизайна. Разработанные в Imagination процессоры MIPS используются в беспроводных маршрутизаторах таких компаний, как TP-Link, Belkin, Linksys, Securifi и BT, которым рекомендовано перейти на использование новых CPU Warrior. Напомним, что в соответствии со вступившими 2 июня в силу новыми правилами Федеральной комиссии по связи США (FCC), производители беспроводных устройств, поддерживающих работу на частоте 5GHz, обязаны обеспечить соответствие заявленных в лицензии и фактических параметров беспроводного адаптера, влияющих на формирование сигнала. Для обеспечения данных требований производитель должен реализовать средства, не позволяющие пользователю выйти за определённые в спецификации диапазоны частот, типы модуляции и уровни мощности. Наиболее простым путём приведения устройств в соответствие требованиям FCC, которым уже воспользовалась компания TP-LINK, является введение блокировки замены прошивки, что не позволяет применять на устройствах альтернативные свободные проекты, такие как OpenWrt и DD-WRT. Вторым путём, не мешающим использованию свободных прошивок, является блокировка изменения частоты на аппаратном уровне. Например, компании Linksys и Marvell обеспечили хранение параметров приёмопередатчика в отдельной памяти, недоступной для изменения из прошивки.