Новый стабильный релиз почтового сервера Postfix - 2.7.0

Анонсирован релиз новой стабильной ветки почтового сервера Postfix - 2.7.0. Сообщается, что при подготовке новой ветки основные усилия были сосредоточены на улучшении кодовой базы, усовершенствовании документации и адаптации postfix для новых программных окружений. Из новшеств можно отметить: Увеличена производительность работы фильтра контента, вызываемого на этапе до помещения сообщения в очередь. При указании в конфигурации "smtpd_proxy_options = speed_adjust" SMTP-сервер инициирует соединение с фильтром контента только после полного получения текста сообщения, что позволяет уменьшить число активных процессов для фильтрации контента. По умолчанию возможность отключена, так как нет уверенности, что подобное нововведение не вызовет неожиданных проблем; Увеличена производительность кода обратной проверки почтовых адресов. Кэш с данными предыдущих проверок теперь по умолчанию остается в памяти и автоматически очищается через определенные промежутки времени (в переменной address_verify_cache_cleanup_interval по умолчанию установлено значение 12h). При перегрузке, SMTP-серверу более не приходится до 6 секунд ждать окончания проверочного запроса; В списках доступа, правилах проверки заголовков/тела сообщения и в определенных через файл master.cf правилах доставки добавлена поддержка действия "FILTER transportname:", позволяющего использовать схемы оценки репутации отправителя для динамического выбора исходного IP адреса сервера, с которого должен быть сформирован запрос (из списка smtp_bind_address). Также добавлена возможность выбора типа альтернативного транспорта для доставки сообщений от заданных отправителей ( управление через директиву sender_dependent_default_transport_maps); Поддержка демона postscreen, выступающего в роли динамического межсетевого экрана для блокирования сообщений от ботов из зомби-сетей, будет доведена до полностью стабильного состояния в следующей ветке Postfix 2.8. Тем не менее эту возможность уже можно использовать в Postfix 2.7, просто скопировав исполняемые файлы postscreen и dnsblog из экспериментальной сборки Postfix 2.8 и прописав их в master.cf. Суть работы postscreen сводится к выявлению аномально активных клиентов и проведении над ними серии тестов, нацеленных на определения фактов подключения неполноценного SMTP-сервера/клиента. Если клиент успешно проходит тесты, то его адрес на 24 часа помещается в белый список, иначе при провале определенных проверок соединение с клиентом завершается.