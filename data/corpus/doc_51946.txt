Обновлены планы по поставке 32-разрядных библиотек в Ubuntu 20.04

Стив Лангашек (Steve Langasek) из компании Canonical обобщил результаты обсуждения с сообществом списка библиотек для архитектуры i386, которые планируется поставлять в прослойке для обеспечения совместимости с 32-разрядными приложениями в Ubuntu 20.04 "Focal Fossa". Из более чем 30 тысяч исходных пакетов выбрано около 1700, для которых будет продолжено формирование 32-разрядных сборок для архитектуры i386. В основном в список вошли библиотеки, используемые в ещё находящихся в обиходе 32-разрядных приложениях, а также связанные с этими библиотеками зависимости. Кроме того, для библиотек из списка планируется сохранить используемые для тестов зависимости, но использовать их для кросс-тестирования i386-сборок библиотек в 64-разрядном системном окружении x86_64, моделируя таким образом окружение, которое будет применяться в реальных условиях. По сравнению с набором 32-разрядных библиотек, поставлявшихся в Ubuntu 19.10, в состав Ubuntu 20.04 дополнительно будут включены библиотеки: freeglut3 gstreamer1.0-plugins-base libd3dadapter9-mesa libgpm2 libosmesa6 libtbb2 libv4l-0 libva-glx2 va-driver-all vdpau-driver-all Но при этом из набора будут исключены устаревшие пакеты, которые в Ubuntu 20.04 перестанут собираться и для актуальных архитектур (привязанные к версиям пакеты, такие как libperl5.28 и libssl1.0.0, будут заменены на более новые): gcc-8-base libhogweed4 libnettle6 libperl5.28 libsensors4 libssl1.0.0 libhogweed4 libigdgmm5 libllvm8 libmysqlclient20 libnettle6 libtxc-dxtn-s2tc0 libvpx5 libx265-165 wine-devel-i386 wine-stable-i386 Напомним, что изначально компания Canonical намеревалась полностью прекратить сборку пакетов для архитектуры i386 (в том числе отказаться от формирования библиотек multiarch, необходимых для запуска 32-разрядных приложений в 64-разрядном окружении), но пересмотрела своё решение после изучения замечаний, высказанных разработчиками Wine и игровых платформ. В качестве компромисса было решено обеспечить сборку и поставку отдельного набора 32-разрядных пакетов с библиотеками, необходимыми для продолжения работы устаревших программ, остающихся только в 32-разрядном виде или требующих 32-разрядных библиотек. В качестве причины прекращения поддержки архитектуры i386 упоминается невозможность сопровождения пакетов на уровне других поддерживаемых в Ubuntu архитектур, например, из-за недоступности для 32-разрядных систем последних наработок в области повышения безопасности и защиты от фундаментальных уязвимостей типа Spectre. Поддержание пакетной базы для i386 требует больших ресурсов на разработку и контроль качества, которые не оправдывают себя из-за незначительной пользовательской базы (число систем i386 оценивается в 1% от общего числа установленных систем).