Оценка поддержки в Linux жестких дисков с размером сектора 4 Кб

В связи с использованием в новых моделях жестких дисков Western Digital Caviar Green нестандартного размера сектора, увеличенного с 512 байт до 4 Кб, предпринята попытка оценки степени поддержки таких дисков в Linux. В итоге были получены удручающие результаты: из-за отсутствия выравнивания записываемого кластера данных по границе физического сектора размером 4096 байт (выравнивание производится по 512-байтовым логическим секторам), наблюдается падение производительности более чем в три раза. Проблема возникает из-за того, что при разбивке диска некорректно вычисляется оптимальное смещение для первичного дискового раздела, который по умолчанию создается начиная с позиции LBA 63, оставаясь не выравненным по границе цилиндров.