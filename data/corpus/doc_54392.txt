В Fedora 34 намечен перевод FreeType на HarfBuzz для улучшения хинтинга

Для реализации в Fedora 34 намечен перевод шрифтового движка FreeType на использование движка компоновки глифов (shaping) HarfBuzz. Для тестирования в Fedora Rawhide предложен пакет freetype-harfbuzz. Изменение пока не рассмотрено комитетом FESCo (Fedora Engineering Steering Committee), отвечающим за техническую часть разработки дистрибутива Fedora. Заявлено, что использование HarfBuzz во FreeType позволит улучшить качество хинтинга (сглаживание контура глифа при растеризации для повышения чёткости на экранах с низким разрешением) при отображении текста на языках со сложной компоновкой текста, в которых глифы могут формироваться из нескольких символов. В частности, применение HarfBuzz позволит избавиться от проблемы с игнорированием при хинтинге лигатур, для которых нет отдельных Unicode-символов. Напомним, что перевод в прошлом году библиотеки Pango на использование HarfBuzz привёл к проблемам с отображением старых шрифтов. Дополнительно можно отметить одобрение комитетом FESCo перехода всех редакций Fedora на использование механизма systemd-oomd для раннего реагирования на нехватку памяти в системе вместо ранее применяемого процесса earlyoom. Systemd-oomd базируется на подсистеме ядра PSI (Pressure Stall Information), позволяющей в пространстве пользователя проанализировать информацию о времени ожидания получения различных ресурсов (CPU, память, ввод/вывод) для точной оценки уровня загруженности системы и характера замедления работы. PSI даёт возможность выявить начало возникновения задержек из-за нехватки ресурсов и выборочно завершить работу ресурсоёмких процессов на стадии, когда система ещё не находится в критическом состоянии и не начинает интенсивно урезать кэш и вытеснять данные в раздел подкачки.