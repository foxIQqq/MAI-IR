Wayland планируют использовать в экране входа Fedora 22 и задействовать по умолчанию в Fedora 23

Маттиас Класен (Matthias Clasen), лидер Fedora Desktop Team и участник GNOME Release Team, поделился информацией о статусе разработки рабочего стола на базе Wayland и его использования в дистрибутиве Fedora. По мнению Класена, портирование GNOME на Wayland близится к завершению и проект Fedora выходит на финишную прямую миграции на Wayland. В Fedora 22 разработчики намереваются перевести на использование Wayland реализацию экрана входа в систему, но по умолчанию пока оставить работу GNOME на базе классического графического стека X.Org. Экран входа является достаточно обособленной системой, поэтому переведя его на Wayland в первую очередь, у разработчиков появится возможность окончательно убедиться в отсутствии подводных камней и незамеченных ошибок, без негативного влияния на работу приложений и рабочего стола. При запуске сеанса GNOME поверх Wayland вместо использования прослойки XWayland в Fedora 22 планируется задействовать работающие поверх Wayland бэкенды для тулкитов GTK+ и SDL, а также возможно и для Qt. Подобное изменение не отразится на работе основного рабочего сеанса, но позволит провести работу по окончательной доводке GTK- и SDL-приложений до готовности к работе поверх Wayland без дополнительных прослоек. После создания ветки Fedora 22, в экспериментальном репозитории rawhide планируется задействовать в качестве основного графического стека Wayland, а в дальнейшем, начиная с выпуска Fedora 23, задействовать по умолчанию окружение GNOME, работающее поверх Wayland. Что касается текущего состояния разработки, отмечается, что в ожидаемом на этой неделе выпуске GNOME 3.15.4 будут решены многие недоработки, связанные с работой GNOME поверх Wayland. В частности, в API libinput 0.8 реализованы все необходимые элементы для организации ввода. GTK+ бэкенд на базе Wayland отмечен как более приоритетный по сравнению с бэкендом X. Во реализации однокнопочных всплывающих меню (popover) обеспечена возможность использования субповерхностей Wayland, что позволило снять ограничение по отображению меню только в рамках текущего окна. Обработка конфигурации ввода в основной массе перемещена в mutter. Внесены изменения в конфигуратор GNOME, сопуствующие поддержке Wayland и избавлению от привязок к X11. В GNOME Shell добавлена поддержка задания экранных границ для указателей (pointer barriers), что позволило обеспечить привязку действий к "горячим углам". Из нерешённых проблем отмечается поддержка планшетов Wacom. Тормозящим фактором также является невозможность запуска Wayland поверх проприетарного драйвера NVIDIA, при этом добавление в драйвер недостающих для работы Wayland компонентов ожидается до конца года. Кроме того, можно отметить заметку Кристиана Шаллера (Christian Schaller), возглавляющего группу по развитию десктоп-систем в компании Red Hat, который рассказал о планах, связанных с Fedora Workstation 22. Среди ожидаемых улучшений: Включение наработок по снижению энергопотребления. Включение инструмента для тестирования автономной работы от аккумулятора. Задействование датчиков освещённости для автоматического регулирования яркости подсветки экрана; Поддержка контейнеров для изолированного запуска десктоп-приложений; Поддержка работы GNOME Software со сторонними приложениями, в том числе выявление программ, установленных в обход пакетного менеджера или не из штатных репозиториев. Модернизация интерфейса Nautilus и поддержка Google Drive в файловом менеджере; Усовершенствование темы оформления для Qt4 и Qt5, позволяющий обеспечить бесшовную интеграцию с GNOME Qt-приложений и программ из KDE, интерфейс которых будет унифицирован с приложениями GTK. Усовершенствование GNOME Terminal, в том числе ожидается возможность вывода уведомлений при завершении длительно работающих заданий, таких как компиляция, что позволит не отвлекаться, постоянно заглядывая в терминал для оценки статуса завершения работы. Включение дополнительных средств для разработчиков, например, включение в репозитории PyCharm (интегрированная среда разработки для языка Python) и создание решений на базе инструментария Vagrant.