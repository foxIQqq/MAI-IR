Оценка производительности LZO и ZLib сжатия в файловой системе Btrfs

Ресурс Phoronix провёл тестирование производительности реализации файловой системы Btrfs при работе в трех режимах: без сжатия данных, со сжатием при помощи метода ZLib и со сжатием с использованием метода LZO, поддержка которого была добавлена в недавно вышедшем Linux-ядре 2.6.38. В тесте Compile Bench, оценивающем скорость сборки различных проектов, Btrfs c LZO-сжатием обогнал вариант без сжатия в 2.25 раза и вариант с zlib-сжатием в 1.25 раз. В тесте IOZone Btrfs c LZO-сжатием опередил вариант без сжатия в 9 раз, а вариант с zlib-сжатием в 2.4 раза. В тесте Dbench результаты были примерно одинаковыми. При увеличении числа клиентов в тесте Dbench, а также при проведении текста FS-Mark, варианты с Zlib/LZO показали идентичный результат, опередив конфигурацию без сжатия на 20-22%. При отключении режима sync/fsync в тесте FS-Mark вариант LZO в 3 раза обогнал Zlib и в 7 раз обогнал вариант без сжатия. В тесте Threaded IO Tester вариант LZO оказался на последнем месте, отстав от zlib на 11%, а от варианта без сжатия на 33%. В тесте AIO-Stress вариант LZO отстал на 10% от варианта Zlib, но обогнал на 10% вариант без сжатия.