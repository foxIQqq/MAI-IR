Разработчики Haiku развивают порты для RISC-V и ARM

Разработчики операционной системы Haiku приступили к созданию портов для архитектур RISC-V и ARM. Для ARM уже успешно собраны необходимые bootstrap-пакеты для запуска минимального загрузочного окружения. В порте для RISC-V работа сосредоточена на обеспечении совместимости на уровне libc (поддержка типа "long double", который имеет разный размер для ARM, x86, Sparc и RISC-V). В процессе работы над портами в основной кодовой базе проведено обновление версий GCC 8 и binutils 2.32. Для разработки потртов Haiku для RISC-V и ARM подготовлены Docker-контейнеры, включающие все необходимые зависимости. Также отмечаются успехи в области оптимизации системы распределения памяти rpmalloc. Внесённые в rpmalloc изменения и задействование отдельного кэша объектов позволили снизить потребление памяти и сократить фрагментацию. В итоге, к моменту второго бета-выпуска окружение Haiku сможет устанавливаться и загружаться на системы с 256 Мб ОЗУ, а может и ещё меньше. Началась работа и по аудиту и разграничению доступа к API (некоторые вызовы будут доступны только root). Напомним, что проект Haiku был создан в 2001 году как реакция на сворачивание разработки ОС BeOS и развивался под именем OpenBeOS, но был переименован в 2004 году из-за претензий, связанных с использованием в названии торговой марки BeOS. Система напрямую базируется на технологиях BeOS 5 и нацелена на бинарную совместимость с приложениями для данной ОС. Исходные тексты большей части ОС Haiku распространяются под свободной лицензией MIT, исключение составляют некоторые библиотеки, медиа-кодеки и компоненты, заимствованные из других проектов. Система ориентирована на персональные компьютеры, использует собственное ядро, построенное на основе гибридной архитектуры, оптимизированное для высокой отзывчивости на действия пользователя и эффективного выполнения многопоточных приложений. В качестве файловой системы используется OpenBFS, поддерживающая расширенные атрибуты файлов, журналирование, 64-разрядные указатели, поддержку хранения мета-тэгов (для каждого файла можно сохранить атрибуты в форме ключ=значение, что делает ФС похожей на БД) и специальных индексов для ускорения выборки по ним. Для организации структуры директорий используются "B+ tree" деревья. Из кода BeOS в состав Haiku включен файловый менеджер Tracker и панель Deskbar, исходные тексты которых были открыты после прекращения развития BeOS.