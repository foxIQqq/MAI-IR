Выпуск VKD3D-Proton 2.7, форка Vkd3d с реализацией Direct3D 12

Компания Valve опубликовала выпуск VKD3D-Proton 2.7, ответвления от кодовой базы vkd3d, созданного для улучшения поддержки Direct3D 12 в пакете для запуска игр Proton. В VKD3D-Proton поддерживаются специфичные для Proton изменения, оптимизации и улучшения для более качественной работы Windows-игр на базе Direct3D 12, которые пока не приняты в основной состав vkd3d. Из отличий также отмечается ориентация на использование современных расширений Vulkan и возможностей свежих выпусков графических драйверов для достижения полной совместимости с Direct3D 12. В новой версии: Повышены требования к драйверам. Для работы теперь требуется поддержка Vulkan-расширений VK_KHR_dynamic_rendering, VK_EXT_extended_dynamic_state, VK_EXT_extended_dynamic_state2 и VK_KHR_maintenance4, реализованных в Mesa 22.0 и проприетарных драйверах NVIDIA 510. Представленная в прошлом выпуске новая библиотека конвейера (pipeline) D3D12 адаптирована для любых игр, в том числе некорректно использующих API D3D12, благодаря реализации внутреннего дискового кэша для представления SPIR-V, сгенерированного из DXBC/DXIL. Внесена серия оптимизаций, нацеленных на снижение накладных расходов и повышение производительности GPU, в таких ситуациях, как рендеринг глубины (depth pass), применение WriteBufferImmediate(), обработка изображений, выделение памяти под ресурсы и доступ к корневым дескрипторам. Добавлена поддержка таких возможностей D3D12, как шейдеры мешей (для работы требуется поддержка VK_EXT_mesh_shader), совместные ресурсы (shared resource) и барьеры (fence). Продолжена реализация поддержки DXR 1.1. Добавлена начальная поддержка HDR. Внесены многочисленные исправления, связанные с поддержкой DXIL. Улучшена совместимость с драйвером Intel ANV. Расширены возможности для отладки. Повышена стабильность работы при сворачивании и переключении по Alt+Tab полноэкранных игр. Проведена подготовка к переводу кода c LGPL 2.1 на лицензию MIT. Решены проблемы в играх Hitman 3, Redout 2, F1 2020, F1 2021, F1 2022, Guardians of the Galaxy, Halo Infinite, Spiderman Remastered и Lost Judgment.