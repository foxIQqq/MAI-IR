В ядре Linux 3.16 наблюдается ускорение работы свободного видеодрайвера Radeon

Ресурс Phoronix провёл небольшое тестирование, нацеленное на изучение поведения ядра Linux версии 3.16 (ветка DRM-Next) с GPU семейства Radeon. Тест проводился с использованием Ubuntu 14.04 с MESA 10.3 (версия в разработке из git) из "oibaf PPA". Системным процессором выступил Intel Core i7 4790K. В качестве GPU были взяты GPU на основе GCN, а именно HD 7850, HD 7950 и R9 270X. Для сравнения также был взят Radeon HD 6870, основанный на более старой архитектуре VLIW. Как известно, в ядро 3.16 попала серия патчей, ускоряющих доступ к памяти в случае GPU, использующих виртуальную память (GPUVM). В основном это касается GPU семейства GCN, где данная возможность используется драйвером. Технически, GPUVM также используют некоторые старшие модели семейства Radeon HD6000, но там эта возможность как правило не используется. Поэтому данные изменения затрагивают только GPU на основе архитектуры GCN. Результаты тестов оказались достаточно предсказуемыми. В тесте OpenArena HD 7850 показал прирост на 5%, HD 7950 - на 13%, а R9 270X - на 8%. HD6870, как и ожидалось, показал одинаковую производительность с 3.15 и 3.16, отличающуюся в пределах погрешности. В Reaction Quake 3 производительность GPU на семействе GCN выросла слабо, на считанные проценты. Производительность HD6870 не изменилась. В известном своей требовательностью тесте Unigine Sanctuary, Radeon HD 7850 стал быстрее на 21%, а HD 7950 и R9 270X - на 27%. В еще одном требовательном тесте Unigine Tropics, Radeon HD 7850 ускорился на 21%, HD 7950 - на 27%, а R9 270X стал быстрее на целых 34%. В результате GPU семейства GCN начали составлять в данных тестах серьезную конкуренцию более старым GPU поддерживаемым драйвером R600. При тестировании в играх Unvanquished и Warsow результаты не изменились, при том GPU на основе GCN демонстрировали заметное отставание от HD6870. В игре Xonotic GPU на основе GCN немного прибавили в производительности, однако прирост FPS составил лишь 5-7%.