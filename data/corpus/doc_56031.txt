Проект ELevate, упрощающий переход с CentOS 7 на дистрибутивы, основанные на RHEL 8

Разработчики дистрибутива AlmaLinux, основанного компанией CloudLinux в ответ на преждевременное сворачивание поддержки CentOS 8, представили инструментарий ELevate, позволяющий упростить миграцию рабочих установок CentOS 7.x на дистрибутивы, построенные на пакетной базе RHEL 8, с сохранением приложений, данных и настроек. В настоящее время проектом поддерживается миграция на AlmaLinux, Rocky Linux, CentOS Stream и Oracle Linux. Процесс миграции основан на использовании развиваемой компанией Red Hat утилиты Leapp, которая дополнена патчами, учитывающими специфику CentOS и сторонних дистрибутивов, построенных на пакетной базе RHEL. В проекте также задействован расширенный набор метаданных, описывающих шаги для перевода отдельных пакетов от одной ветки дистрибутива к другой. Для миграции достаточно подключить предоставляемый проектом репозиторий, установить пакет со сценарием миграции на выбранный дистрибутив (leapp-data-almalinux, leapp-data-centos, leapp-data-oraclelinux, leapp-data-rocky) и запустить утилиту "leapp". Например, для перехода на Rocky Linux можно выполнить следующие команды, предварительно обновив свою систему до актуального состояния: sudo yum install -y http://repo.almalinux.org/elevate/elevate-release-latest-el7.noarch.rpm sudo yum install -y leapp-upgrade leapp-data-rocky sudo leapp preupgrade sudo leapp upgrade Напомним, что компания Red Hat ограничила время поддержки классического дистрибутива CentOS 8 - обновления для данной ветки будут выпускаться до декабря 2021 года, а не до 2029 года, как предполагалось изначально. На смену CentOS придёт сборка CentOS Stream, ключевое отличие которой в том, что классический CentOS выступал в роли "downstream", т.е. собирался из уже сформированных стабильных релизов RHEL, в то время как CentOS Stream позиционируется как "upstream" для RHEL, т.е. в нём будет проходить тестовая обкатка пакетов перед включением в релизы RHEL (RHEL будет пересобираться на основе CentOS Stream). CentOS Stream позволит раньше получить доступ к возможностям будущей ветки RHEL, но включает ещё не полностью стабилизированные пакеты. Благодаря CentOS Stream сторонние участники могут контролировать подготовку пакетов для RHEL, предлагать свои изменения и влиять на принимаемые решения. Раньше в качестве основы для новой ветки RHEL использовался снапшот одного из выпусков Fedora, который дорабатывался и стабилизировался за закрытыми дверями, без возможности контролировать ход разработки и принимаемые решения. Сообщество отреагировало на изменение созданием нескольких альтернатив классическому CentOS 8, среди которых VzLinux (подготовлен компанией Virtuozzo), AlmaLinux (развивается компанией CloudLinux, совместно с сообществом), Rocky Linux (развивается сообществом под руководством основателя CentOS при поддержке специально созданной компании Ctrl IQ) и Oracle Linux. Кроме того, компания Red Hat предоставила возможность бесплатного использования RHEL в организациях, развивающих открытое ПО, и в окружениях индивидуальных разработчиков, насчитывающих до 16 виртуальных или физических систем.