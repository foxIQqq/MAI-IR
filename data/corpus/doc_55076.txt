В Mesa принят OpenGL-драйвер с начальной поддержкой чипов Apple M1

Алиса Розенцвейг (Alyssa Rosenzweig) из компании Collabora, развивающая драйвер Panfrost для GPU Mali, сообщила о подготовке для Mesa начальной реализации OpenGL-драйвера asahi с поддержкой графического процессора, поставляемого в чипах Apple M1. Драйвер использует интерфейс Gallium и поддерживает большую часть возможностей OpenGL 2.1 и OpenGL ES 2.0. Реализованной функциональности пока недостаточно для запуска большинства игр, но драйвер уже способен запускать приложения glxgears и glmark2, а также успешно проходит около 75% тестов drawElements Quality Program, используемых консорциумом Khronos для сертификации совместимости с OpenGL ES 2.0. Код предложенного прототипа уже принят в основную кодовую базу Mesa. Новый драйвер основан на эталонном Gallium-драйвере noop с переносом некоторого кода из драйвера Panfrost, развиваемого для GPU ARM Mali. В дальнейшем, помимо OpenGL-драйвера для Mesa, планируется подготовить модуль для подсистемы DRM (Direct Rendering Manager) ядра Linux и Mesa-драйвер с реализацией графического API Vulkan. Напомним, что чип Apple M1 не является типовым, изготовлен на заказ и имеет собственные архитектурные особенности. Например, в Apple M1 используется собственный GPU, спроектированный в Apple. Техническая документация на GPU отсутствует и при разработке независимых драйверов применяется обратный инжиниринг драйверов из macOS.