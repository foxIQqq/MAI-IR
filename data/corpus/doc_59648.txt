Открытый драйвер Asahi для чипов Apple M1 и M2 сертифицирован на совместимость с OpenGL ES 3.1

Консорциум Khronos, занимающийся разработкой графических стандартов, признал полную совместимость открытого драйвера Asahi для GPU AGX, поставляемого в чипах Apple M1 и M2, со спецификацией OpenGL ES 3.1. Драйвер успешно прошёл все тесты из набора CTS (Kronos Conformance Test Suite) и включён в список сертифицированных драйверов. Проверка была выполнена на устройствах Apple M1, M1 Pro/Max/Ultra, M2 и M2 Pro/Max в окружении с дистрибутивом Asahi Linux Fedora Remix, Mesa 23.2.0-devel (git-65eae45514) и X.Org X Server (X11_EGL). Созданные в ходе подготовки к сертификации исправления и улучшения уже перенесены в Mesa и войдут в состав выпуска 23.2. Кроме драйвера Asahi для Mesa, в работе задействован DRM-драйвер drm-asahi (Direct Rendering Manager) для ядра Linux, написанный на языке Rust (драйвер для Mesa написан на Си). Компоненты, необходимые для полноценного использования OpenGL ES 3.1 на устройствах с чипами Apple M1 и M2, уже включены в дистрибутив Asahi Linux как в новые сборки на базе Fedora Linux, так и в репозиторий для старых сборок на базе Arch Linux. В чипах Apple M1 и M2 применяется собственный GPU, спроектированный в Apple, выполняющий закрытую прошивку и использующий достаточно сложные совместно используемые структуры данных. Так как техническая документация на GPU Apple отсутствует, при разработке независимых драйверов применяется обратный инжиниринг драйверов из macOS. Примечательно, что оригинальные проприетарные драйверы Apple для чипов M1 и M2 не включены в список сертифицированных в Khronos драйверов и открытый драйвер прошёл сертификацию первым. Получение сертификата даёт возможность официально заявлять о совместимости с графическими стандартами и использовать связанные с ними торговые марки Khronos.