Fedora планирует перевести RPM с BerkeleyDB на SQLite

Разработчики Fedora Linux намерены перевести базу данных пакетов RPM (rpmdb) с BerkeleyDB на SQLite. В качестве основной причины замены называется применение в rpmdb устаревшей версии Berkeley DB 5.x, которая уже несколько лет не сопровождается. Переходу на более новые выпуски мешает изменение лицензии Berkeley DB 6 на AGPLv3, требования которой распространяются и на приложения, использующие BerkeleyDB в форме библиотеки (RPM поставляется под GPLv2, а AGPL несовместима с GPLv2). Кроме того, текущая реализация rpmdb на основе BerkeleyDB не обеспечивает необходимой надёжности, так как не использует транзакции и не способна выявлять несоответствия в БД. Необходимые для использования SQLite изменения будут предложены в выпуске RPM 4.16. Для преобразования формата БД будет достаточно использовать команду "rpmdb --rebuilddb". Новую реализацию rpmdb планируются включить в Fedora 33, сохранив для обеспечения совместимости и поддержку BerkeleyDB. В Fedora 34 поддержка BerkeleyDB будет переведена в режим только для чтения.