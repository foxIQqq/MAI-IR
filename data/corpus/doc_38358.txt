Разработчики systemd предложили новую систему для настройки сетевой конфигурации

В списке рассылки разработчиков проекта systemd представлен новый сервис systemd-networkd, призванный унифицировать компоненты дистрибутивов, используемые для настройки параметров сети (скрипты /etc/network, /etc/sysconfig/network, /etc/sysconfig/network-scripts/ifcfg-* и т.п.). Сервис systemd-networkd реализован в форме фонового процесса и по умолчанию не влияет на существующую конфигурацию, уже используемую в дистрибутиве - сервис может выполняться параллельно с традиционными скриптами и демонами настройки сети. Настройка systemd-networkd производится через создание файлов конфигурации /etc/systemd/network/*.network. При выборе файла конфигурации для текущего устройства используется логика сходная с выбором ".link"-файлов, при которой осуществляется линейный разбор файлов в алфавитном порядке и применение первого подходящего условиям файла конфигурации. В отличие от файлов ".link", для категории ".network" доступна возможность сопоставления по именам сетевых интерфейсов. Реализация в настоящее время находятся в состоянии оценочного прототипа и поддерживает только настройку шлюза и статических адресов. Функциональность будет расширена после утверждения базовой архитектуры новой системы. В числе ближайших планов отмечается реализация средств для настройки сетевых мостов, поддержка DHCPv4/6 и IPv4LL, обеспечение RTNL-вызовов (Routing NETLINK) в асинхронном виде, улучшение поддержки IPv6, возможность использования расширенных схем маршрутизации, добавление интерфейса для настройки из командной строки, возможность задания обработчиков при изменении состояния интерфейса. Пример файла конфигурации: [Match] MACAddress= Path= Driver= Type= Name= [Network] Description= [IP] Gateway=192.168.1.1 Address=label at 192.168.1.23/24 Address=fe80::9aee:94ff:fe3f:c618/64