Выпуск postmarketOS 21.06, Linux-дистрибутива для смартфонов и мобильных устройств

Представлен выпуск проекта postmarketOS 21.06, развивающего дистрибутив Linux для смартфонов, базирующийся на Alpine Linux, Musl и BusyBox. Целью проекта является предоставление возможности использования Linux дистрибутива на смартфоне, не зависящего от жизненного цикла поддержки официальных прошивок и не привязанного к типовым решениям основных игроков индустрии, задающих вектор развития. Сборки подготовлены для PINE64 PinePhone, Purism Librem 5 и 15 поддерживаемых сообществом устройств, включая Samsung Galaxy A3/A3/S4, Xiaomi Mi Note 2/Redmi 2, OnePlus 6 и даже Nokia N900. Ограниченная экспериментальная поддержка предоставлена для 330 устройств. Окружение postmarketOS максимально унифицировано и выносит все специфичные для конкретных устройств компоненты в отдельный пакет, все остальные пакеты идентичны для всех устройств и основаны на пакетах Alpine Linux. В сборках по возможности используется ванильное ядро Linux, а если это невозможно, то ядра из прошивок, подготовленных производителями устройств. В качестве основных пользовательских оболочек предлагаются KDE Plasma Mobile, Phosh, Sxmo, но имеется возможность установки и других окружений, включая GNOME, MATE и Xfce. В новом выпуске: Пакетная база синхронизирована с Alpine Linux 3.14. Число официально поддерживаемых сообществом устройств увеличено с 11 до 15. Добавлена поддержка смартфонов OnePlus 6, OnePlus 6T, Xiaomi Mi Note 2 и Xiaomi Redmi 2. Для каждого из поддерживаемых устройств, кроме Nokia N900, предоставляются пакеты для установки оболочек Phosh, Plasma Mobile и Sxmo. Обновлены версии всех интерфейсов пользователя. При разблокировке шифрованного раздела rootfs утилитой osk-sdl теперь отключаются очереди операций записи и чтения, что позволило на ФС с размером блока 4K поднять производительность записи примерно на 35%, а чтения на 33%. В инсталляторе убран запрос отдельного имени и пароля для пользователя SSH. Проведена оптимизация ядра для смартфона PinePhone, позволившая продлить время автономной работы. Ядро Linux для устройств Pine64 собрано на основе наработок проекта linux-sunxi. Запрещён переход в ждущий режим во время воспроизведения музыки, даже если приложение напрямую не блокирует активацию хранителя экрана через API inhibit. Перенесены изменения, нацеленные на повышения стабильности работы Wi-Fi на смартфоне Librem 5. Для Librem 5 добавлена поддержка использования смарткарт. Пользовательское окружение Phosh UI переведено по умолчанию на файловый менеджер Portfolio, который лучше адаптирован для экранов мобильных устройств. Ранее поставляемый Nemo можно установить из репозитория Alpine Linux. Для всех устройств, кроме OnePlus 6/6T и Xiaomi Mi Note 2, по умолчанию включён предопределённый набор правил пакетного фильтра nftables. В предложенных по умолчанию правилах разрешены входящие SSH-соединения через Wi-Fi и сетевые USB-адаптеры, а также DHCP-запросы через USB-адаптеры. На сетевом интерфейсе WWAN (доступ через 2G/3G/4G/5G) запрещены любые входящие соединения. Исходящие соединения разрешены для всех типов сетевых интерфейсов.