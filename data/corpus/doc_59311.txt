Выпуск OpenSMTPD 7.3.0p0, SMTP-сервера от проекта OpenBSD

Спустя два с половиной года с момента прошлого обновления сформирован выпуск переносимой редакции SMTP-сервера OpenSMTPD 7.3.0p0, развиваемого под эгидой проекта OpenBSD и нацеленного на создание простой замены Sendmail. Сервер поддерживает большую часть требований спецификации RFC 5321 и реализует ряд используемых повсеместно расширений протокола, таких как поддержка аутентификации пользователей (SMTP AUTH), TLS-шифрование трафика, уведомления о доставке DSN (Delivery Status Notification), расширенные коды статуса (Enhanced Status Codes), блокирование спама по "серым спискам" через интеграцию со spamd. Поддерживается работа во FreeBSD, NetBSD, DragonFlyBSD, macOS и Linux. Прошлый выпуск переносимой редакции OpenSMTPD был основан на кодовой базе из OpenBSD 6.8 и был опубликован в декабре 2020 года. Новый выпуск синхронизирован с OpenSMTPD из состава OpenBSD 7.3 и включает следующие заметные изменения: Добавлена опция "-a" для выполнения аутентификации до отправки сообщения. В слушающих сокетах для TLS реализована возможность настройки нескольких сертификатов, выбираемых в зависимости от имени домена (SNI). Осуществлён переход на использование библиотеки libtls. При наличии по умолчанию подключаются системные libbsd и libtls, для принудительного использования встроенной версии libtls предложен сборочный флаг "--with-bundled-libtls". Реализована поддержка опций TLS "cafile=(path)", "nosni", "noverify" и "servername=(name)". В smtp разрешено выбирать параметры шифров и протоколов TLS. Включена по умолчанию проверка TLS для исходящих подключений "smtps://" и "smtp+tls://". Для выбора используемого сертификата задействован поиск по именам, присутствующим в самом сертификате, а не по имени pki. Устранены утечки памяти и ошибки, приводящие к аварийному завершению. Из OpenBSD перенесена функция res_randomid().