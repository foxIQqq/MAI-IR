Выпуск встраиваемого JavaScript-движка Duktape 2.4.0

Опубликован выпуск JavaScript-движка Duktape 2.4.0, ориентированного на встраивание в кодовую базу проектов на языке C/C++. Движок отличается компактным размером, высокой переносимостью и низким потреблением ресурсов. Исходные тексты движка написаны на языке Си и распространяются под лицензией MIT. Код Duktape занимает около 160 kB и потребляет всего 70kB ОЗУ, а в режиме низкого потребления памяти 27kB ОЗУ. Для интеграции Duktape в код на C/C++ достаточно добавить в проект файлы duktape.c и duktape.h, и использовать Duktape API для вызова функций на JavaScript из кода на C/C++ или наоборот. Для освобождения неиспользуемых объектов из памяти применяется сборщик мусора с финализатором, построенный на основе комбинации алгоритма подсчёта ссылок с алгоритмом пометок (Mark and Sweep). Движок применяется для обработки JavaScript в браузере NetSurf. Обеспечивается полная совместимость со спецификациями Ecmascript 5.1 и частичная поддержка Ecmascript 2015 и 2016 (ES6 и ES7), в том числе поддержка объекта Proxy для виртуализации свойств, типизированные массивы, ArrayBuffer, Node.js Buffer, Encoding API, объект Symbol и т.п. В состав входит встроенный отладчик, движок для выполнения регулярных выражений и подсистема для поддержки Unicode. Также предоставляются специфичные расширения, такие как поддержка сопрограмм, встроенный фреймворк для журналирования, механизм загрузки модулей на основе CommonJS, система кэширования байткода, позволяющая сохранять и загружать скомпилированные функции. В новом выпуске реализованы новые вызовы duk_to_stacktrace() и duk_safe_to_stacktrace() для получения трассировок стека, duk_push_bare_array() для добавления независимых экземпляров массивов. В число публичных переведены функции duk_require_constructable() и duk_require_constructor_call(). Улучшена совместимость со спецификацией ES2017. Оптимизирована работа с массивами и объектами. В CLI-интерфейс duk добавлена опция "--no-auto-complete" для отключения аводополнения ввода.