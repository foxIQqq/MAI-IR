Mozilla тестирует DNS поверх HTTPS и применение GPU для отрисовки

Разработчики Mozilla предложили пользователям принять участие в тестировании функции обращения к DNS поверх HTTPS (DoH, DNS over HTTPS). После успешного эксперимента с включением DoH в ночных сборках, решено протестировать данную функциональность в бета-выпусках Firefox. В конце этой недели части пользователей Firefox Beta из США будет предложено активировать обращение к DNS через HTTPS (при нежелании принимать участие в тестировании пользователь сможет отказаться). В процессе тестирования DoH в ночных сборках существенное ускорение отклика было замечено только участниками с медленными каналами связи,в то время как у большинства пользователей наблюдалось незначительное снижение производительности. Тем не менее эксперимент был признан удачным, так как польза от повышения защищённости при использовании DoH перекрывает зафиксированную задержку на уровне 6 миллисекунд, которая незаметна в процессе работы. Желающие могут присоединиться к тестированию DoH, изменив в about:config значение network.trr.mode (поддерживается, начиная с Firefox 60). Значение 0 полностью отключает DoH; 1 - используется DNS или DoH, в зависимости от того, что быстрее; 2 - используется DoH по умолчанию, а DNS как запасной вариант; 3 - используется только DoH; 4 - режим зеркалирования при котором DoH и DNS задействованы параллельно. По умолчанию используется DNS-сервер CloudFlare, но его можно изменить через параметр network.trr.uri, например, можно установить "https://dns.google.com/". Напомним, что DoH может оказаться полезным для исключения утечек сведений о запрашиваемых именах хостов через DNS-серверы провайдеров, борьбы с MITM-атаками и подменой DNS-трафика, противостояния блокировкам на уровне DNS или для организации работы в случае невозможности прямого обращения к DNS-серверам (например, при работе через прокси). Если в обычной ситуации DNS-запросы напрямую отправляются на определённые в конфигурации системы DNS-серверы, то в случае DoH запрос на определение IP-адреса хоста инкапсулируется в трафик HTTPS и отправляется на HTTP-сервер, на котором резолвер обрабатывает запросы через Web API. Существующий стандарт DNSSEC использует шифрование лишь для аутентификации клиента и сервера, но не защищает трафик от перехвата и не гарантирует конфиденциальность запросов. Дополнительно, можно отметить активацию для ограниченного числа пользователей ночных сборок Firefox системы композитинга Servo WebRender, написанной на языке Rust. При включении WebRender для выполнения операций отрисовки элементов страницы не используется встроенная в движок Gecko система композитинга, обрабатывающая данные при помощи CPU. Вместо этого применяются шейдеры, выполняемые в GPU, что позволяет добиться существенного увеличения скорости отрисовки. Тестирование WebRender затронет около 17% пользователей стационарных ПК с ОС Windows 10 и видеокартой NVIDIA. Для активации WebRender независимо от попадания в группу тестирования в about:config можно выставить переменную "gfx.webrender.all". По оценке разработчиков, система уже работает достаточно стабильно на всех поддерживаемых в Firefox платформах, кроме Android.