Выпущен первый кандидат в релизы ядра Linux 3.10 (3.10-rc1)

Линус Торвальдс анонсировал первый кандидат в релизы ядра Linux 3.10 (rc1), который ознаменовал закрытие окна по приёму новшеств (merge window) в ветку 3.10. По утверждению Линуса, по числу добавленных изменений ядро 3.10 является одним из самых значительных за всю историю. В частности было внесено почти 12 тысяч коммитов, при этом изменения в основном связаны с текущей работой по улучшению ядра. Релиз ядра 3.10 ожидается в первой половине июля. Среди внесённых в ядро 3.10 изменений: Интеграция разработанной и применяемой в Google системы Bcache, которая позволяет организовать кэширование доступа к медленным жестким дискам на быстрых SSD-накопителях, при этом кэширование ведётся на уровне блочного устройства, что позволяет ускорить доступ к накопителю независимо от используемых на нём файловых систем. Один SSD-накопитель может использоваться для кэширования нескольких различных блочных устройств. Блочное устройство может быть на лету прикреплено к кэшу и отключено от него, без размонтирования и временной остановки работы (создание кэша требует форматирования с использованием утилиты make-bcache). Поддерживается как сквозное кэширование (writethrough), так и режим отложенной записи (writeback) при котором данные записываются на исходный носитель не сразу, что позволяет обеспечить ускорение операций записи. Дополнительно поддерживается режим readahead, при котором кэш наполняется не только при записи, но и при операциях чтения; Функциональность запуска скриптов, содержащих путь к интерпретатору в заголовке "#!", теперь может быть собрана в виде модуля ядра. Таким образом, теперь легко можно запретить выполнить скрипты как программы; В DRM-модуль Radeon добавлена поддержка ускорения декодирования видео с использованием аппаратного декодера UVD, встроенного в современные GPU AMD. Поддержка UVD обеспечена для GPU HD4xxx-HD5xxx (R700, Evergreen), поддерживающих UVD2, и HD6xxx-HD7xxx (Northern Islands, Southern Islands) с поддержкой UVD3; Внесены патчи, подготовленные в рамках проекта LLVMLinux и позволяющие собирать ядро компилятором Clang. Аналогичные патчи внесены в ветку Clang 3.3, что приблизило проект к состоянию, когда немодифицированное ядро можно пересобрать штатным компилятором Clang; Добавлена динамическая система управления генерацией прерываний таймером, позволяющая в зависимости от текущего состояния изменять прерывания в диапазоне от тысяч тиков в секунду до одного прерывания в секунду, сводя к минимуму нагрузку на CPU при обработке прерываний при неактивности системы. В настоящее время добавленная функциональность нацелена на применение в системах реального времени и для высокопроизводительных вычислений (HPC), в будущих выпусках планируется задействовать указанную возможность и для десктоп-систем; В cgroups добавлена поддержка генерации события с уведомлением приложения о приближении к исчерпанию доступной процессу или системе памяти; В систему uprobes (userspace probes), нацеленную на анализ поведения выполняемых в пространстве пользователя приложений, добавлен контрольный вызов для перехвата выхода из функции (выполнение Return); В команду perf добавлена поддержка профилирования доступа к памяти; В подсистему iSCSI добавлена поддержка протокола RDMA (iSER); Добавлен новый экспериментальный драйвер "sync", разработанный в рамках платформы Android и используемый для синхронизации между другими драйверами; Добавлен драйвер для виртуальных видеоадаптеров Microsoft Hyper-V; Поддержка новых средств управления питанием, появившихся в процессорах AMD семейства 16h ("Jaguar"); Выполнение криптографических функций, в том числе sha256, sha512, blowfish, twofish, serpent и camellia, оптимизировано с использованием инструкций AVX/AVX2 и SSE. Отдельно можно отметить задействование поддерживаемых в современных CPU AMD и Intel средств ускорения шифрования AES, что позволяет существенно повысить производительность eCryptfs AES-NI; Интегрирован драйвер виртуальной графической карты QXL, применяемой в системах виртуализации для обеспечения акселерированного вывода графики с использованием протокола SPICE; В Btrfs добавлена поддержка режима Skinny Extents, позволяющего уменьшить размер дерева распределения блоков до 30%. Добавлена поддержка автоматического перестроения индекса квот; В файловой системе XFS появилась экспериментальная поддержка ведения контрольных сумм для контроля целостности метаданных. Одновременно представлены очередные корректирующие релизы ядра Linux: 3.0.78 (13 исправлений), 3.4.45 (26 исправлений), 3.8.13 (76 исправлений)и 3.9.2 (77 исправлений). Как обычно, в анонсе выхода новых версий подчеркивается обязательность проведения обновления.