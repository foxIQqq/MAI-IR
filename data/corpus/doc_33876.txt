Релиз систем мониторинга Icinga 1.7 и Monit 5.4

Представлен релиз системы мониторинга Icinga 1.7, которая представляет собой форк системы мониторинга Nagios, отделившийся в начале мая 2009 года вследствие конфликта независимых разработчиков с компанией Nagios Enterprises. Исходные тексты Icinga распространяются в рамках лицензии GPL. Для загрузки подготовлены два архива - с классическим интерфейсом на языке С++ и новым интерфейсом на языке PHP. Дополнительно поставляется пакет icinga-reporting, с реализацией аналитического модуля для генерации отчетов, написанного на языке Java и работающего вкупе с системой JasperServer. От Nagios проект Icinga отличается переработанной архитектурой, переведенной на использование прослоек IDOMOD и IDO2DB, позволяющих организовать хранение данных мониторинга и конфигурационной информации в СУБД MySQL, Oracle или PostgreSQL. Структура Icinga оптимизирована для развертывания распределенных систем мониторинга, при которой возможно создание нескольких агентов мониторинга, осуществляющих проверки и направляющих результаты на основной узел. В состав Icinga входит более гибкий и удобный модульный web-интерфейс, переписанный на языке PHP, активно использующий AJAX и и представляющий статистику в виде графиков. Для обеспечения интеграции с внешними сервисами предусмотрено несколько API: XML, JSON, SOAP. В новой версии расширены возможности как классического интерфейса, продолжающего развитие web-интерфейса Nagios, так и принципиально нового web-интерфейса, переписанного на языке PHP. В классическом интерфейсе добавлено два новых режима просмотра конфигурации - "опции конфигурации CGI" для просмотра параметров авторизации пользователей и "изменённые атрибуты" для просмотра просмотра конфигурации хостов и сервисов в сравнении с последними атрибутами добавленными через фронтэнд. Также добавлены дополнительные опции для управления детализацией лога и карты состояния, реализован гибкий метод рассчёта времени простоя. В новом web-интерфейсе, кроме вышеотмеченных экранов просмотра конфигурации, добавлена возможность сохранения и загрузки собственных фильтров отображения. В бэкенд интегрировано дополнение DQL (Doctrine Query Language), позволяющее продвинутым пользователям и разработчикам создавать свои собственные модули просмотра (cronk), получающие данные в том числе из внешних БД и систем. В обоих web-интерфейсах унифицированы многие вычисления, включая проверки времени запуска, продолжительности проблем, ожидающих проверки состояний, информации о производительности и т.д. Дополнительно можно упомянуть о выходе новой версии Monit 5.4 - легковесного пакета для организации мониторинга серверов. Monit устанавливается на конечные серверы и обеспечивает возможность отправки уведомлений в случае обнаружения проблем, таких как нарушение доступности хоста, нехватка места на диске, изменение контрольной суммы для файла и т.п. Кроме того, Monit может автономно выполнять определенное действие в качестве реакции на заданные события (например, перезапустить упавший процесс или принять какие-то меры в случае нехватки памяти и большой нагрузки на CPU). Для просмотра состояния и внешнего управления в Monit встроен небольшой http-сервер (скриншоты возможных отчетов можно посмотреть здесь). Программа написана на языке Си и может работать с минимальным числом внешних зависимостей. Дополнительно развивается web-интерфейс M/Monit для обеспечения централизованного мониторинга за группой серверов, на которых установлен Monit. Новая версия Monit примечательна обеспечением поддержки сборки с использованием библиотеки uCLibc, часто используемой во встраиваемых Linux-системах. Кроме того, добавлена возможность проверки времени работы процесса, что позволяет предпринять определённые действия, если указанный процесс выполняется дольше заданной величины, например, указав "if uptime > 3 days then restart" можно перезапускать процесс раз в три дня.