Новая версия эмулятора QEMU 1.6.0

Анонсирован выпуск QEMU 1.6.0. В качестве эмулятора QEMU позволяет запустить программу, собранную для одной аппаратной платформы, на системе с совершенно иной архитектурой, например, выполнить приложение для ARM на x86-совместимом ПК. В режиме виртуализации в QEMU производительность выполнения кода в изолированном окружении близка к нативной системе за счёт прямого выполнения инструкций на CPU и задействования гипервизора Xen или модуля KVM. Изначально проект был создан Фабрисом Белларом (Fabrice Bellard) с целью обеспечения возможности запуска собранных для платформы x86 исполняемых файлов Linux на архитектурах, отличных от x86. За годы разработки была добавлена поддержка полной эмуляции для 14 аппаратных архитектур, число эмулируемых аппаратных устройств превысило 400. Всего в разработке всех выпусков QEMU приняло участие более 400 авторов, которые подготовили около 23 тысяч изменений. При подготовке версии 1.6 внесено около 1600 изменений от 129 разработчиков. Ключевые улучшения, добавленные в QEMU 1.6.0: Поддержка live-миграции с использованием протокола RDMA, предоставляющие похожие на DMA возможности для организации прямого доступа к памяти другого компьютера. Для миграции следует использовать команду "migrate x-rdma:HOST:PORT"; Возможность live-миграции окружений, использующих контроллер XHCI (USB 3.0); Поддержка автоматического сведения (auto-convergence) при live-миграции, позволяющего плавно переключить виртуальные процессоры на новый сервер с минимизацией негативного влияния на производительность; В классический генератор кода TCG (Tiny Code Generator) добавлена поддержка целевой платформы Aarch64; Добавлено новое эмулируемое блочное устройство "nvme" с реализацией PCI-платы, соответствующей стандарту NVMe (NVM Express), предназначенного для организации доступа к SSD-накопителям через шину PCI Express; Поддержка предоставляемых интерфейсом ACPI средств для горячего подключения устройств, работающих через PCI Bridge; Поддержка 32-разрядных инструкций LDA/STL (load-acquire/store-release), поддерживаемых процессорами на базе архитектуры ARMv8; Экспериментальная поддержка virtio-устройств (через virtio-mmio) для эмулируемых плат vexpress-a9 и vexpress-a15; Графический интерфейс на базе GTK+ адаптирован для работы на BSD-системах; В GTK-интерфейс добавлены опции "-full-screen" и "-no-quit"; Поддержка новой фоновой работы drive-backup для создания резервной копии диска и её записи в файл. В отличие от drive-mirror, резервная копия отражает состояние диска на момент запуска резервного копирования, а не его завершения. Поддерживается атомарный бэкап нескольких дисков; Поддержка динамического выделения места в хранилище (thin provisioning) для образов qcow2. При использовании опции "-drive ...,discard=on" генерируемые гостевой системой discard-запросы перенаправляются к базовой файловой системе или блочному устройству, по аналогии с использованием raw-формата; Поддержка нового типа систем "PC" в Xen; Реализация поддержки live-миграции и сохранения слепка виртуальной машины для серверов IBM pSeries на базе архитектуры PPC; В режиме эмуляции PPC добавлна поддержка гостевых систем с Mac OS X 10.2-10.4 для PPC и Mac OS X 10.4 для PPC64; Поддержка сетевых интерфейсов TUN/TAP в Mac OS X. Устранена потенциально возможная потеря данных в случае краха системы, использующей IDE-диски, из-за некорректной отправки FLUSH-запросов; Для хост-систем на базе Linux теперь требуется наличие glibc начиная с версии 2.5; Поддержка сборки инсталлятора QEMU для Windows.