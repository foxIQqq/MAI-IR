Выпуск мультимедиа-пакета FFmpeg 6.0

После шести месяцев разработки доступен мультимедиа-пакет FFmpeg 6.0, включающий набор приложений и коллекцию библиотек для операций над различными мультимедиа-форматами (запись, преобразование и декодирование звуковых и видеоформатов). Пакет распространяется под лицензиями LGPL и GPL, разработка FFmpeg ведётся смежно с проектом MPlayer. Из изменений, добавленных в FFmpeg 6.0, можно выделить: В разряд обязательных переведена сборка ffmpeg в многопоточном режиме. Каждый упаковщик медиаконтейнеров (muxer) теперь запускается в отдельном потоке. Реализована поддержка VAAPI и QSV (Quick Sync Video) для кодирования и декодирования VP9 и HEVC с цветовой субдискретизации 4:2:2 и 4:4:4, 10- и 12-разрядного кодирования глубины цвета. Добавлена поддержка библиотеки oneVPL (oneAPI Video Processing Library) для использования технологии аппаратного ускорения Intel QSV (Quick Sync Video). Добавлен кодировщик AV1 с аппаратным ускорением на базе QSV. В утилиту ffmpeg добавлены опции: "-shortest_buf_duration" для задания максимальной продолжительности буферизированных кадров (чем больше, тем выше точность в режиме "-shortest", но выше потребление памяти и задержки). "-stats_enc_pre[_fmt]", "-stats_enc_post[_fmt]" и "-stats_mux_pre[_fmt]" для записи на разных стадиях кодирования покадровой информации о выбранных потоках в указанный файл. "-fix_sub_duration_heartbeat" для определения синхронизирующего (heartbeat) видеопотока, используемого для разделения субтитров. Синтаксис filtergraph расширен возможностью передачи значений опций из указанного файла. Имя файла задаётся через указание значения с префиксом '/', например, "ffmpeg -vf drawtext=/text=/tmp/some_text" приведёт к загрузке параметра text из файла /tmp/some_text. Добавлена поддержка форматов изображений: WBMP (Wireless Application Protocol Bitmap), Radiance HDR (RGBE). Добавлены новые декодировщики: APAC, bonk, Micronas SC-4, Media 100i, ViewQuest VQC, MediaCodec (NDKMediaCodec), WADY DPCM, CBD2 DPCM, XMD ADPCM, WavArc, RKA. Добавлены новые кодировщики: nvenc AV1, MediaCodec. Добавлены распаковщики медиаконтейнеров (demuxer): SDNS, APAC, bonk, LAF, WADY DPCM, XMD ADPCM, WavArc, RKA. Объявлены устаревшими декодировщики CrystalHD. Новые фильтры для видео: ddagrab - захват видео рабочего стола Windows через API Desktop Duplication. corr - определяет корелляцию между двумя видео. ssim360 - оценка сходства видео, снятого в режиме 360°. hstack_vaapi, vstack_vaapi и xstack_vaapi - совмещение нескольких видео (каждое видео показывается в своей области экрана) c использованием для ускорения VAAPI. backgroundkey - превращает статичный фон в прозрачный. В фильтр cropdetect добавлен режим определения области кадрирования на основании векторов и краёв движения. Новые фильтры для звука: showcwt - преобразования звука в видео с визуализацией частоты спектра, используя непрерывное вейвлет-преобразование и морлет. adrc - применение ко входному звуковому потоку фильтра для изменения спектрального динамического диапазона. a3dscope - преобразование входного звука в пространственный 3D-звук. afdelaysrc - генерирует коэффициенты конечной импульсной характеристики (FIR). Новые bitstream-фильтры: Преобразование из media100 в mjpegb. Преобразование из DTS в PTS.