Релиз ОС Qubes 3, использующей виртуализацию для изоляции приложений

Йоанна Рутковская (Joanna Rutkowska) представила выпуск операционной системы Qubes 3.0, реализующей идею использования гипервизора для строгой изоляции приложений и компонентов ОС (каждый класс приложений и системные сервисы работают в отдельных виртуальных машинах). Для загрузки подготовлены установочный DVD (3.7 Гб) и экспериментальный Live USB. Для работы необходима система с 4 Гб ОЗУ и 64-разрядным CPU Intel или AMD, желательно с поддержкой технологий VT-x/AMD-v и VT-d/AMD IOMMU. Приложения в Qubes разделены на классы в зависимости от важности обрабатываемых данных и решаемых задач, каждый класс приложений, а также системные сервисы (сетевая подсистема, работа с хранилищем и т.п.), работают в отдельных виртуальных машинах. При этом указанные приложения бесшовно доступны в рамках одного рабочего стола и выделяются для наглядности разным цветом обрамления окна. Каждое окружение имеет доступ на чтение к базовой корневой ФС и локальному хранилищу, не пересекающемуся с хранилищами других окружений, для организации взаимодействия приложений используется специальный сервис. В качестве основы для формирования виртуальных окружений может применяться пакетная база Fedora и Debian, также сообществом поддерживаются шаблоны для Whonix, Ubuntu и Arch Linux. Пользовательская оболочка построена на основе KDE. Когда пользователь запускает из меню KDE приложение, это приложение стартует в определенной виртуальной машине. Содержание виртуальных окружений определяется набором шаблонов. В каждом виртуальном окружении приложения запускается отдельный X-сервер, упрощённый оконный менеджер и видеодрайвер-заглушка, транслирующий вывод в управляющее окружение в композитном режиме. Особенности нового выпуска: Уход от привязки к Xen в пользу использования универсальной прослойки HAL (Hypervisor Abstraction Layer), использующей libvirt для абстрагирования от типа используемого гипервизора. Из гипервизоров официально пока поддерживается только Xen, но нет никаких преград для портирования под другие системы виртуализации. Обновление Xen c версии 4.1 до выпуска 4.4 со стеком libxl, что позволило расширить поддержку оборудования и увеличить производительность (вместо vchan задействована штатная библиотека libvchan); Представлены официально поддерживаемый шаблон окружения для Debian GNU/Linux 7 и 8; Интегрирован шаблон на базе дистрибутива Whonix, который можно использовать в качестве альтернативы TorVM для предоставления гарантированной анонимности при выходе в сеть; Новая реализация механизма Qrexec, который позволяет выполнять команды в контексте заданных виртуальных окружений, например, когда пользователь запускает из меню KDE приложение, это приложение стартует в определенной виртуальной машине. В новом Qrexec значительно увеличена производительность за счёт реализации возможности прямого соединения виртуальных машин и применения буферов большего размера; Улучшенная система сборки, в которой появилась поддержка применения плагинов, специфичных для определённых дистрибутивов, и шаблоны сборки, основанные на DispVM; Увеличение качества кодовой базы за счёт внедрения системы автоматизированного тестирования. В октябре планируется начать тестирование следующей версии Qubes 3.1, в которой появится поддержка UEFI, будет стабилизирован образ Live USB и воплотится в жизнь концепция предконфигурированных стеков, предоставляющих готовые настройки для использования Whonix/Tor, Split GPG или изолированной USB VM, включение котрых в настоящее время требует ручной настройки.