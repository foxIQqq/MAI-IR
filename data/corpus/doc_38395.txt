Релиз системы динамической отладки SystemTap 2.4

Представлен релиз системы динамической трассировки SystemTap 2.4, предоставляющий для платформы Linux средства похожие на технологию DTrace. SystemTap позволяет организовать доскональное наблюдение за работающей Linux системой, производить сбор статистики о работе приложений, профилирование и контроль системных вызовов. Управление производится через интерфейс командной строки и специальный Си-подобный язык сценариев. Система протестирована с ядрами Linux начиная с версии 2.6.9 и заканчивая 3.11.6. В развитии проекта участвуют такие компании как Red Hat, IBM, Intel, Hitachi и Oracle. В каталоге примеров представлено более 100 скриптов на все случаи жизни, подходящие для слежения за распределением памяти, вводом/выводом, дисковыми операциями, сетевым трафиком (например, анализ работы NFS), работой планировщика задач, обработкой прерываний, использованием системных буферов, установкой блокировок, выполнением системных вызовов, обработкой сигналов и т.п. В новом выпуске добавлена поддержка контрольных вызовов для отслеживания работы виртуальных машин, что позволяет осуществлять отладку в виртуальных окружениях из хост-системы с использованием libvirt. Например: "stap -ve 'probe timer.s(1) { printf("hello!\\n") }' --remote=libvirt://MyVirtualMachine". Увеличена информативность сообщений об ошибках, исключён вывод дублирующихся ошибок. Добавлена поддержка отладочных секций ".gnu_debugdata". Добавлены новые примеры использования SystemTap: strace.stp (симулятор strace), semop-watch.st (отслеживание работы системных вызовов semop/semtimedop), futexes2.stp (отслеживание futex), last_100_frees.stp (вывод последних 100 вызовов libc-функции free).