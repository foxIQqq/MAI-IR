Доступен проприетарный драйвер NVIDIA 364.12 с поддержкой Wayland, Mir, KMS и Vulkan

Компания NVIDIA представила бета-выпуск проприетарного драйвера NVIDIA 364.12. Драйвер доступен для Linux (ARM, x86, x86_64), FreeBSD (x86, x86_64) и Solaris (x86_64). Новая ветка примечательная предоставлением официальной поддержки Wayland и Mir. Помимо реализации недостающих EGL-расширений, необходимых для работы Wayland и Mir, в поставку включена новая библиотека libnvidia-egl-wayland.so для совместного использования EGL-буферов между композитными менеджерами Wayland, поддерживающими EGLDevice, EGLOutput и EGLstreams, и Wayland-приложениями. Также представлена начальная реализация DRM-модуля nvidia-drm.ko, предоставляющего средства для управления видеорежимами при помощи API KMS и поддержки технологии PRIME, позволяющей организовать совместное обращение разных драйверов к общему буферу, что необходимо для работы горячего переключения вывода между разными видеокартами. Кроме того, в новый выпуск включена поддержка API Vulkan 1.0 и по умолчанию предложена открытая GLX-библиотека GLVND (OpenGL Vendor-Neutral Driver), ознаменовавшая переход на новую инфраструктуру GLX- и OpenGL-драйверов NVIDIA. Библиотека GLVND (libglvnd) представляет собой программный диспетчер, осуществляющий перенаправление команд от 3D-приложения к той или иной реализации OpenGL, давая возможность сосуществовать нескольким видео-драйверам, в том числе драйверам Mesa и NVIDIA. Кроме Wayland, Mir, GLVND и Vulkan, в новом выпуске можно отметить следующие изменения: Поддержка EGL-расширений EGL_EXT_platform_wayland и EGL_WL_bind_wayland_display, необходимых для работы Wayland-приложений и композитных менеджеров с драйвером NVIDIA. Также добавлены EGL-расширения EGL_EXT_device_drm, EGL_EXT_output_drm и EGL_EXT_stream_consumer_egloutput, используемые композитными менеджерами Mir и Wayland при выводе информации через EGLDevice, EGLOutput и EGLstreams. С 8 до 11 бит увеличена точность представления цветовых карт для X-ов на системах с GeForce GPU. На Quadro GPU уже используются 11-битные карты; ; Добавлено новое свойство RandR CscMatrix, определяющее матрицу 3x4 для преобразования цветового пространства; Переработан механизм регистрации драйвера для доступа к DRM-подсистеме ядра Linux, необходимой для обеспечения поддержки PRIME; Улучшена интерактивность приложений, использующих аппаратный курсор при активном G-SYNC; Решены проблемы с некорректной отрисовкой при исполльзовании пиксельных буферов с EGL-устройством; Добавлена поддержка GPU GeForce 920MX и GeForce 930MX Дополнение: Представители NVIDIA опубликовали в списке рассылки разработчиков Wayland патчи для обеспечения работы композитного сервера Weston поверх драйвера NVIDIA.