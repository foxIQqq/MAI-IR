Второй предварительный выпуск мобильной платформы Android 11

Компания Google представила вторую тестовую версию открытой мобильной платформы Android 11. Релиз Android 11 ожидается в третьем квартале 2020 года. Для оценки новых возможностей платформы предложена программа предварительного тестирования. Сборки прошивки подготовлены для устройств Pixel 2 / 2 XL, Pixel 3 / 3 XL, Pixel 3a / 3a XL и Pixel 4 / 4 XL. Для установивших первый тестовый выпуск предоставлено OTA-обновление. Основные изменения по сравнению с первым тестовым выпуском Android 11: Добавлен 5G state API, дающий возможность приложению быстро определить подключение через 5G в режимах New Radio или Non-Standalone. Для устройств со сгибающимися складными экранами добавлен API для получения информации от датчика угла раскрытия половинок экрана. При помощи нового API приложения могут определять точный угол раскрытия и адаптировать вывод с его учётом. API для проверки звонков расширен возможностями для выявления автообзвонов. Для приложений фильтрующих звонки реализована поддержка проверки статуса входящего звонка через STIR/SHAKEN на предмет фальсификации идентификатора звонящего, а также возможность возвращать причину блокировки вызова и менять содержимое системного экрана, отображаемого после завершения звонка для пометки вызова как спам или добавления в адресную книгу. Расширен API Neural Networks, предоставляющий приложениям возможности по задействованию средств аппаратного ускорения для систем машинного обучения. Добавлена поддержка функции активации Swish, позволяющей сократить время обучения нейронной сети и повысить точность выполнения определённых задач, например, ускорить работу с моделями компьютерного зрения на базе MobileNetV3. Добавлена операция Control, позволяющая создавать более продвинутые модели машинного обучения, поддерживающие ветвления и циклы. Реализован API Asynchronous Command Queue для сокращения задержек при запуске по цепочке мелких связанных моделей. Добавлены отдельные типы фоновых сервисов для камеры и микрофона, которые нужно будет запрашивать, если приложению необходимо получить доступ к камере и микрофону в момент неактивности. Добавлена поддержка миграции файлов со старой модели хранения в хранилище Scoped Storage, изолирующее файлы приложений на внешнем накопителе (например, на SD-карте). При использовании Scoped Storage данные приложения ограничиваются отдельным каталогом, а для получения доступа к общим коллекциям мультимедийных файлов требуется получение отдельных полномочий. Улучшено управление прокэшированными файлами. Добавлены новые API для синхронизации вывода элементов интерфейса приложений с появлением экранной клавиатуры для организации более плавной анимации вывода за счёт информирования приложения об изменениях на уровне отдельных кадров. Добавлен API для управления частотой обновления экрана, позволяющий для окон определённых игр и приложений установить другую частоту (например, по умолчанию Android использует частоту обновления 60Hz, но некоторые устройства позволяют увеличить её до 90Hz). Реализован режим бесшовного продолжения работы после установки OTA-обновления прошивки, требующего перезагрузки устройства. Новый режим позволяет приложениям сохранить доступ к шифрованному хранилищу без необходимости разблокировки устройства пользователем после перезагрузки, т.е. приложения сразу смогут продолжить выполнять свои функции и получать сообщения. Например, автоматическая установка OTA-обновления может быть запланирована на ночное время и проведена без участия пользователя. В эмуляторе Android добавлена поддержка симуляции работы фронтальной и задней камеры. Для задней камеры реализован Camera2 API HW Level 3 с поддержкой переработки YUV и захвата в RAW-режиме. Для передней камеры реализован уровень FULL с поддержкой логической камеры (одно логическое устройство на базе двух физических устройств c узким и широким углом обзора).