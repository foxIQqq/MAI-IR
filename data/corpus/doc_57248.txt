Выпуск Stratis 3.1, инструментария для управления локальными хранилищами

Опубликован выпуск проекта Stratis 3.1, развиваемого компанией Red Hat и сообществом Fedora для унификации и упрощения средств настройки и управления пулом из одного или нескольких локальных накопителей. Stratis предоставляет такие возможности, как динамическое выделение места в хранилище, снапшоты, обеспечение целостности и создание слоёв для кэширования. Поддержка Stratis интегрирована в дистрибутивы Fedora и RHEL начиная с выпусков Fedora 28 и RHEL 8.2. Код проекта распространяется под лицензией MPL 2.0. Система во многом повторяет по своим возможностям расширенные средства управления разделами ZFS и Btrfs, но реализована в виде прослойки (демон stratisd), работающей поверх подсистемы device-mapper ядра Linux (используются модули dm-thin, dm-cache, dm-thinpool, dm-raid и dm-integrity) и файловой системы XFS. В отличие от ZFS и Btrfs, компоненты Stratis работают только в пространстве пользователя и не требуют загрузки специфичных модулей ядра. Проект изначально преподносится как не требующий для администрирования квалификации эксперта по системам хранения. Для управления предоставляется D-Bus API и cli-утилита. Работа Stratis протестирована с блочными устройствами на базе LUKS (шифрованные разделы), mdraid, dm-multipath, iSCSI, логическими томами LVM, а также с различными НЖМД, SSD и NVMe-накопителями. При наличии в пуле одного диска Stratis позволяет использовать логические разделы с поддержкой снапшотов для отката изменений. При добавлении нескольких накопителей в пул появляется возможность логического объединения накопителей в непрерывную область. Такие возможности, как RAID, сжатие данных, дедупликация и организация отказоустойчивости пока не поддерживаются, но запланированы на будущее. В новой версии: Значительно улучшено управление компонентами, обеспечивающими динамическое выделение места в хранилище ("thin provisioning"). В cli-интерфейсе предоставлены команды для включения динамического распределения места на этапе создания пула и изменения параметров для уже работающих пулов. Для выбранных пулов также теперь можно изменять на лету ограничения файловой системы. В команды работы с пулами, файловыми системами и блочными устройствами добавлена подкоманда debug для включения отладочного режима. В фоновом процессе stratisd размер минимально поддерживаемой ФС увеличен до 512 MB. Для пулов MDV (metadata volume) включено монтирование в отдельном пространстве точек монтирования. Улучшена обработка событий udev, генерируемых при извлечении устройства. Повышена информативность сообщений в логах.