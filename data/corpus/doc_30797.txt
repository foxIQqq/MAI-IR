Файловая система ZFSv28 портирована в ветку FreeBSD 8-STABLE

В ветку FreeBSD 8-STABLE портирована 28 версия файловой системы ZFS. Пользователям стабильной ветки FreeBSD 8 стали доступны такие возможности ZFSv28, как: Дедупликация — автоматическое распознавание и объединение дубликатов данных. Если в нескольких файлах присутствуют аналогичные блоки данных, то они будут сохранены на физический носитель только один раз, что позволит существенно уменьшить потребление дискового пространства и увеличить производительность - вместо копирования блоков будет лишь изменена запись в соответствующей таблице. RAIDZ3 - вариант RAIDZ с хранением трех копий, отвечающих за обеспечение целостности структур, что позволяет значительно повысить надежность хранения по сравнению с RAID-режимами с двойным дублированием - RAID-6 и RAIDZ2. Например, RAIDZ3 обеспечивает целостность данных при одновременном выходе из стоя сразу трех дисков и позволяет повысить надежность хранения во время перестроения массива после замены диска; Поддержка утилиты "zfs diff", позволяющей просмотреть список изменений между двумя ZFS-снапшотами или между снапшотом и текущим состоянием ФС. Утилита отображает факты изменения, переименования, создания и удаления файлов и директорий; Поддержка команды zpool split, предназначенной для разбиения отзеркалированного zpool-раздела на несколько раздельных пулов. Данная возможность например позволяет упростить клонирование данных, когда к зеркалу добавляются несколько дисков, производится синхронизация и диски исключаются из пула, после чего диски содержат полную копию данных и могут быть использованы для загрузки аналогичных серверов. С использованием zpool split можно легко исключить диск из пула и затем создать на его основе новый пул; Поддержка ведения счетчика ссылок на снапшот, для более гибкого управления удалением неиспользуемых снапшотов. Например, увеличив счетчик пользователь может пометить, что снапшот используется и его нельзя удалять; Поддержка команды "zpool import -F", позволяющей перемотать поврежденный пул к состоянию, соответствующему более ранней группе транзакций, что позволяет с высокой вероятностью восстановить повреждённый пул из состояния FAULTED; Возможность импорта пула в режиме только для чтения; Оптимизация производительности и устранение ошибок.