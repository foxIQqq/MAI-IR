Выпуск децентрализованной видеовещательной платформы PeerTube 2.1

Опубликован выпуск PeerTube 2.1, децентрализованной платформы для организации видеохостинга и видеовещания. PeerTube предлагает независимую от отдельных поставщиков альтернативу YouTube, Dailymotion и Vimeo, использующую сеть распространения контента на базе P2P-коммуникаций и связывания между собой браузеров посетителей. Наработки проекта распространяются под лицензией AGPLv3. PeerTube базируется на применении BitTorrent-клиента WebTorrent, запускаемого в браузере и использующего технологию WebRTC для организации прямого P2P-канала связи между браузерами, и протокола ActivityPub, позволяющего объединить разрозненные серверы с видео в общую федеративную сеть, в которой посетители участвуют в доставке контента и имеют возможность подписки на каналы и получения уведомлений о новых видео. Предоставляемый проектом web-интерфейс построен с использованием фреймворка Angular. Федеративная сеть PeerTube образуется как содружество связанных между собой небольших серверов хостинга видео, на каждом из которых имеется свой администратор и могут быть приняты свои правила. Каждый сервер с видео выполняет роль BitTorrent-трекера, на котором размещены учётные записи пользователей данного сервера и их видео. Идентификатор пользователя формируются в форме "@имя_пользователя@домен_сервера". Передача данных при просмотре осуществляется непосредственно из браузеров других посетителей, просматривающих контент. Если видео никто не просматривает, отдача организуется сервером, на который изначально загружено видео (используется протокол WebSeed). Помимо распределения трафика между пользователями, просматривающими видео, PeerTube также позволяет узлам, запущенным авторами для первичного размещения видео, кэшировать видео других авторов, формируя распределённую сеть не только из клиентов, но и из серверов, а также обеспечивая отказоустойчивость. Для начала вещания через PeerTube пользователю достаточно загрузить на один из серверов видеоролик, описание и набор тегов. После этого ролик станет доступен во всей федеративной сети, а не только с сервера первичной загрузки. Для работы с PeerTube и участия в распространении контента достаточно обычного браузера и не требуется установка дополнительного ПО. Пользователи могут отслеживать активности в выбранных видеоканалах, подписавшись на интересующие каналы в федеративных социальных сетях (например, в Mastodon и Pleroma) или через RSS. Для распространения видео с использованием P2P-коммуникаций пользователь также может добавить на свой сайт специальный виджет со встроенным web-плеером. В настоящее время для размещения контента запущены более 300 серверов, поддерживаемых разными добровольцами и организациями. Если пользователя не устраивают правила размещения видео на определённом сервере PeerTube, он может подключиться к другому серверу или запустить свой собственный сервер. Для быстрого развёртывания сервера предоставляется преднастроенный образ в формате Docker (chocobozzz/peertube). В новом выпуске: Учтены пожелания пользователей по улучшению интерфейса. Добавлены анимационные эффекты при начале и остановке воспроизведения видео, чтобы была обратная связь о совершении действия. Переработаны пиктограммы и кнопки на странице просмотра видео. Для авторизированных пользователей при наведении мыши на эскиз видео теперь появляется пиктограмма с часами для добавления видео в список отложенного просмотра (Watch Later); Переработана страница "About" с презентацией проекта, на которой предложен быстрый доступ к документации и дополнительным приложениям. Существенно дополнена документация, предложено много новых руководств по настройке и диагностике проблем; Расширены возможности по обсуждению видеороликов. Предложена новая компоновка комментариев, в которой наглядно отделены исходные комментарии и ответы на них. Улучшено отображение аватаров и сделаны более читаемыми имена пользователей. Обеспечено выделение ответов, отправленных автором обсуждаемого видео. Реализовано два режима просмотра с сортировкой по времени отправки комментария и по числу ответов. Появилась возможность использования разметки Markdown в тексте. Добавлены опции для скрытия сообщений от определённого участника или узла; Добавлен новый приватный режим "видео для внутреннего использования", позволяющий опубликовать видео только для пользователей, присоединённых к текущему серверу, на который изначально загружено видео. Указанный режим можно применять для организации доступа к конфиденциальным видео только определённых групп пользователей, таких как друзья, члены семьи или коллеги по работе; Реализована автоматическая генерация гиперссылок на определённый момент в видео при упоминании времени (mm:ss или h:mm:ss) в описании или комментариях; Подготовлена JavaScript-библиотека с API управления встраиванием видео на страницы; Добавлена возможность генерации потокового видео HLS (HTTP Live Streaming), используя скрипт create-transcoding-job. В том числе имеется возможность отключить WebTorrent и использовать только HLS; Добавлена поддержка видео в формате m4v; Запущена инфраструктура для совместного перевода интерфейса на разные языки с использованием сервиса Weblate.