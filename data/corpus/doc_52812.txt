Проект Clear Linux смещает акцент при разработке на серверы и облачные системы

Разработчики дистрибутива Clear Linux сообщили об изменении стратегии разработки проекта. В качестве первичных направлений развития называются серверные и облачные системы, которым теперь будет уделяться основное внимание. Компоненты редакции для рабочих станций будут сопровождаться по остаточному принципу. Поставка пакетов с рабочими столами будет продолжена, но в данных пакетах будут предлагаться исходные варианты пользовательских окружений, без специфичных для Clear Linux надстроек и изменений. В том числе будет продолжено формирование пакетов с GNOME, но состав и настройки рабочего стола будут соответствовать эталонному виду, который предлагается по умолчанию проектом GNOME. Ранее предлагавшаяся собственная тема оформления, отдельный набор пиктограмм, предустанавливаемые сторонние дополнения к GNOME Shell (dash-to-dock, desktop-icons, impatience, user-theme) и изменённые настройки GNOME на первом этапе будут вынесены в отдельный пакет "desktop-assets-extras". На следующей неделе планируется обновить пакеты с рабочим столом до GNOME 3.36, которые будут соответствовать эталонному окружению GNOME, после чего пакет "desktop-assets-extras" будет переведён в разряд устаревших. Напомним, что дистрибутив Clear Linux развивается компанией Intel и обеспечивает строгую изоляцию приложений при помощи контейнеров, разделённых с использованием полноценной виртуализации. Базовая часть дистрибутива содержит только минимальный набор инструментов для запуска контейнеров и обновляется атомарно. Все приложения оформлены в виде пакетов Flatpak или наборов (Bundle), запускаемых в отдельных контейнерах. Кроме кастомизированных рабочих столов редакция для разработчиков была примечательна расширенной поддержкой оборудования, интеграцией отладочной системы на базе FUSE, добавлением нового инсталлятора и наличием каталога приложений, в котором были предложены наборы для развёртывания окружений для разработки с использованием различных языков и технологий. Особенности Clear Linux: Бинарная модель поставки дистрибутива. Обновление системы может производиться в двух режимах: наложение исправлений на работающую систему и полное обновление системы через установку нового образа в отдельный снапшот Btrfs и замену активного снапшота на новый; Агрегирование пакетов в наборы (bundle), образующие готовую функциональность, независимо от того, сколько программных компонентов их образуют. Bundle и образ системного окружения формируются на основе репозитория RPM-пакетов, но поставляются без разделения на пакеты. Внутри контейнеров выполняется специально оптимизированная копия Clear Linux, содержащая необходимые для запуска целевого приложения наборы (bundle); Эффективная система установки обновлений, встроенная в базовую часть дистрибутива и обеспечивающая ускоренную доставку обновлений с исправлением критических проблем и уязвимостей. Обновление в Clear Linux включает только непосредственно изменившиеся данные, поэтому типовые исправления уязвимостей и ошибок занимают всего несколько килобайт и устанавливаются почти мгновенно; Единая система версионирования - версия дистрибутива представляет состояние и версии всех входящих в него компонентов, что удобно для создания воспроизводимых конфигураций и отслеживания изменений компонентов дистрибутива на файловом уровне. Изменение/обновлений любой части системы всегда приводит к изменению общей версии всего дистрибутива (если в обычных дистрибутивах лишь увеличивается номер версии определённого пакета, то в Clear Linux увеличивается версия самого дистрибутива); Stateless-подход к определению конфигурации, подразумевающий, что различные классы настроек разделены (настройки OS, пользователя и системы хранятся раздельно), система не сохраняет своё состояние (stateless) и после установки не содержит каких-либо настроек в директории /etc, а генерирует настройки на лету на основе указанных при запуске шаблонов. Для сброса системных настроек в значения по умолчанию можно просто удалить /etc и /var; Использование полноценной виртуализации (KVM) для запуска контейнеров, что позволяет обеспечить высокий уровень безопасности. Время запуска контейнеров незначительно отстаёт от традиционных систем контейнерной изоляции (namespaces, cgroups) и приемлемо для запуска контейнеров приложений по требованию (время запуска виртуального окружения составляет около 200мс, а дополнительное потребление памяти 18-20 Мб на контейнер). Для уменьшения потребления памяти применяется механизм DAX (прямой доступ к ФС в обход страничного кэша без применения уровня блочных устройств), а для дедупликации одинаковых областей памяти применяется технология KSM (Kernel Shared Memory), что позволяет организовать совместное использование ресурсов хост-системы и подключить к разным гостевым системам общий шаблон системного окружения.