Релиз сетевого конфигуратора NetworkManager 1.2

После полутора лет разработки представлен новый стабильный релиз интерфейса для упрощения настройки параметров сети - NetworkManager 1.2. Одновременно опубликованы новые выпуски плагинов для поддержки VPN, OpenConnect, PPTP, OpenVPN и OpenSWAN, а также апплет с реализацией индикатора для панели GNOME. Ключевые новшества NetworkManager 1.2: Добавлен механизм для борьбы c отслеживанием перемещения пользователя. Основной проблемой является то, что MAC-адрес, привязанный к беспроводному адаптеру, отправляется в эфир даже если устройство не подключается к точке доступа. Все находящиеся в зоне досягаемости беспроводные сети видят отправляемый при сканировании сетей неизменный MAC-адрес, отождествлённый с одним и тем же устройством, что позволяет скрыто отслеживать перемещение пользователя. Суть представленного в NetworkManager метода противодействия отслеживанию в использовании случайно сгенерированного MAC-адреса при выполнении операции сканирования сетей. Перед подключением и при привязке к точке доступа MAC-адрес изменяется на постоянный, который указан в прошивке беспроводного адаптера, что позволяет избежать проблем с привязкой параметров клиента. В качестве опции предусмотрена возможность рандомизации постоянного MAC-адреса, но её использование сопряжено с риском возникновения проблем с фильтрами на точке доступа; Добавлена поддержка RFC-7217, определяющего методы противодействия отслеживанию хоста при переключении между разными сетями IPv6. Отслеживание может быть выполнено путём оценки неизменной части адреса, вычисляемой на основе MAC-адреса хоста (при подключении к другой IPv6-сети меняется только сетевая часть адреса, отождествлённая с конкретной сетью IPv6). RFC-7217 позволяет генерировать случайный IP-адрес для каждой сети IPv6, при этом сохраняя данный адрес при повторных подключениях к одной и той же сети; Значительно улучшен процесс сканирования беспроводных сетей, который стал более адаптивным и быстрым. Список точек доступа теперь ведётся на стороне wpa_supplicant и сильно не разрастается при перемещении устройства, а ранее используемые точки доступа определяются более точно. Для пользователей мобильных систем предусмотрены новые опции для включения режимов энергосбережения Wi-Fi, которые можно включать как для всей системы, так и для отдельных соединений; Добавлена поддержка сетевых интерфейсов tun, tap, macvlan и vxlan, а также IP-туннелей, которые дополнили ранее поддерживаемые устройства bond, team и bridge; Расширены возможности консольного клиента nmcli, в котором реализовано выделение цветом статуса соединения или устройства, обеспечена сортировка вывода, добавлена возможность указания произвольных свойств на этапе создания соединения (ранее свойства можно было указать только через редактирование существующего соединения), улучшены средства для настройки VPN, добавлены правила автодополнения ввода для bash. Изменён процесс определения первичного и вторичного устройства, что значительно упростило настройку многоуровневых конфигураций с несколькими сетевыми устройствами, создание сетевых мостов и агрегирование интерфейсов; Продолжена работа по обеспечению компактных сборок NetworkManager, если в прошлом выпуске реализована возможность выноса кода поддержки оборудования в отдельные модули (например, на серверах можно использовать вариант NetworkManager без Wi-Fi и Bluetooth), то в версии 1.2 проведена работа по избавлению от внешних зависимостей. Вместо dbus-glib для работы с шиной D-Bus задействована библиотека gio. Из числа зависимостей также исключены libnl-route-3 и avahi-autoipd, вместо которых для настройки адресов и управления хостами на системах с systemd теперь используются штатные средства systemd, такие как systemd-hostnamed. Обеспечена корректная работа NetworkManager в изолированных контейнерах LXC и Docker; Увеличена гибкость настройки VPN, снято ограничение на возможность использования только одного экземпляра VPN-плагина. В новой версии можно организовать работу нескольких одновременных VPN-соединений. В интерфейс командной строки nmcli добавлена возможность управления VPN и поддержка импорта/экспорта настроек VPN (команды "nmcli connection export" и "nmcli connection import"); Поддержка настройки режима Wake-on-LAN для адаптеров Ethernet; Возможность запуска обработчика LLDP и настройки LLDP через интерфейс командной строки; Улучшено управление файлом /etc/resolv.conf, который теперь можно менять во время работы (внутренний resolv.conf сохраняется в директории /run) или использовать символическую ссылку.