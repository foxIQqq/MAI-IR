Выпуск проприетарного драйвера NVIDIA 470.42.01 (бета)

Компания NVIDIA опубликовала выпуск новой ветки проприетарного драйвера NVIDIA 470.42.01, которая пока находится на стадии бета-тестирования. Драйвер доступен для Linux (ARM, x86_64), FreeBSD (x86_64) и Solaris (x86_64). Основные новшества: Добавлена начальная поддержка аппаратного ускорения OpenGL и Vulkan для приложений X11, выполняемых в Wayland-окружениях при помощи DDX-компонента Xwayland. Судя про проведённым тестам, при использовании ветки драйвера NVIDIA 470 производительность OpenGL и Vulkan в X-приложениях, запущенных при помощи XWayland, почти не отличается от запуска под управлением обычного X-сервера. Реализована возможность использования технологии NVIDIA NGX в Wine и пакете Proton, развиваемом компанией Valve для запуска Windows-игр в Linux. В том числе в Wine и Proton теперь можно запускать игры, поддерживающие технологию DLSS, позволяющую использовать Tensor-ядра видеокарт NVIDIA для реалистичного масштабирования изображений с использованием методов машинного обучения для увеличения разрешения без потери качества. Для использования функциональности NGX в Windows-приложениях, запускаемых при помощи Wine, в состав включена библиотека nvngx.dll. На стороне Wine и стабильных выпусков Proton поддержка NGX пока не реализована, но в ветку Proton Experimental уже начато включение изменений для поддержки данной функциональности. Добавлена поддержка новых GPU: GeForce RTX 3070 Ti, GeForce RTX 3080 Ti, A100-PG506-207, A100-PG506-217, CMP 50HX. Сняты ограничения на число одновременно работающих контекстов OpenGL, которые теперь ограничены только размером имеющейся памяти. Добавлена поддержка технологии PRIME для выноса операций отрисовки на другие GPU (PRIME Display Offload) в конфигурациях, в которых исходный и целевой GPU обрабатываются драйвером NVIDIA, а также когда исходный GPU обрабатывается драйвером AMDGPU. Добавлена поддержка новых Vulkan-расширений: VK_EXT_global_priority (VK_QUEUE_GLOBAL_PRIORITY_REALTIME_EXT, позволяет использовать асинхронное перепроецирование в SteamVR), VK_EXT_global_priority_query, VK_EXT_provoking_vertex, VK_EXT_extended_dynamic_state2, VK_EXT_color_write_enable, VK_EXT_vertex_input_dynamic_state, VK_EXT_ycbcr_2plane_444_formats, VK_NV_inherited_viewport_scissor. Для использования глобальных свойств Vulkan, отличных от VK_QUEUE_GLOBAL_PRIORITY_MEDIUM_EXT, теперь требуется наличие root-доступа или привилегий CAP_SYS_NICE. Добавлен новый модуль ядра nvidia-peermem.ko, позволяющий использовать RDMA для прямого доступа сторонних устройств, таких как Mellanox InfiniBand HCA (Host Channel Adapters), к памяти GPU NVIDIA без копирования данных в системную память. По умолчанию включена инициализация SLI при использовании GPU с разным объёмом видеопамяти. В nvidia-settings и NV-CONTROL по умолчанию предоставлены инструменты для управления кулером для плат, поддерживающих программное управление кулером. В состав включена прошивка gsp.bin, которая используется для выноса инициализации и управления GPU на сторону чипа GPU System Processor (GSP).