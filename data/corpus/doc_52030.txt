Кандидат в релизы Wine 5.0 и выпуск пакета для запуска Windows-игр Proton 4.11-10

Началось тестирование первого кандидата в релизы Wine 5.0, открытой реализации Win32 API. Кодовая база переведена на стадию заморозки перед релизом, который ожидается в конце декабря или в начале января. По сравнению с выпуском Wine 4.21 закрыто 37 отчётов об ошибках и внесено 475 изменений. Наиболее важные изменения: Браузерный движок Wine Gecko, который используется в библиотеке MSHTML, обновлён до выпуска 2.47.1. Переработан код загрузки движка Gecko и добавлена возможность его запуска из общей, не специфичной для Wine, установки; Таблицы Unicode обновлены до версии 12.1.0. В ntdll переделаны функции для преобразования Unicode; Добавлена начальная версия библиотеки MSADO (ActiveX Data Objects) с интерфейсом для доступа и манипуляции данными через провайдера OLE DB, например, для подключения программ к SQL-серверу; В утилите WUSA (Windows Update Standalone) добавлена поддержка установки обновлений; Продолжена работа по переносу кода из kernel32 в kernelbase и реструктуризации данных библиотек. Например, перенесены Get/SetLocaleInfoW, GetStringType, LCMapString, CompareString, GeoID, FindFirst/NextFile, а также функции работы с часовыми поясами. Код для инициализации ядра частично перенесён в ntdll; В bcrypt добавлена поддержка заверения хэшей цифровыми подписями на базе ключей ECDSA; В VBScript добавлено много новых функций, включая ScriptTypeInfo_* и ScriptTypeComp_Bind*; Закрыты отчёты об ошибках, связанные с работой игр и приложений: Microsoft Document Explorer 2008, wintetris 1.01, Midtown Madness 2, FIFA Online 3, FXCM Trading Station II, Symenu 4.11, DM Genie 2.x, VSDC Video Editor, Costume Quest 2, Geometry Wars 3, Chime, DxO Photolab 2, Football Manager 2017, IP Camera Viewer 4.x, Beat Hazard 2, Visual C++ Express 2005. Кроме того, компания Valve опубликовала новый выпуск проекта Proton 4.11-10, который основан на наработках проекта Wine и нацелен на обеспечение запуска в Linux игровых приложений, созданных для Windows и представленных в каталоге Steam. Наработки проекта распространяются под лицензией BSD. Proton позволяет напрямую запускать в Linux-клиенте Steam игровые приложения, поставляемые только для Windows. Пакет включает в себя реализацию DirectX 9 (на базе D9VK), DirectX 10/11 (на базе DXVK) и DirectX 12 (на базе vkd3d), работающие через трансляцию вызовов DirectX в API Vulkan, предоставляет улучшенную поддержку игровых контроллеров и возможность использования полноэкранного режима независимо от поддерживаемых в играх разрешений экрана. В новой версии Proton: Обеспечена возможность запуска игр Halo: The Master Chief Collection (для запуска требуется бета-выпуск клиента Steam и выпуск библиотеки GnuTLS меньше 3.5.4). Некоторые игровые режимы отсутствуют из-за недоступности поддержки EasyAntiCheat; Существенно улучшены обработчики событий от мыши, что положительно отразилось на поведении мыши в играх Fallout 4, Furi и Metal Gear Solid V; Добавлен новый режим целочисленного масштабирования, обеспечивающий повышение чёткости пикселей при увеличении масштаба. Режим включается запуском с переменной окружения WINE_FULLSCREEN_INTEGER_SCALING=1; Решено несколько проблем с раскладками игровых контроллеров. Изменения позволили улучить работу игр Telltale с контроллерами Xbox, а также игр Cuphead и ICEY с контроллерами PlayStation 4, подключёнными через Bluetooth; На геймпадах улучшена обработка эффекта обратной связи в ответ на прилагаемые усилия, особенно при использовании контроллеров рулевого колеса; Решены проблемы с зависанием игры Metal Gear Solid V при запуске; Устранена регрессия в производительности при использовании игровых контроллеров Xbox; При игре в Trine 4 снято ограничение на частоту кадров в 30 FPS; Устранены крахи при игре в IL-2 Sturmovik; Обновлены версии сторонних компонентов: D9VK обновлён до версии 0.40-rc-p, а FAudio до 19.12. Внесены исправления в DXVK.