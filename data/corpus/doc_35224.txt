Выпущен патч для исправления ошибки в ext4, которая могла привести к повреждению ФС

После дополнительного разбора полетов нашумевшей ошибки в файловой системе Ext4 удалось найти настоящую причину возникновения данной проблемы и исправить именно её. Ошибка проявлялась только при монтировании файловой системы с нестандартными опциями (должны быть включены опции journal_async_commit и/или journal_checksum) в ситуации когда файловая система не была корректно размонтирована. Тем не менее, настоящая причина возникновения данной ошибки была связана с тем, что журналирование битовых карт инодов не работало корректно. В обычной ситуации это могло как максимум привести лишь к небольшому повреждению файловой системы, видимым проявлением которой является в основном то что fsck на 5-м проходе выдает сообщение, касающееся "inode allocation bitmap" после некорректного выключения системы под тяжелой нагрузкой. Однако при активации опций "journal_checksum" и/или "journal_async_commit" проблема усугублялась и приводила к заметному для пользователя разрушению файловой системы. Патч с исправлением причины данной проблемы уже принят в git-репозиторий Торвальдса.