Microsoft обеспечит официальную поддержку платформы виртуализации Hyper-V во FreeBSD

Компания Microsoft объявила на конференции BSDCan 2012 об обеспечении полноценной поддержки запуска гостевых окружений с ОС FreeBSD под управлением системы виртуализации Windows Server Hyper-V. Все необходимые для работы FreeBSD в режиме паравиртуализации драйверы и сопутствующие исходные тексты планируется опубликовать в начале лета под лицензией BSD. Изначально будет поддерживаться запуск FreeBSD 8.2 и 8.3 на платформе виртуализации, работающей под управлением Windows Server 2008 R2. Тем не менее, открытый характер связанного с работой гостевых систем кода, позволит легко адаптировать FreeBSD 9 для работы с Hyper-V. Примечательно, что Hyper-V драйверы для FreeBSD разработаны Microsoft в сотрудничестве с компаниями NetApp и Citrix. Также Microsoft заявила о намерении наладить более тесное сотрудничество с представителями сообщества разработчиков FreeBSD, примерно в том же виде, как компания взаимодействует с разработчиками ядра Linux. Напомним, что аналогичный код для поддержки работы Linux в роли гостевой системы Hyper-V был открыт компанией Microsoft в 2009 году под лицензией GPLv2 и позднее был включен в состав staging-дерева ядра Linux 2.6.32. Как и в случае с Linux, наработки по поддержке Hyper-V планируется включить в основное дерево исходных текстов FreeBSD. В настоящее время запуск FreeBSD в режиме паравиртуализации в стандартной поставке поддерживается для Xen. Портирован набор паравиртуальных драйверов virtio, которые также могут использоваться совместно с KVM и VirtualBox для ускорения взаимодействия с устройствами ввода/вывода, блочными устройствами, PCI-картами и сетевыми адаптерами. При запуске гостевой системы в режиме полной виртуализации (HVM) без использования паравиртуальных драйверов, наблюдается значительная потеря производительности из-за необходимости эмуляции аппаратного обеспечения. Для VirtualBox дополнительно подготовлен порт virtualbox-ose-additions. Для VMWare доступны порты vmware-guestd и vmware-tools. В плане использования FreeBSD в качестве хост-платформы виртуализации большие надежды возлагаются на развиваемый компанией NetApp проект BSD Hypervisor (BHyVe), который хоть и медленно, но развивается. Также продолжается работа по обеспечению полноценной поддержки FreeBSD в качестве хост-платформы для VirtualBox.