Выпуск композитного сервера Weston 10.0

После полутора лет разработки опубликован стабильный релиз композитного сервера Weston 10.0, развивающего технологии, содействующие появлению полноценной поддержки протокола Wayland в Enlightenment, GNOME, KDE и других пользовательских окружениях. Разработка Weston нацелена на предоставление высококачественной кодовой базы и рабочих примеров для использования Wayland в десктоп-окружениях и встраиваемых решениях, таких как платформы для автомобильных информационно-развлекательных систем, смартфонов, телевизоров и прочих потребительских устройств. Код проекта распространяется под лицензией MIT. Смена значительного номера версии Weston обусловлена изменениями ABI, нарушающими совместимость. Изменения в новой ветке Weston: Добавлены компоненты для управления цветом, позволяющие преобразовывать цвета, выполнять гамма-коррекцию и работать с цветовыми профилями. Изменения пока ограничиваются внутренними подсистемами, видимые пользователю средства управления цветом появятся в следующем выпуске. В реализацию протокола linux-dmabuf-unstable-v1, обеспечивающего возможность совместного использования нескольких видеокарт при помощи технологии DMA-BUF, добавлен механизм "dma-buf feedback", предоставляющий композитному серверу дополнительные сведения об имеющихся GPU и позволяющий повысить эффективность обмена данными между основным и вторичным GPU. Например, поддержка "dma-buf feedback" расширяет применимость вывода без промежуточной буферизации (zero-copy scanout). Добавлена поддержка библиотеки libseat, предоставляющей функции для организации доступа к совместно используемым устройствам ввода и вывода, позволяющие обойтись без прав root (координацией доступа занимается отдельный фоновый процесс seatd). В будущих выпусках планируется заменить на libseat все компоненты для запуска Weston. Все примеры клиентских приложений переведены на использование расширения протокола xdg-shell, предоставляющего интерфейс для взаимодействия с поверхностями как с окнами, что позволяет передвигать поверхности по экрану, сворачивать, разворачивать, изменять размер и т.д. Добавлена возможность автоматического выполнения клиентского ПО после запуска, например, для организации автозапуска программ после входа. Объявлены устаревшими интерфейс wl_shell, бэкенд fbdev backend и утилита weston-launch (для запуска следует использовать seatd-launch или logind-launch). Повышены требования к зависимостям, для сборки теперь необходимо наличие libdrm 2.4.95, libwayland 1.18.0 и wayland-protocols 1.24. При сборке плагина удалённого доступа на базе PipeWire требуется libpipewire 0.3. Расширен тестовый набор.