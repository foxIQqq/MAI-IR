Леннарт Поттеринг предложил добавить в systemd режим мягкой перезагрузки

Леннарт Поттеринг рассказал о подготовке к добавлению в системный менеджер systemd режима мягкой перезагрузки ("systemctl soft-reboot"), который приводит к перезапуску только компонентов пространства пользователя, не трогая ядро Linux. Предполагается, что по сравнению с обычной перезагрузкой мягкая перезагрузка сократит время простоя во время обновления окружений, использующих готовые системные образы. Новый режим позволит завершить работу всех процессов в пространстве пользователя, после чего заменить образ корневой ФС на новую версию и запустить процесс инициализации системы, не перезагружая ядро. Кроме того, сохранение состояния работающего ядра при замене пользовательского окружения даст возможность реализовать обновление некоторых сервисов в live-режиме, организовав передачу файловых дескрипторов и слушающих сетевых сокетов для этих сервисов из старого окружения в новое. Таким образом, можно будет существенно сократить время замены одной версии системы на другую и обеспечить бесшовную передачу ресурсов наиболее важным сервисам, которые продолжат работать без остановки. Ускорение перезапуска достигается за счёт исключения таких относительно длительных стадий, как инициализация оборудования, работа загрузчика, запуск ядра, инициализация драйверов, загрузка прошивок и обработка initrd. Для обновления ядра в сочетании с мягкой перезагрузкой предлагается использовать механизм livepatch для внесения исправлений в работающее ядро Linux без полной перезагрузки и без остановки работы приложений.