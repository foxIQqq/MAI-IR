ARM начинает поддерживать свободный драйвер Panfrost

На конференции XDC2020 (X.Org Developers Conference) объявлено о присоединении компании ARM к процессу разработки проекта Panfrost, развивающего открытый драйвер для видеоядер Mali. Компания ARM выразила готовность предоставить разработчикам драйвера необходимую информацию и документацию для более полного понимания оборудования и фокусирования внимания на разработке, без траты времени на разгадывание загадок в процессе обратного инжиниринга бинарных драйверов. Ранее подобное произошло с подключением компании Qualcomm к работе над проектом Freedreno, развивающим свободный драйвер для GPU Qualcomm Adreno. Участие компании ARM поможет довести стабильность реализации до готовности к повсеместному использованию и обеспечить более полную поддержку специфичных для GPU Mali внутренних инструкций за счёт предоставления информации об архитектуре чипов из первых рук. Доступность внутренней документации также позволит добиться максимальной производительности, полного соответствия со спецификациями и охвата всех доступных возможностей GPU Midgard и Bifrost. Первые изменения, подготовленные на основе сведений, полученных от ARM, уже переданы в кодовую базу драйвера. В частности, выполнена работа по приведению к каноническому виду операций упаковки инструкций и полной переработке дизассемблера, для более точного отражения архитектуры набора команд GPU Bifrost и соответствия принятой в ARM терминологии. Драйвер Panfrost был основан в 2018 году Алисой Розенцвейг (Alyssa Rosenzweig), работающей в компании Collabora, и до сих пор развивался на основе обратного инжиниринга оригинальных драйверов от компании ARM. В настоящее время драйвер поддерживает работу с чипами на базе микроархитектур Midgard (Mali-T6xx, Mali-T7xx, Mali-T8xx) и Bifrost (Mali G3x, G5x, G7x). Для GPU Mali 400/450, применяемых во многих старых чипах на основе архитектуры ARM, отдельно развивается драйвер Lima.