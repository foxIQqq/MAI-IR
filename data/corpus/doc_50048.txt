Компания Intel опубликовала библиотеку для шумоподавления и фильтрации изображений

Компания Intel представила первый экспериментальный выпуск библиотеки oidn (Open Image Denoise), предлагающей коллекцию фильтров для устранения шумов на изображениях, подготовленных с использованием систем рендеринга на основе трассировки лучей. Библиотека развивается как часть более крупного проекта Intel Rendering Framework, нацеленного на разработку средств программной визуализации научных расчётов (SDVis (Software Defined Visualization), включающих библиотеку трассировки лучей Embree, систему фотореалистичной отрисовки GLuRay, платформу распределённой трассировки лучей OSPRay и систему программной растеризации OpenSWR. Код написан на языке С++ и опубликован под лицензией Apache 2.0. Целью библиотеки Open Image Denoise является предоставление высококачественных, эффективных и простых в использовании функций шумоподавления, которые можно применять для повышения качества результатов трассировки лучей. Предложенные фильтры позволяют на основании результата сокращённого цикла трассировки лучей получить итоговый уровень качества, сопоставимый с результатом более затратного и длительного процесса детализированного рендеринга. Предложенные алгоритмы обеспечивают отсеивание случайного шума, моделируемого методом Монте-Карло, свойственного стохастическим алгоритмам трассировки лучей, таким как рендеринг на основе трассировки пути. Для достижения высокого качества рендеринга в подобных алгоритмах требуется проведение трассировки очень большого числа лучей, иначе на результирующем изображении появляются заметные артефакты в виде случайного шума. Применение Open Image Denoise позволяет на несколько порядков сократить количество необходимых вычислений при расчёте каждого пикселя. В итоге можно значительно быстрее сгенерировать изначально зашумлённое изображения и довести его до приемлемого качества при помощи быстрых алгортимов подавления шумов. В зависимости от применяемого оборудования данный подход можно применять даже для интерактивной трассировки лучей c формированием изображений на лету. Предложенная реализация оптимизирована для различных классов 64-разрядных CPU Intel с поддержкой инструкций SSE4, AVX2 и AVX-512. В качестве минимального требования заявлена поддержка SSE4.2. Для вычислений используется MKL-DNN, вариант библиотеки MKL (Intel Math Kernel Library) с векторизированными и многопоточными математическими функциями, оптимизированными для решения задач машинного обучения.