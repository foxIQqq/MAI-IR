В Firefox появилась многопроцессная обработка контента и Quantum Compositor

В ночных сборках Firefox, которые лягут в основу выпуска Firefox 52, реализована возможность обработки контента в разных процессах и началась интеграция наработок из проекта Quantum, в котором производится работа по переносу в движок Gecko возможностей, изначально развиваемых для движка Servo. Если ранее при включении многопроцессного режима осуществлялось разделение на два процесса - один для обработки содержимого вкладок и один для формирования интерфейса, то в ночных сборках появилась возможность запуска нескольких процессов для обработки контента (число запускаемых процессов для обработки контента задаётся через переменную dom.ipc.processCount в about:config). Подобный подход позволяет обеспечить дополнительную изоляцию обработчиков, повысить надёжность (крах одной вкладки не приведёт к закрытию всех остальных вкладок), повысить эффективность использования ресурсов многоядерных процессоров (разнесение нагрузки на все ядра), уменьшить фрагментацию памяти при длительной работе браузера. В состав ночных сборок также приняты изменения, подготовленные проектом Quantum Compositor (e10s-gpu), в рамках которого в отдельный процесс дополнительно вынесен код композитинга и интерфейса для взаимодействия с GPU, что позволит защитить браузер от проблем, возникающих из-за графических драйверов и сбоев в графическом API. Quantum Compositor по умолчанию пока включен (layers.gpu-process.dev.enabled в about:config) только на платформе Windows при наличии Direct3D 11. В случае сбоя в D3D11, процесс композитинга автоматически перезапускается без негативного влияния на работу остальных частей браузера.