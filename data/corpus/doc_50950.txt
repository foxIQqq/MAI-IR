Canonical пересмотрела планы по прекращению поддержки архитектуры i386 в Ubuntu

Компания Canonical опубликовала заявление о пересмотре планов, связанных с прекращением поддержки 32-разрядной архитектуры x86 в Ubuntu 19.10. После изучения замечаний, высказанных разработчиками Wine и игровых платформ, принято решение обеспечить сборку и поставку отдельного набора 32-разрядных пакетов в Ubuntu 19.10 и 20.04 LTS. Список поставляемых 32-разрядных пакетов будет подготовлен с учётом пожеланий сообщества и будет включать компоненты, необходимые для продолжения работы устаревших программ, остающихся только в 32-разрядном виде или требующих 32-разрядных библиотек. При этом если список окажется не полным и будут выявлены недостающие пакеты, то набор пакетов планируют дополнять и после релиза. Утверждается, что возникшие после объявления о прекращении поддержки архитектуры i386 дискуссии и замечания стали неожиданностью для разработчиков дистрибутива, так как вопрос о прекращении поддержки i386 обсуждается в сообществе и среди разработчиков ещё с 2014 года. У разработчиков Ubuntu сложилось впечатление, что в вопросе отказа от поддержки i386 достигнут консенсус и не ожидается подводных камней, но как оказалось некоторые моменты были упущены из виду, в том числе в ходе консультаций с Valve (примечание: вероятно, некоторые из обсуждающих не могли предположить, что будет решено не просто прекратить сборку пакетов i386, но и отказаться от формирования библиотек multiarch, необходимых для запуска 32-разрядных приложений в 64-разрядном окружении). В долгосрочной перспективе для обеспечения поддержки 32-разрядных приложений в выпусках после Ubuntu 20.04 планируется совместно с WINE, Ubuntu Studio и поставщиками игр выработать решение по использованию систем контейнерной изоляции для поставки 32-разрядных компонентов из LTS-ветки Ubuntu и организации запуска старых приложений. На базе Snaps и LXD можно будет подготовить необходимое 32-разрядное окружение и набор библиотек. Напомним, что в качестве причины прекращения поддержки архитектуры i386 упоминается невозможность сопровождения пакетов на уровне других поддерживаемых в Ubuntu архитектур, например из-за недоступности для 32-разрядных систем последних наработок в области повышения безопасности и защиты от фундаментальных уязвимостей типа Spectre. Поддержание пакетной базы для i386 требует больших ресурсов на разработку и контроль качества, которые не оправдывают себя из-за незначительной пользовательской базы (число систем i386 оценивается в 1% от общего числа установленных систем).