Релиз почтового сервера Postfix 2.10.0

После года разработки представлен релиз новой стабильной ветки почтового сервера Postfix - 2.10.0. Postfix является одним из редких проектов, сочетающих одновременно высокую безопасность, надёжность и производительность, чего удалось добиться благодаря продуманной архитектуре и достаточно жесткой политике оформления кода и аудита патчей. Одновременно с выходом новой ветки, объявлено о прекращении поддержки ветки Postfix 2.6, выпущенной весной 2009 года. Из особенностей новой ветки можно отметить: Разделение правил с ограничениями для релеев и блокирования спама. В дополнение к ранее присутствующим настройкам smtpd_{client, helo, sender,recipient}_restrictions добавлена директива smtpd_relay_restrictions, которая позволяет снизить вероятность появления открытого релея из-за ошибок при определении правил блокирования спама. По умолчанию задействованы настройки для полного сохранения обратной совместимости (smtpd_relay_restrictions = permit_mynetworks, reject_unauth_destination; для новых установок smtpd_relay_restrictions = permit_mynetworks, permit_sasl_authenticated, defer_unauth_destination); В postscreen, выступающем в роли легковесного межсетевого экрана, предназначенного для первичного блокирования соединений от рассылающих спам зомби-машин, и в smtpd добавлена поддержка балансировки нагрузки на несколько серверов с использованием HAproxy. В прошлой ветке в smtpd возможность балансировки могла быть организована при помощи команды XCLIENT в сочетании с nginx; Поддержка протоколов TLSv1.1 и TLSv1.2, реализованных в OpenSSL 1.0.1. Для обеспечения совместимости с некоторыми сервисами, например, Hotmail, предусмотрена опция для отключения использования TLSv1.1 и TLSv1.2; Использование настроек, позволяющих снизить энергопотребление при работе на ноутбуках. По умолчанию Postfix теперь использует UNIX-сокеты вместо FIFO, что позволяет избежать лишних обновлений состояния ФС (MTIME) на простаивающих почтовых системах; Переработанная команда postconf. Опция "-x" позволяет преобразовать переменную $name в значение параметра конфигуации, определённое в файлах main.cf и master.cf. Опция "-o name=value" даёт возможность переопределить параметр конфигурации main.cf; Добавлена поддержка проверочных таблиц (lookup table) "socketmap" в стиле Sendmail. Дополнительно можно отметить результаты автоматизированного опроса более чем двух миллионов почтовых серверов, проведённого сервисом SecuritySpace. В результате исследования были выявлены следующие показатели: на 44.23% (37.93%, в скобках данные за прошлый год) серверов используется Exim, на 23.36% (22.10%) - Postfix, на 12.25% (15.95%) - Microsoft Exchange, на 11.76% (14.47%) - Sendmail. При рассмотрении тенденций, последние несколько лет наблюдается устойчивое снижение доли Microsoft Exchange и Sendmail, которые были лидерами, вплоть до 2008 года. Место Exchange и Sendmail понемногу занимают Exim и Postfix.