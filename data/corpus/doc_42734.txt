Новая версия EFL 1.15 (Enlightenment Foundation Library)

Проект Enlightenment представил выпуск набора библиотек EFL 1.15 (Enlightenment Foundation Library), позволяющих создавать визуально привлекательные графические интерфейсы, отличающиеся компактностью, низким потреблением ресурсов и высокой производительностью. Несмотря на изначальное развитие в качестве базиса для окружения Enlightenment, компоненты EFL часто используются для построения интерфейсов потребительской электроники и мобильных устройств. Например, EFL является составной частью мобильной платформы Tizen, используются в бытовой технике Electrolux, телефонах Samsung, а также в продуктах компаний ProFUSION, Free.fr и Calaos. Кроме библиотек EFL выпущен набор виджетов Elementary 1.15, а также пакеты Emotion Generic Players 1.15 и Evas Generic Loaders 1.15. Emotion Generic Players включает реализации базовых компонентов для проигрывания медиаконтента. Evas Generic Loaders представляет собой коллекцию модулей, позволяющих организовать загрузку форматов svg, xcf, pdf, ps, ppt, doc, docx, xls, avi, mkv, wmv и т.д. Модули из состава Emotion Generic Players и Evas Generic Loaders выполнены в форме обособленных процессов, взаимодействующих с базовой программой через разделяемую память и неименованные каналы, что позволяет обеспечить продолжение работы программы на базе EFL, даже в случае краха обработчика медиаконтента. Ключевые новшества: В реализации объектной модели Eo проведена чистка процесса создания объектов (конструктора и финализатора) и улучшена обработка ошибок. В eo_constructor() обеспечен возврат кода состояния, что позволило избавиться от отдельного вызова eo_error_set(); В Ecore DRM (модуль вывода через драйверы DRM) реализованы новые функции API для работы с устройствами вывода, увеличена скорость рендеринга и расширены средства задействования аппаратного ускорения при отрисовке; В Ecore Wayland (модуль вывода с использованием протокола Wayland) добавлена поддержка пятой версии протокола xdg_shell. Для работы теперь требуются библиотеки и серверные компоненты Wayland/Weston 1.8.0 и новее. В основанную на Wayland систему ввода добавлена поддержка автоматического приведения символов к верхнему регистру, добавлен режим ввода пароля и реализованы средства для многоязычного ввода. В системе Eolian, позволяющей генерировать код на основе классов описания метаданных в файлах ".eo", добавлены новые вызовы API, представлен новый формат и генератор документации. Ужесточены требования к грамматике файлов Eo, добавлены дополнительные проверки для выявления ошибок. Ведётся, но ещё не завершена, работа по созданию инструмента для проверки файлов Eo. В шаблонизатор Edje добавлен новый флаг "no_render", при установке которого связанный с ним компонент не будет виден на холсте, но сможет быть использован как маска или промежуточный источник. Реализована возможность переопределения частей clipper через изменение значения clip_to в блоке описания состояния. Используемые для Evas фильтры текста и изображений лучше интегрированы в EDC, что позволило использовать в темах оформления фильтры с анимацией, ссылающиеся на внешние Lua-файлы; Внесены многочисленные изменения для улучшения работы на платформе Windows. В порт для OS X добавлена поддержка воспроизведения звуков через ecore_audio; В наборе виджетов Elementary расширены методы управления фокусом, реализовано кэширование сериализированных элементов gengrid, добавлены средства автоматического скрытия окон, реализован drag&drop интерфейс для изображений и ссылок, представлены новые вызовы API. Состав EFL: Eina - библиотека с реализацией различных типов данных (массив, хэш, список, дерево) и полезных инструментов (работа с логами, оценка производительности, преобразование форматов и т.д.). Eet - библиотека для записи произвольного набора блоков данных в файл и их последующего частого чтения в произвольном порядке. Evas - система рендеринга для организации вывода на экран. Evas оперирует содержимым экрана как сценой, на которой размещаются определённые объекты, состояние которых в последующем отслеживается. Подобный подход, абстрагированный от размещения экранных элементов, позволяет разрабатывать интерфейс пользователя с точки зрения дизайнера, а не программиста (в коде достаточно определить только логику и не думать о прорисовке и выводе на экран). Evas также абстрагирует метод вывода, что позволяет использовать один и тот же код в сочетании как с программным рендерингом, так и с OpenGL. При этом над сценой можно проделывать такие операции как масштабирование, вращение и 3D-трансформации. Evas обеспечивает замечательную производительность даже при использовании программных методов рендеринга, без задействования аппаратной акселерации вывода. Ecore - библиотека для организации цикла обработки событий, имеющая в своем арсенале набор модулей для упрощения связанных с обработкой событий задач, таких как работа с X, Evas, нитями, сетевыми соединениями и т.п. Embryo - библиотека для написания небольших компилируемых приложений для встраиваемых устройств. Edje - графическая библиотека, отделяющая внешний вид от кода (оформление задаётся в виде загружаемого из файла шаблона). По своей сути Edje занимает нишу где-то между HTML+CSS и Flash/PSD/SVG. При помощи данной библиотеки можно сформировать насыщенный пользовательский интерфейс, снабжённый анимированными визуальными эффектами и поддерживающий динамическое оформление (внешний вид можно полностью поменять просто сменив EDJ-шаблон и не трогая код, при этом, в отличие от визуальных тем, порядок расположения элементов может быть произвольно изменён). Efreet - библиотека, позволяющая использовать в приложениях некоторые спецификации Freedesktop.org по работе с пиктограммами, Desktop-файлами и меню. Eeze - библиотека для организации взаимодействия с внешними устройствами через udev, hal и другие механизмы. Expedite - инструментарий для измерения производительности, который может тестировать различные движки Evas, такие как X11, XRender, OpenGL, SDL и DirectFB. Методика тестирования максимально приближена к реальным условиям. Evil - реализация уровня совместимости для работы на платформе Windows. Eio - абстрактный интерфейс для доступа к файловой системе и реализации асинхронного ввода/вывода; Emotion - библиотека для интеграции в EFL-приложения поддержки проигрывания аудио и видео контента. Проигрывание видео может осуществляться с использованием Gstreamer, Xine или других внешних плагинов (например, VLC), при этом видео отображается как стандартный объект в Evas. Ethumb - библиотека для формирования эскизов изображений, соответствующих стандартам freedesktop.org. Ethumb реализован в виде сервиса dbus и клиентской библиотеки, взаимодействующей с данным сервисом. Elementary - набор виджетов с готовой реализацией разнообразных графических элементов (от кнопок и элементов управления, до календаря и модуля редактирования текста). Eldbus - надстройкой над DBus API, заменившая собой ранее доступный модуль E_Dbus. Поддержка E_dbus пока сохранена, но больше не будет обновляться; Ephysics - предоставляет средства для использования движка симуляции физических процессов Bullet Physics Engine в приложениях на базе EFL. Ephysics обеспечивает связку Bullet с библиотеками Ecore и Evas; Ecore Audio - API для работы со звуком. Elocation - библиотека для получения информации о географическом местоположении.