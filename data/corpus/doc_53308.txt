Медиаплеер MPV прекращает поддержку GNOME

В кодовую базу мультимедийного проигрывателя MPV внесено изменение, выполняющие проверку на запуск в окружении GNOME и завершающее работу программы с выводом ошибки о невозможности использования программы в GNOME. Позднее данное изменение было заменено на более мягкий вариант, ограничивающийся выводом предупреждения. До этого, начиная с выпуска 0.32, уже выводилось похожее предупреждение о наличии известных проблем, проявляющихся при запуске в GNOME на базе Wayland. Отмечается, что при запуске плеера в сеансе GNOME на базе Wayland проявляется множество проблем, таких как несвоевременная отрисовка кадров и возникновение случайных флуктуаций с синхронизацией vsync. Данные проблемы специфичны для GNOME, но воспринимаются многими пользователями не как проблемы GNOME, а как ошибки в Wayland или MPV. До того как разработчики GNOME не устранят имеющиеся недоработки пользователям рекомендуется переключиться на сеанс, работающий поверх сервера X.Org, или использовать другие композитные серверы Wayland. Из проблем с GNOME также упоминается отсутствие поддержки протокола xdg-decoration для декорирования окон на стороне сервера и протокола zwp_idle_inhibit_manager_v1, без которого в процессе воспроизведения видео возможно гашение экрана. Первую проблему можно обойти запуском mpv с опциями --gpu-context=x11egl или --gpu-context=x11, а вторую через запуск mpv со специфичным для GNOME обработчиком gnome-session-inhibit. По мнению разработчиков mpv указанные проблемы вызваны тем, что GNOME позиционируется не просто как рабочий стол, а как отдельная платформа, не особо заботящаяся о совместимости с другими окружениями и отказывающаяся добавлять поддержку простейших стандартных механизмов, таких как вышеотмеченные протоколы xdg-decoration и zwp_idle_inhibit_manager, которые могли бы упростить унификацию приложений для различных окружений рабочего стола. Вместо этого в GNOME пытаются навязать собственные альтернативные механизмы, требующие привязки к GTK, допускающие управление отрисовкой элементов окна только на стороне клиента (CSD) или требующие использования DBus для отключения хранителя экрана. В конечном счёте, разработчики mpv ограничились выводом предупреждения, вместо ошибки с преждевременным завершением работы, но решили прекратить поддержку GNOME и перестанут реагировать на сообщения о проблемах, проявляющихся на системах с данным рабочим столом.