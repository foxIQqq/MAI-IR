Проект Browsix развивает окружение для запуска Unix-программ в браузере

В рамках проекта Browsix развивается фреймворк для обеспечения работы обычных Unix-приложений в web-браузере. Особенностью разработки является то, что немодифицированные программы запускаются как процессы в специальном Unix-подобном окружении, транслирующем средства для работы с процессами, ФС, сигналами и сокетами в браузерное Web API. Исходные тексты проекта написаны на языке TypeScript и распространяются под лицензией MIT. Поддерживается запуск программ, написанных на C, C++, Go и Node.js. Например, успешно продемонстрировано выполнение в браузере LaTeX, GNU Make, HTTP-серверов на языке Go и shell-скриптов. Основу Browsix составляет ядро, написанное на TypeScript и реализующее базовые системные вызовы и возможности Unix-систем. Ядро обеспечивает запуск процессов, собранных с использованием подготовленных для разных языков программирования runtime-библиотек. Процессы выполняются параллельно, не блокируя работу со страницей. Выполнение процессов координируется встроенным планировщиком задач. Низкоуровневые примитивы Unix зеркалируются в существующие браузерные API, что позволяет огранизовать выполнение в изолированном браузерном окружении немодифицированных приложений, пересобранных в представление на JavaScript со специальным runtime. Для компиляции программ C/C++ применяется модифицированный Emscripten, а для Go - GopherJS. Управление работой программ производится по аналогии с процессами в Unix - вначале загружаются базовые компоненты Browsix, инициализируется дерево ФС и запускаются процессы. Пользователи могут подключиться к предоставляемому Browsix TCP-порту и создавать обработчики событий, таких как запись в стандартный выходной поток или завершение процесса. Реализация файловой системы основана на наработках проекта BrowserFS. Работа с процессами реализована на базе API Web Workers, через которой в том числе эмулируются системные вызовы fork, spawn, exec, и wait. Программам также предоставляются сигналы, обработчики сигналов, совместно используемая несколькими процессами файловая система, неименованные и именованные каналы (pipe), сокеты (можно создавать серверные и клиентские TCP-соединения). В качестве демонстрации возможностей Browsix подготовлено POSIX-подобное окружение командной строки, предлагающее shell и типовые утилиты, такие как cat, tee, echo, sha1sum и т.п.