Анонсирован предварительный выпуск платформы Android M

На восьмой ежегодной конференции Google I/O представлен предварительный выпуск следующей редакции открытой мобильной платформы Android - Android M Developer Preview. Релиз Android M, который возможно будет поставляться под номером Android 6, намечен на третий квартал 2015 года. До этого времени периодически будут выпускаться предварительные выпуски Developer Preview, предоставляющие средства для разработки приложений с учётом новых возможностей платформы, таких как дополнительные средства экономии энергии и расширенная модель ограничения доступа. В состав набора входят инструменты SDK, эмулятор и системные образы для устройств Nexus 5, 6, 9 и Player (Android TV). Ключевые особенности Android M Developer Preview: Средства для управления доступом работающих приложений к различным системным ресурсам. Изначально в платформе Android была реализована модель предоставления привилегий, при которой пользователь подтверждал доступ к расширенным возможностям во время установки приложения. Подобный метод оказался неэффективным в силу того, что многие пользователи подтверждали запрос на полномочия, не вникая в его суть, а разработчики приложений стали запрашивать всё больше полномочий (например, для хранителя экрана запрашивался доступ к сетевым функциям для показа рекламы). Новая система доступа позволяет уже запущенному приложению на лету запросить доступ к системным ресурсам, при возникновении необходимости в этих ресурсах. Пользователь может принять или отклонить запрос, а также сохранить своё решение для будущих аналогичных запросов от данного приложения. Таким образом пользователь явно видит, какие расширенные возможности запрашиваются и в каких ситуациях. Новая система также предоставляет своеобразный межсетевой экран для приложений, позволяющий контролировать права доступа программ из интерфейса настройки. При этом управлять доступом к расширенным возможностям можно для всех приложений, в том числе и тех, что не используют новый API запроса полномочий. Для упрощения запроса полномочий типовые права доступа могут определяться с использованием групп (например, группа CONTACTS объединяет права на чтение и запись в адресную книгу и профиль пользователя). На стадии установки и обновления запрос полномочий становится не обязателен, что позволяет реализовать такие возможности, как автообновление. Приложению предоставляются права, определённые в манифесте, но при условии, что программа заверена проверенной цифровой подписью разработчика. Пользователь может проконтролировать запрошенные права после установки и, при необходимости, ограничить доступ к каким-то ресурсам. Разработчики приложений должны предусмотреть возможность отключения пользователем отдельных полномочий и, в зависимости от выбора пользователя, ограничить функциональность программы. Реализован новый режим энергосбережения Doze, при котором после определённого периода неактивности пользователя устройство переводится в спящий режим, но с периодическим пробуждением на короткое время для того, чтобы дать приложениям возможность синхронизировать свои данные, а системе обработать ожидающие выполнения операции. Функциональность при временных пробуждениях в режиме Doze ограничена, например, недоступны сетевые возможности (за исключением высокоприоритетных операций), отключен вызов периодических заданий через AlarmManager, не выполняется сканирование беспроводных сетей, запрещён вызов JobScheduler. Перевод приложений в режим ожидания (App standby). Если приложение определённое время находится в неактивном состоянии, т.е. не выполняет сетевые запросы, не взаимодействует с пользователем, не осуществляет вывод и не выполняет фоновых работ, то система может перевести такое приложение в режим ожидания, позволяющий сэкономить энергию аккумулятора. Технология App links, упрощающая связывание приложений. Разработчик может определить в манифесте атрибут autoVerify, позволяющий ассоциировать приложение со своим web-контентом и автоматически использовать данное приложение как обработчик, без вывода дополнительных диалогов выбора приложения. Владельцы сайтов могут определить ассоциацию с приложениями через создание файла /.well-known/statements.json. Поддержка автоматического резервного копирования данных и настроек приложений. Резервные копии сохраняются в Google Drive и автоматически восстанавливаются, если пользователь сменил или обновил устройство. Возможность подключения внешних хранилищ, таких как SD-карты, по аналогии с внутренним хранилищем, применяя к ним те же методы шифрования и форматирования, как и для внутренних хранилищ. На подобные устройства можно переместить приватную информацию пользователя и данные приложений. Новый API для аутентификации пользователя по отпечаткам пальцев, который можно использовать на устройствах с сенсорами отпечатков. Поддержка стилусов с интерфейсом Bluetooth; Поддержка спецификации Hotspot 2.0 Release 1; Возможность вывода на экраны с качеством 4K; Поддержка протокола MIDI для взаимодействия со звуковыми устройствами; Новый вызов android.media.MediaSync для синхронизации аудио и видеопотоков; Представлен Now on tap, вариант сервиса Google Now, предлагающий информацию на основе контекста передаваемых пользователем сообщений. Например, пользователю написали приглашение посмотреть фильм и он может не покидая приложения попросить помощи у Google Now, который предложит более подробную информацию об упомянутом фильме и покажет, где можно его посмотреть. Android Pay - система платежей, симулирующая платёжную карту через NFC (Near Field Communications) и позволяющая оплачивать смартфоном покупки в магазинах или совершать online-платежи в приложениях; Предварительный выпуск среды разработки Android Studio 1.3, в который интегрирована поддержка новых возможностей Android M и реализована возможность редактирования и отладки кода на языках C/C++ и его использования в программах через Android NDK. C/C++ теперь можно бесшовно использовать наряду с Java, в том числе применяя средства рефакторинга и автодополнения кода. Новая библиотека с графическими элементами, реализующими новую концепцию дизайна платформы Android. Библиотека предлагает готовые ключевые элементы оформления, такие как плавающие кнопки, панели и области навигации, которые совместимы с API 7 и могут использоваться для придания существующим приложениям современного вида.