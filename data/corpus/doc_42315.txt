Статус интеграции проектов CRIU и Docker

В библиотеку libcontainer проекта Docker был интегрирован патч с поддержкой C/R-контейнеров Docker (Checkpoint/Restore) . Работа по интеграции была проведена сотрудником Google Saied Kazemi. Несмотря на добавление этого патча работа по интеграции CRIU и Docker не закончена, так как отсутствует опция в пользовательских утилитах Docker. Сама по себе возможность сохранять состояние контейнера несёт мало практической пользы, но это необходимый шаг для реализации живой миграции контейнеров Docker. Это станет возможным после интеграции Docker c проектом p.haul (Process Hauler). Напомним, что в рамках проекта CRIU (Checkpoint and Restore In Userspace) развивается набор средств для манипуляции snapshot-ами приложений в пространстве пользователя. Разработанный в рамках проекта инструментарий позволяет организовать создание контрольных точек, с заморозкой состояния запущенных приложений, и последующего восстановления работы с сохранённой позиции. Система позволяет сохранить состояние одного или группы процессов, а затем возобновить работу с сохранённой позиции, в том числе после перезагрузки системы или на другом сервере без разрыва уже установленных сетевых соединений. Из популярных приложений, для которых протестирована корректная заморозка, можно выделить MySQL, Apache httpd, MongoDB, nginx, GCC, make, tar, bz2, ssh/sshd, screen + bash + top, частично реализована поддержка sendmail, git и java. При использовании VNC-сервера tigervnc протестирована заморозка GUI-приложений LibreOffice, IceWM, GIMP, Inkscape, Blender, Mplayer, Eclipse, SuperTux. Поддерживается работа на системах с архитектурой x86_64 и ARM. Оценить возможности проекта можно на видео, на котором показана миграция LXC-контейнера c Doom внутри.