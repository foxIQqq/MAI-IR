OpenBMC, стек для создания BMC-прошивок, перешёл под крыло Linux Foundation

Проект OpenBMC, в рамках которого в 2015 году компания Facebook открыла свои наработки по созданию Linux-прошивок для контроллеров BMC (Board Management Controller), переведён под покровительство организации Linux Foundation и отныне будет развиваться как совместный проект. Кроме Facebook о своём участии в разработке заявили компании Google, IBM, Intel и Microsoft. BMC представляет собой устанавливаемый в серверах специализированный контроллер, имеющий свой CPU, память, хранилище и интерфейсы опроса датчиков, который предоставляет низкоуровневый интерфейс для мониторинга и управления серверным оборудованием. При помощи BMC независимо от работающей на сервере операционной системы можно отслеживать состояние датчиков, управлять питанием, прошивками и дисками, организовать удалённую загрузку по сети, обеспечить работу консоли удалённого доступа и т.п. В отличие от предоставляемых производителями оборудования проприетарных прошивок к BMC-контроллерам, OpenBMC позволяет полностью контролировать программную начинку BMC и самостоятельно формировать прошивки и обновления к ним. Для организации сборки Linux-образа для плат BMC используются наработки проекта Yocto, предоставляющего готовые компоненты для создания собственных дистрибутивов для встраиваемых продуктов на базе различных аппаратных архитектур. OpenBMC состоит из трёх базовых слоёв: Типовой набор пакетов и сценариев, которые можно использовать в различных типах BMC и на разных SoC. Например, в состав входят systemd, BusyBox, i2c-tools, lm-sensors, OpenSSH и Python; Набор драйверов и инструментов, специфичных для определённых SoC. Слой включает в себя загрузчик (u-boot) и ядро Linux, а также драйверы для интерфейсов i2c, USB, PWM и SPI. Из BMC SoC поддерживаются чипы Aspeed AST2400/AST2500. Компоненты, определяющие логику работы и конфигурацию образа прошивки для заданного типа BMC-контроллера. В том числе определяет какие пакеты должны быть включены в образ и включает инструменты для инициализации платы. Из доступной функциональности отмечается реализация REST API для управления, интерфейс IPMI, SOL (Serial Over LAN) с SSH, управление питанием, датчиками, индикаторами и кулерами, ведение лога событий, определение через Zeroconf, симулятор оборудования, инструменты для инвентаризации, Host Watchdog, средства обновления прошивки, поддержка POWER OCC (On Chip Controller). В разработке находится реализация IPMI 2.0 (полностью соответствующая требованиям DCMI), средства верификации загрузки, BMC RAS и web-интерфейс на базе HTML5 и JavaScript. В планах добавление KVM-коммутатора (удалённое управление), возможность проброса USB-устройств на внешние хосты, инструменты для мониторинга производительности, разграничение доступа нескольких пользователей, интеграция с OpenStack и улучшение эмулятора на базе QEMU.