Linux Foundation развивает новый гипервизор ACRN для встраиваемых устройств

Организация Linux Foundation представила проект по развитию нового гипервизора ACRN, рассчитанного на применение во встраиваемой технике и устройствах интернета вещей (IoT). Код гипервизора основан на предоставленных компанией Intel наработках по созданию легковесного гипервизора для встраиваемых устройств и распространяется под лицензией BSD. Гипервизор рассчитан на минимизацию накладных расходов, готовность для задач, работающих в режиме реального времени, и обеспечение высокой надёжности, пригодной для использования в критически важных системах. ACRN относится к гипервизорам первого типа (выполняется непосредственно поверх оборудования) и позволяет одновременно выполнять несколько гостевых систем, в качестве которых могут выступать Linux-дистрибутивы, RTOS, Android и другие ОС. Проект пытается занять нишу между гипервизорами, применяемыми в облачных системах и датацентрах, и гипервизорами для промышленных систем с жестким разделением ресурсов. Новый гипервизор может использоваться на устройствах с ограниченными ресурсами и состоит из всего 25 тысяч строк кода (для сравнения применяемые в облачных системах гипервизоры насчитывают около 150 тысяч строк кода). При этом ACRN гарантирует низкие задержки (low latency) и адекватную отзывчивость при взаимодействии с оборудованием. Поддерживается виртуализация ресурсов CPU, ввода/вывода, сетевой подсистемы, операций с графикой и звуком. Для совместного обращения к общим для всех VM ресурсам предоставляется набор медиаторов ввода/вывода. В качестве примера использования ACRN приводятся электронные блоки управления, приборные панели и автомобильные информационные системы, но гипервизор также хорошо подходит для потребительских IoT-устройств и других встраиваемых применений. Проект состоит из двух основных компонентов: гипервизора и связанной с ним модели устройств c богатым набором медиаторов ввода/вывода, осуществляющих организацию совместного доступа к устройствам между гостевыми системами. Управление гипервизором осуществляется из сервисной ОС, которая выполняет функции хост-системы и содержит компоненты для трансляции обращений других гостевых систем к оборудованию.