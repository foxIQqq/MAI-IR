Увидел свет Debian 7.0 "Wheezy". Обзор новшеств

После более чем двух лет разработки увидел свет релиз Debian GNU/Linux 7.0 (Wheezy), доступный для 13 официально поддерживаемых архитектур, среди которых: Intel IA-32/x86 (i386), 64-bit PC / Intel EM64T / x86-64 (amd64), Motorola/IBM PowerPC (powerpc), Sun/Oracle SPARC (sparc), MIPS (mips и mipsel), Intel Itanium (ia64), IBM S/390 (s390, s390x), ARM (armel, armhf). Две архитектуры, s390x и armhf, представлены впервые. Кроме сборок на базе ядра Linux, в число официально поддерживаемых архитектур входит порт на основе ядра FreeBSD - Debian GNU/kFreeBSD (kfreebsd-i386 и kfreebsd-amd64). Изначально планировалось добиться придания официального статуса порту Debian GNU/Hurd, но разработка не была доведена до необходимого уровня. Debian 7.0 совместим со спецификациями LSB 4.1, определяющими совместимость между приложениями и операционной системой. В репозитории представлено 37493 бинарных и 17500 исходных пакетов, что примерно на 30% больше, чем было представлено в Debian 6.0. По сравнению с Debian 6.0 добавлено 12800 новых бинарных пакетов, удалено 4125 устаревших пакетов, обновлено 20160 пакетов. Для загрузки доступны CD и DVD-образы, загрузить которые можно по FTP или через системы jigdo и BitTorrent. Полный установочный комплект занимает 69 CD, 10 DVD или 2 Blu-ray диска (плюс 46 CD и 8 DVD с исходными текстами пакетов). Отдельные CD-диски подготовлены для установки окружений GNOME, KDE 4 и LXDE + Xfce. Для желающих осуществить установку по сети создан netinst-образ (150 Мб) и диск в формате бизнес-карты (46Мб). Установочный образ, включающий в себя проприетарные прошивки, можно загрузить здесь. Для архитектур amd64 и i386 разработаны официальные LiveCD/LiveUSB, доступные в вариантах с GNOME, KDE и Xfce. Дополнительно подготовлен многоархитектурный DVD, сочетающий пакеты для платформы amd64 с дополнительными пакетами для архитектуры i386. Ключевые улучшения Debian 7.0: Системные изменения Переход на использование по умолчанию файловой системы EXT4; Обеспечена поддержка установки и загрузки дистрибутива на системах с UEFI. Технология UEFI Secure Boot пока не поддерживается; Опционально предоставлена возможность использования для инициализации и управления сервисами системного менеджера systemd (для перехода на systemd достаточно выполнить "apt-get install systemd"). По умолчанию по прежнему задействована система инициализации SysV init, доработанная в плане учёта зависимостей и параллельного запуска сервисов. Кроме того, предоставлена возможность использования системы инициализации upstart; Уменьшение времени загрузки за счет задействования переработанных скриптов инициализации rc-sysv и активации по умолчанию системы инициализации insserv, учитывающей при загрузке зависимости между init-скриптами и поддерживающей параллельную загрузку скриптов инициализации; Внедрение новой корневой директории "/run", в которую перенесено содержимое "/var/run", "/var/lock", "/dev/shm" и "/lib/init/rw" с целью решения проблемы с недоступностью /var/run на ранней стадии загрузки. Подробное обоснование целесообразности подобного шага можно прочитать здесь; Поддержка архитектур и платформ Обеспечена поддержка многоархитектурных установок (Multiarch), позволяющих разместить в одной системе исполняемые файлы и библиотеки, параллельно доступные для нескольких аппаратных архитектур, предоставив возможность установки в одну систему нескольких сборок одной программы для разных архитектур, при этом эти сборки программ могут сосуществовать между собой не мешая друг-другу. В частности, включены все необходимые библиотеки для запуска 32-разрядных программ и установки 32-разрядных пакетов штатными средствами в 64-разрядном окружении. Данная возможность позволит пользователям 64-разрядной сборки Debian получить полный доступ ко всем пакетам, доступным для архитектуры i386, в дополнение к пакетам в сборке для amd64. Например, для установки skype и flash можно использовать пакеты из репозитория для архитектуры i386. Необходимость установки 32-разрядного пакета определяется через добавление имени архитектуры после имени пакета, например, "sudo apt-get install skype:i386"; Официальная поддержка двух новых архитектур: s390x - 64-разрядный порт для систем IBM System z, нацеленный на замену порта s390; armhf - альтернативный порт ARMEL для процессоров ARMv7 с интегрированным сопроцессором (FPU Thumb-2 или VFP3D16) для вычислений с плавающей запятой (hard-float). В отличие от ранее поставляемого порта ARM EABI (armel), новый порт позволяет более полно задействовать возможности современных процессоров на базе архитектуры ARMv7 и обеспечить более высокую производительность за счёт задействования аппаратных возможностей CPU для работы с числами с плавающей запятой; Продолжено развитие порта Debian GNU/kFreeBSD, сочетающего в себе ядро FreeBSD с пользовательским окружением на базе glibc и GNU-утилит. Поддержка варианта дистрибутива на базе ядра FreeBSD предоставляет пользователям возможность использования таких специфичных для FreeBSD средств, как пакетные фильтры PF и IPFW2, изолированные окружения jail, сетевая подсистема NetGraph, возможность загрузки NDIS-драйверов без внешних патчей. В новой версии осуществлён переход на ядро FreeBSD 9.0, в качестве опции предусмотрена возможность использования ядра FreeBSD 8.3. Добавлена полноценная поддержка создания изолированных Jail-окружений и возможность шифрования дисковых разделов с использованием geli. В инсталлятор Debian GNU/kFreeBSD добавлена поддержка определения разделов LVM и установки на разделы с файловой системой ZFS, в том числе допустимо использование ZFS на корневом разделе. Переработаны средства управления пулом ZFS: добавлена поддержка пулов с несколькими физическими дисками, возможность использования нескольких ФС на одном ZFS-пуле, поддержка обычных ФС на ZFS-разделах (ZVOL), возможность задания произвольных имен для ZFS-пулов, файловых систем и разделов ZVOL. Реализация файловой системы обновлена до версии 28 с поддержкой автоматической дедупликации и RAID-Z; Безопасность При сборке пакетов для базовой поставки, а также для сетевых приложений из репозиториев, задействованы настройки GCC, обеспечивающие дополнительную защиту от переполнения стека, предсказуемого размещения данных в памяти и других видов атак; Из коробки обеспечена поддержка системы мандатного контроля доступа AppArmor, которая позволяет контролировать полномочия процессов, определяя списки файлов с соответствующими правами (на чтение, запись, отображение в память и запуск, установку блокировки на файл и т.п.) для каждого приложения. Также AppArmor позволяет на самом общем уровне контролировать доступ к сети (например, запретить использование ICMP) и управлять POSIX capabilities. Основное отличие AppArmor от SELinux состоит в том, что SELinux оперирует ассоциированными с объектом метками, а AppArmor определяет полномочия на основании файлового пути, что заметно упрощает процесс настройки. AppArmor не включен по умолчанию и требует дополнительной активации; Включение средств для развёртывания облачных систем на собственных локальных мощностях, полностью подконтрольных предприятию. Для упрощения развёртывания собственных облачных инфраструктур в состав дистрибутива включены пакеты, позволяющие с минимальными затратами установить и настроить облачные системы и инфраструктуры виртуализации на базе платформ OpenStack и XCP (Xen Cloud Platform). Обеспечена возможность использования Debian в облачных окружениях Amazon EC2, Windows Azure и Google Computer Engine; Включение средств для двухфакторной аутентификации с использованием криптографических токенов. Добавлены пакеты liboath0, yubiserver, oathtool, pam_oath с реализацией различных спецификаций OATH; Улучшения в инсталляторе: Добавлена возможность использования Btrfs для разделов /boot (GRUB 2 и LILO); Добавлена поддержка организации сетевого соединения через беспроводной канал связи с использованием протоколов WPA и WPA2. Добавлена поддержка протокола Spanning Tree Protocol (STP); Внесено большое число улучшений в работу сетевого конфигуратора netcfg. Добавлена поддержка аутентификации по публичным ключам; Полная поддержка IPv6 в процессе установки. Добавлена большая подборка дополнительных драйверов для беспроводных адаптеров, клавиатур и мышей с интерфейсом USB. Интегрирована поддержка экранного ридера Orca для обеспечения установки дистрибутива людьми с ограниченными возможностями, используя синтез речи для управления процессом инсталляции; Добавлены необходимые драйверы для установки дистрибутива в качестве гостевой системы, в том числе для запуска в окружении QEMU и Hyper-V. Улучшена работа инсталлятора на системах с небольшим размером ОЗУ. Добавлена поддержка установки на бездисковые устройства с использованием iSCSI и NBD (Network Block Devices). При установке с USB-накопителя предоставляется возможность выбора ISO-образа, при наличии на установочном носителе нескольких подобных образов; Управление пакетами и обновление версий программ: В штатные репозитории включены дополнительные кодеки: MP3 (через пакет lame), MPEG-4 ASP (xvidcore), H.264/MPEG-4 AVC (x264), AAC (vo-aacenc), Adaptive Multi-Rate Narrowband (opencore-amr) и Wideband (vo-amrwbenc). Таким образом отныне наиболее востребованные кодеки доступны в штатной поставке и не требуют подключения сторонних репозиториев; В состав основного пула пакетов добавлен репозиторий backports (squeeze-backports и squeeze-backports-sloppy), в рамках которого обеспечивается формирование пакетов со свежими версиями программ для уже выпущенных релизов дистрибутива Debian. Используя Backports пользователь имеет возможность, например, установить новую версию LibreOffice в Debian Wheezy без ущерба для стабильности системы и без необходимости установки библиотек из testing или unstable. При этом, пакеты с новой версией теперь поставляются бок о бок со штатными версиями пакетов, предлагаемых в дистрибутиве (для установки новых версий программ из бэкпортов по прежнему требуется добавление специального репозитория). В Backports содержится более 500 пакетов, среди которых новые версии ядра Linux, Iceweasel, Icecast, Apache, nginx, Samba, QEMU и т.д. Обновление версий предлагаемых для установки десктоп окружений: GNOME 3.4, KDE 4.8.4, Xfce 4.8, LXDE. По умолчанию на установочном диске поставляется GNOME; Для управления пакетами в GNOME осуществлён переход на использование PackageKit. В KDE задействован Apper; Обновление графического стека: X.Org 7.7, из ядра Linux 3.4 портированы подсистемы drm и agp, что позволило включить более современные графические драйверы intel, nouveau и radeon; Вместо мультимедиа пакета FFmpeg в дистрибутиве задействован форк проекта - libav; Переход на использование ядра Linux 3.2 (в Debian 6 использовалось ядро 2.6.32). В состав дистрибутива также включены некоторые драйверы, бэкпортированные из более новых выпусков ядра; Вместо офисного пакета OpenOffice.org теперь поставляется LibreOffice 3.5.4, а вместо KOffice - Calligra 2.4. Также в поставке доступны GNUmeric 1.10 и Abiword 2.9; Обновление интернет-приложений: Iceweasel 10 (Firefox), Icedove 10 (Thunderbird), Pidgin 2.10; Обновление мультимедийных программ: mplayer, mencoder, vlc и transcode, GIMP 2.8.2; Обновление серверных пакетов: Apache 2.2.22 (+ добавлены модули libapache2-mod-security, libapache2-mod-qos, libapache2-mod-log-slow), BIND 9.8, Courier 0.68, Dovecot 2.1, Exim 4.80, Postfix, 2.9, OpenSSH 6.0p1, Samba 3.6.6, Asterisk 1.8.13.1, OpenJDK 6b27 и 7u3, Xen 4.1.4 ; Обновление средств для разработчиков: GCC 4.7.2, Glibc 2.13, MySQL 5.5.30, PostgreSQL 9.1, Perl 5.14.2, PHP 5.4.4, Ruby 1.9, Python 2.7.3 и 3.2.3; Для упрощения создания распределённых вычислительных систем в состав добавлены пакеты с Condor, CCTools и DMTCP; В состав включены пакеты (linux-image-rt-amd64 и linux-image-rt-686-pae) с вариантом ядра Linux, собранным с патчами PREEMPT_RT для обеспечения работы в режиме реального времени; В состав включен FUSE-модуль для обеспечения монтирования разделов с файловой системой exFAT; Исключены из дистрибутива: uw-imapd, ipopd, drupal6, sun-java6, afbackup, php5-suhosin, upsd, opie, plone, xserver-xorg-video-nv, xserver-xorg-video-radeonhd, zabbix. Отдельного упоминания заслуживает прекращение поддержки Linux-Vserver и OpenVZ, вместо которых рекомендовано использовать KVM, LXC или Xen.