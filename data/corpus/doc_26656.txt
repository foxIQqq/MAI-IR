Компания Google перевела видеокодек VP8 в разряд свободных технологий

Компания Google анонсировала на конференции Google I/O перевод видеокодека VP8 в разряд полностью свободных и бесплатных технологий. Все связанные с проектом исходные тексты опубликованы на сайте webmproject.org в рамках лицензии BSD, кодек можно использовать в любых проектах, сбор роялти не производится. Одновременно, компания Google представила новый контейнер для упаковки мультимедиа информации - WebM, являющийся подмножеством контейнера Matroska. В WebM видеопоток упакован при помощи кодека VP8, а аудиоданные содержатся в свободном формате Vorbis. Примечательно, что тестовая поддержка контейнера WebM в комбинации с HTML5-тэгом "video" сразу запущена в сервисе YouTube. На сайте проекта отдельно отмечено, что контейнер WebM и кодеки VP8 и Vorbis не нарушают никаких сторонних патентов, несмотря на сложившееся мнение, что невозможно создать видеокодек без нарушения патентов MPEG-LA. Патч с реализацией поддержки WebM и VP8 опубликован для проекта ffmpeg, сообщается что в ближайшее время также будет выпущен плагин для Gstreamer, для пользователей Windows выпущен специальный DirectShow-фильтр. Из web-браузеров заявлено о поддержке Mozilla Firefox, Opera и Chromium, возможность работы с VP8 и WebM в которых уже появилась в сегодняшних тестовых снапшотах. Для быстрой интеграции кодека VP8 в другие проекты подготовлен VP8 SDK c полной реализацией кодировщика и декодера. Компания Google получила права на кодеки VP3, VP4, VP5, TruMotion VP6, VP7 и VP8 после поглощения фирмы On2 Technologies. В 2001 году путем заключения соглашения On2 Technologies с фондом Xiph.org был выпущен открытый кодек VP3, который стал фундаментом для формирования Ogg Theora. Кодек VP8 является наиболее совершенным в линейке кодеков компании On2 Technologies: для передачи видео идентичного качества в VP8 требуется на 50% меньшая пропускная способность канала связи, по сравнению с кодеком H.264. При этом в кодеке VP8 значительно упрощен процесс декодирования, что позволяет использовать его на маломощных системах и мобильных устройствах. Дополнение 1: представители Microsoft заявили о намерении включить поддержку кодека VP8, наряду с поддержкой HTML5-тега "video", в состав браузера Internet Explorer 9. Но поддержка VP8 в Internet Explorer 9 будет работать только если пользователь сам установит кодек (DirectShow-фильтр) в системе, в комплекте с браузером декодер VP8 поставляться не будет. Дополнение 2: разработчик проекта x264 представил в своем блоге детальный технический анализ кодека VP8. Краткие выводы: Спецификация на VP8 оформлена лишь немного лучше H.264 Baseline Profile и VC-1, но требует доработки и заметно отстает от H.264 Main и High Profile. Качество картинки, при кодировании представленным VP8-кодировщиком, можно значительно улучшить, сейчас оно находится на уровне примерно между Xvid и Microsoft VC-1. Декодер VP8 работает медленней реализации H.264 из ffmpeg и скорее всего будет трудно как-то улучшить этот показатель. С точки зрения вероятного нарушения патентов MPEG-LA в VP8 заметно слишком много пересечений с H.264, поэтому вопрос полной защиты от патентных претензий остается открытым. Надеемся лишь, что мало кто отважится противостоять патентному портфолио Google. C позиции уровня сжатия видеопотока VP8 значительно лучше кодеков Theora и Dirac; VP8 еще полностью не готов для повсеместного внедрения - в спецификации вместо внятного описания можно встретить участки кода на языке Си, интерфейс кодировщика и формат битового потока еще требует доработки. Компания Google сделала абсолютно верное решение, выбрав в качестве контейнера формат Matroska и для кодирования звука Vorbis. В итоге, в текущем состоянии VP8 еще заметно проигрывает H.264 по уровню сжатия потока, в основном проблем в реализации адаптивного квантования, отсутствия поддержки B-кадров, трансформации 8x8 и не адаптивной цикличной фильтрации. Тем не менее кодек уже достиг уровня VC-1 и H.264 Baseline Profile, при том, что многие отмеченные проблемы поддаются устранению.