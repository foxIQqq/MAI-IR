Выпуск распределенной файловой системы GlusterFS 3.7

Доступен релиз распределенной файловой системы GlusterFS 3.7, позволяющей организовать работу распределённого на несколько узлов хранилища, развёртываемого поверх штатных POSIX ФС, таких как Ext4, XFS и Btrfs, с использованием механизма FUSE (ФС в пользовательском пространстве). GlusterFS предоставляет средства автоматического восстановления после сбоев и обеспечивает практически неограниченную масштабируемость, благодаря отсутствию привязки к централизованному серверу мета-данных (используются распределённые хэш-таблицы). По сравнению с прошлым выпуском в GlusterFS 3.7 закрыто более 600 отчётов об ошибках и принято 1220 патчей. Готовые для установки бинарные пакеты с GlusterFS 3.7 подготовлены для Fedora, RHEL, CentOS, Debian, openSUSE, SLES и Ubuntu. Новый выпуск будет по умолчанию поставляться в релизе Fedora 23. Основные новшества: Реализована техника выявления скрытых дисковых ошибок, приводящих к повреждению хранимых данных без индикации наличия проблемы со стороны диска и драйверов. Техника выявления подобных проблем (BitRot Detection) основана на использовании цифровых подписей для всех файлов и объектов с их периодической фоновой проверкой. Использование многопоточного варианта обработки событий от epoll, при котором запускается несколько обработчиков очередей epoll. Ускорение обработки ввода/вывода при таком подходе наиболее заметно при выполнении операций с большим числом мелких файлов. Экспериментальная возможность определения правил для многоуровневого размещения файлов, при котором файлы размещаются по разделам не случайным образом, а в соответствии с определённой закономерностью. В дальнейшем, механизм послужит основой для создания механизма классификации данных, при котором данные смогут размещаться с учётом их локальной востребованности. Механизм Trashcan, позволяющий организовать временное сохранение удалённых файлов в отдельной области с их автоматическим удалением после истечения заданного времени. Поддержка задания квот на i-node, которая появилась благодаря новой эффективной системе подсчёта числа объектов/файлов в директориях и разделах, реализованной через хранение счётчика в расширенных атрибутах директории. Поддержка экспорта разделов через NFSv4, NFSv4.1 и pNFS. В NFSv3-сервере добавлена возможность применения Linux-модели экспорта и аутентификации по группам, что позволяет администратору ограничить определённым клиентам и группам доступ к экспортируемым через NFSv3 разделам и поддиректориям. Добавлена новая утилита GlusterFind, при помощи которой можно отслеживать связанные с данными события, например, для выявления модификации файлов. Увеличена производительность операции ребалансировки хранилища за счёт ускорения идентификации файлов, требующих перемещения, и организации их переноса в многопоточном режиме. Возможность создания снапшотов по расписанию. Экспериментальная поддержка шардинга, позволяющего решить проблемы с фрагментацией дискового пространства за счёт хранения файлов большого размера в виде цепочки связанных друг с другом блоков, размер которых определяется в настройках. Использование механизма RCU (Read-copy-update) для синхронизации нитей glusterd и организации доступа к важным секциям.