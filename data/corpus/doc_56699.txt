Обновление сборки DogLinux для проверки оборудования

Подготовлено обновление специализированной сборки дистрибутива DogLinux (Debian LiveCD в стиле Puppy Linux), построенной на пакетной базе Debian 11 "Bullseye" и предназначенной для тестирования и обслуживания ПК и ноутбуков. В состав входят такие приложения, как GPUTest, Unigine Heaven, CPU-X, GSmartControl, GParted, Partimage, Partclone, TestDisk, ddrescue, WHDD, DMDE. Дистрибутив позволяет проверить работоспособность оборудования, нагрузить процессор и видеокарту, проверить SMART HDD и NVMe SSD. Размер Live-образа, загружаемого с USB-накопителей, 1.1 ГБ (torrent). В новой версии: Обновлены ядра Linux 5.10.92 и 5.16.7. x86-64 ядра собраны с патчем intel-nvme-remap из EndlessOS для обеспечения доступности NVMe SSD на платформах Intel Core i3/i5/i7 8-10 поколений при включённой в BIOS настройке Intel RST Premium With Optane. Для ядра 5.10 собран драйвер Realtek rtw88 с поддержкой WiFi 802.11ac модуля RTL8821CE ревизии RFE4 При загрузке с HWE ядром 5.16 по умолчанию используется новый NTFS3 драйвер от Paragon вместо NTFS-3G Обновлён HWE стек: libdrm 2.4.109, Mesa 21.3.5 (собрана с LLVM 11 во избежание дублирования). Обновлён проприетарный драйвер NVIDIA 470.103.01 с поддержкой RTX 2050, MX550, MX570. Вместо Google Chrome добавлен Chromium 98.0.4758.80 (Official Build) из репозиториев Debian 11. Добавлена программа для просмотра информации о системе CPU-X (сборка из git срез от 20220213). Обновлена программа для копирования неисправных жёстких дисков HDDSuperClone 2.3.2 Обновлен UEFI PassMark memtest86 9.4 Обновлена DOS-программа HDAT2 7.4 Обновлены прошивки linux-firmware-20220209 Особенности сборки: Поддерживается загрузка в UEFI и режиме Legacy/CSM. В том числе по сети через PXE с NFS. С устройств USB/SATA/NVMe, с файловых систем FAT32/exFAT/Ext2/3/4/NTFS. UEFI Secure Boot не поддерживается, его требуется отключить. Для нового оборудования предусмотрен вариант загрузки HWE (live/hwe включает свежие ядро Linux, libdrm и Mesa). Для совместимости со старым оборудованием в составе имеется live32 i686 версия с ядром без PAE. Размер дистрибутива оптимизирован для использования в режиме copy2ram (дает возможность после загрузки извлечь USB-накопитель/сетевой кабель). При этом копируются в оперативную память только те squashfs-модули, которые используются. Содержит три версии проприетарных драйверов NVIDIA - 470.x, 390.x и 340.x. Необходимый для загрузки модуль драйвера определяется автоматически. При запуске GPUTest и Unigine Heaven автоматически определяются конфигурации ноутбуков с гибридными видеоподсистемами Intel+NVIDIA, Intel+AMD и AMD+NVIDIA и выставляются необходимые переменные окружения для запуска на дискретной видеокарте. Системное окружение основано на Porteus Initrd, OverlayFS, SysVinit и Xfce 4.16. За монтирование накопителей отвечает pup-volume-monitor (без применения gvfs и udisks2). Вместо Pulseaudio напрямую используется ALSA. Применен свой скрипт для решения проблемы с приоритетом HDMI звуковых карт. Можно устанавливать любое ПО из репозиториев Debian, а также создавать модули с необходимым дополнительным ПО. Поддерживается активация squashfs-модулей после загрузки системы. Shell-cкрипты и настройки можно копировать в каталог live/rootcopy и они будут применены при загрузке без необходимости пересборки модулей. Работа осуществляется с правами root. Интерфейс английский, файлы с переводами по умолчанию вырезаны для экономии места, но в консоли и X11 настроено отображение кириллицы и переключение раскладки по Ctrl+Shift. Пароль по умолчанию для пользователя root - dog, для пользователя puppy - dog. Доработанные файлы конфигурации и скрипты находятся в 05-customtools.squashfs. Установка с помощью скрипта installdog на раздел FAT32, при этом используются загрузчики syslinux и systemd-boot (gummiboot). В качестве альтернативы предоставляются готовые файлы конфигурации для grub4dos и Ventoy. Возможна установка на жёсткий диск/SSD предпродажного ПК/ноутбука для демонстрации работоспособности. Раздел FAT32 затем легко удалить, скрипт не вносит изменений в UEFI variables (очередь загрузки в прошивке UEFI).