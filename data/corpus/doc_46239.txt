Выпуск пользовательского окружения GNOME 3.24

После шести месяцев разработки официально представлен выпуск десктоп-окружения GNOME 3.24. По сравнению с прошлым выпуском было внесено более 28 тысяч изменений, в реализации которых приняли участие 753 разработчика. Из наиболее значительных изменений в новой версии можно отметить режим ночной подсветки, включение в состав приложения для просмотра кулинарных рецептов, улучшение области уведомлений, расширение поддержки самодостаточных пакетов Flatpak, модернизация браузера Epiphany. Для быстрой оценки возможностей GNOME 3.24 подготовлены специализированные Live-сборки на основе Fedora, openSUSE, Ubuntu и ALT Linux Sisyphus. Основные новшества: Реализован режим ночной подсветки ("Night Light"), который меняет цветовую температуру в зависимости от времени суток. Например, при работе в ночное время GNOME автоматически уменьшает интенсивность синего цвета на экране, делая цветовую гамму более тёплой, что снижает напряжение глаз и сокращает факторы возникновения бессонницы после работы перед сном. В настройках можно изменить график активации ночного режима, а в системном меню временно отключить его действие. Поддержка ночного режима обеспечена как при работе поверх X11, так и поверх Wayland; В интерфейсе настройки параметров системы (GNOME Settings) переработаны разделы управления online-аккаунтами, принтерами и пользователями. Изменения коснулись только оформления, вся ранее доступная функциональность сохранена. В интерфейсе настройки online-аккаунтов более ясно выделена информация об уже добавленных учётных записях и доступных для использования службах. В интерфейсе настройки принтеров улучшено представление информации об имеющихся устройствах - на сводную страницу добавлено отображение местоположения каждого принтера и информация об уровне чернил в картриджах; Оптимизировано оформление области уведомлений, упрощён доступ к ранее показанным уведомлениям. В область уведомлений встроен виджет для отображения прогноза погоды, который показывает краткий прогноз на день и ссылку на вызов программы Weather для получения более подробной информации; В состав включено новое приложение Recipes, предоставляющее доступ к базе кулинарных рецептов, формируемой сообществом пользователей GNOME. Пользователь имеет возможность не только просматривать и искать рецепты, но и добавлять собственные, предлагать правки, создавать и распечатывать списки покупок, корректировать число ингредиентов в зависимости от числа порций, добавлять в закладки интересные рецепты и оставлять комментарии. Программа также предлагает режим "свободные руки", который инструктирует о всех шагах для приготовления блюда, не требуя прикасаться к компьютеру; Проведена значительная модернизация интерфейса web-браузера Epiphany (GNOME Web), построенного на движке WebKitGTK+ 2.16. В том числе представлена новая реализация адресной строки и добавлено новое всплывающее меню (popover) со списком открытых вкладок. Полностью переработан интерфейс для управления коллекцией закладок. Реализован новый простой интерфейс для добавления закладки на страницу в один клик, а также всплывающее меню для быстрого доступа к закладкам. Добавлен интерфейс для контроля за персональными данными, сохраняемыми сайтами на локальный диск, который позволяет просмотреть и удалить содержимое кэша, хранилища сеансов, IndexedDB и WebSQL. Улучшено обнаружение форм с паролями, параметры аутентификации теперь могут сохраняться для динамически создаваемых форм. Улучшена реализация режима инкогнито - данные сеансов теперь не оседают во временной директории, а держатся в памяти. Для дополнительной защиты от отслеживания пользователя произведена интеграция чёрного списка EasyPrivacy. Для страниц с формами ввода пароля, открываемых без HTTPS, обеспечен вывод бросающегося с глаза предупреждения. В менеджере фотографий существенно улучшен обзорный режим просмотра коллекции изображений - увеличен размер миниатюр и обеспечено их масштабирование для полного использования имеющегося экранного пространства. Проведена работа по повышению качества и оперативному обновлению изменений. Добавлены инструменты для корректировки экспозиции и теней. Обеспечен показ местоположения снимка, если в метаданных указаны координаты GPS; Расширена поддержка самодостаточных пакетов Flatpak. Обеспечено более гладкое обновление Flatpak-приложений. Добавлена поддержка новых возможностей Flatpak, таких как автоматическая загрузки необходимых для работы программы runtime-компонентов; В Builder, интегрированную среду разработки, оптимизированную для создания приложений для GNOME, добавлены средства для упаковки создаваемых приложений в виде самодостаточных пакетов Flatpak. Кроме того, в Builder добавлена поддержка систем сборки CMake, Meson и Cargo (Rust). Предоставлены средства для быстрого развёртывания окружения для разработчика - из Builder теперь можно в один клик установить SDK и инструментарий разработчика (даже для Flatpak и Rust) или обновить их. Обеспечена интеграция с Valgrind для упрощения отладки проблем с распределением памяти; Подготовлен набор более крупных и ярких пиктограмм, представленных в разрешении 512×512 пикселей (ранее максимальны размер составлял 256×256), что позволяет значительно улучшить детализацию отображения пиктограмм на экранах c высокой плотностью размещения пикселей (HiDPI). Кроме того, модернизирован визуальный стиль многих пиктограмм, определяющих устройства, документы, каталоги, типы файлов и приложения; В IRC-клиент Polari внесена порция улучшений, например, при клике на имени пользователя теперь отображается всплывающее меню, через которое можно быстро начать приватный чат или запросить уведомление о появлении пользователя в online. Реализован режим фоновой работы, при котором Polari продолжает выполнение в фоне без открытых окон. Добавлена проверка орфографии. В диалог подключения к каналу добавлено отображение списка доступных каналов; В GNOME Games, интерфейс для загрузки и запуска игр, внесена большая порция улучшений. Добавлена возможность запуска игр на базе платформы Libretro; При работе под управлением Wayland добавлена возможность использования графических планшетов Wacom, в том числе доступны средства для настройки Wacom. Из общих улучшений отмечается появление унифицированной системы настройки стилуса, позволяющей создавать конфигурации не привязанные к устройствам и использовать готовые преднастройки; В календарь-планировщик добавлен недельный обзор событий, позволяющий разом просмотреть все мероприятия на неделю; Продолжено усовершенствование оформления интерфейса для установки приложений (GNOME Software). Добавлены новые пиктограммы для выделения установленных приложений, обновлено представление пользовательского рейтинга и показана информация о дисковом пространстве, которое займёт приложение после установки; В файловом менеджере упрощена работа с защищёнными файлами и каталогами. Если для доступа к файлу или каталогу требуются дополнительные полномочия, отныне автоматически выводится диалог для ввода пароля, без необходимости ручного запуска sudo или работы под пользователем root; Расширено соблюдение правил типографики, при оформлении текста теперь максимально возможно используются символы Unicode; Улучшен внешний вид калькулятора, добавлено окно для настройки горячих клавиш, реализованы новые всплывающие меню с переменными и функциями, улучшено выделение ошибок, расширены возможности по работе с комплексными числами; Добавлена поддержка систем с двумя видеокартами. На подобных системах перед запуском приложения теперь можно выбрать, какой из GPU использовать. В настройках представлены параметры обеих видеокарт; В Mutter добавлена поддержка расширений EGLStreams и EGLDevice, позволяющих использовать проприетарные драйверы NVIDIA (начиная с выпуска 370) для запуска GNOME поверх Wayland; В Mutter на системах с OpenGL задействовано расширение GL_*_texture_swizzle, которое позволяет обойтись без программного преобразования пикселей при сохранении текстур из формата изображений cairo. Тестирование производительности скроллинга (тест scrolling-performance) на системах с GPU Intel при использовании Wayland и отрисовки через Cairo показало снижение нагрузки на CPU с 45-50% до 25-30%; В рамках текущего цикла разработки не был сформирован релиз GTK+ 3.24, вместо которого поставляется ветка GTK+ 3.22, которая будет поддерживаться три года. Параллельно ведётся разработка новой стабильной ветки GTK+ 4, которая пока не готова. Из уже подготовленных для GTK+ 4 изменений отмечаются средства записи активности в GTK+ Inspector, поддержка спецификации CSS-фильтров, большая чистка API и создание нового модуля отрисовки на базе графического API Vulkan.