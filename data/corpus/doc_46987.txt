Релиз Firefox 55

Официально состоялся релиз web-браузера Firefox 55, а также мобильной версии Firefox 55 для платформы Android. Firefox 55 стал первым выпуском, подготовленным без формирования ветки aurora в соответствии с новым процессом разработки. В ближайшие часы ожидается обновление ветки с длительным сроком поддержки 52.3.0. В скором времени на стадию бета-тестирования перейдёт ветка Firefox 56, релиз которой намечен на 26 сентября. Основные новшества: Обеспечено мгновенное восстановление сеансов с большим числом вкладок; Вывод контекстных уточнений (suggestions) поискового запроса, вводимого в адресной строке, теперь включен по умолчанию для пользователей, которые явно не отказались от данной возможности в настройках. Ранее при вводе в адресной строке показывалась только выборка релевантных значений из истории посещений и закладок, без обращения к внешним поисковым службам. Кроме того, добавлена возможность поиска через любой поддерживаемый поисковый движок напрямую из адресной строки (список поисковых систем отображается в нижней части контекстной подсказки); При вводе в адресной строке имени хоста без уточнения протокола (например, "opennet.ru" без указания http:// или https://) теперь по возможности сайт открывается по HTTPS вместо ранее применяемой по умолчанию схемы "http://"; Для дополнений WebExtensions активирована система подтверждения расширенных полномочий, таких как доступ к контенту открываемых сайтов или возможность обработки вкладок. При изменении списка полномочий во время обновления или при установке нового дополнения теперь выводится диалог, запрашивающий у пользователя подтверждение доступа к различной функциональности; Добавлена поддержка API WebVR, предоставляющего средства для создания приложений виртуальной реальности и навигации в Web через 3D-шлемы, такие как HTC VIVE и Oculus Rift. При помощи Web VR API разработчики могут воплотить в жизнь новые методы взаимодействия с пользователем и развивать новые техники 3D-навигации по сайтам. WebVR позволяет организовать отображение в 3D-шлеме контента, сформированного с использованием специальных VR-расширений WebGL, а также VR-расширений CSS, которые позволят организовать размещение DOM-элементов внутри сцены виртуальной реальности. Поддержка WebVR пока реализована только для платформы Windows; В интерфейсе предпросмотра вывода на печать упрощены средства управления выводом заданий на печать; Включены наработки инициативы Quantum Flow, в рамках которой развиваются дополнительные оптимизации для увеличения производительности интерфейса пользователя. Тестирование Firefox 55 показало существенное ускорение работы со вкладками и сокращение времени запуска. Тестирование проводилось с профилем, содержащим 1691 (!) вкладку. Если в прошлые выпуски запуск браузера со столь огромным числом вкладок занимал 5-8 минут, то в Firefox 55 ситуация изменилась и на запуск ушло всего 15 cекунд, а потребление памяти снизилось в 4 раза (с 2 до 0.5 Гб, без фактической загрузки содержимого всех страниц). Реализован механизм для урезания ресурсов JavaScript-кода, выполняемого в фоновых страницах. Механизм пока применяется только к коду счётчиков, отслеживающих активность посетителей и присутствующих в поставляемом с браузером списке Tracking Protection. Для таких скриптов интенсивность вызова обработчиков setInterval и setTimeout ограничивается до одного вызова в 10 секунд, при условии что вкладка не является активной. Для обычных фоновых вкладок применяется лимит в 1 секунду. Изменения не влияют на вкладки, в которых осуществляется воспроизведение звука или видео; Добавлена возможность применения стереомикрофонов совместно с WebRTC; Для выборочного числа пользователей включено по умолчанию системное дополнение Firefox Screenshots, которое позволяет быстро создавать скриншоты web-страниц, сохранять их локально или загружать в облако для обмена скриншотами с другими пользователями. Пользователи, которые не включены в программу тестирования могут включить дополнение в about:config, указав extensions.screenshots.system-disabled=false). Созданные снимки страниц или их отдельных частей размещаются в специальном облачном сервисе, в котором в течение 14 дней остаются доступны по прямой ссылке для других пользователей, знающих идентификатор снимка. Созданные в текущем браузере скриншоты показываются в специальном разделе "My Shots" на сайте screenshots.firefox.com. Имеются средства для отправки скриншотов в Facebook, Twitter, Pinterest и по электронной почте. Серверная часть облачного сервиса открыта и может быть поднята на своих мощностях (применяется Node.js и PostgreSQL). В настройки добавлена страница для изменения параметров производительности. В частности, добавлена возможность выбора числа процессов-обработчиков контента, а также флажок для включения аппаратного ускорения. Благодаря возможности изменения числа процессов-обработчиков каждый пользователь сможет найти собственный компромисс между потреблением памяти и отзывчивостью интерфейса. Боковая панель, на которой можно вывести закладки, историю посещений и синхронизированные вкладки, теперь может быть перемещена в правую часть окна (ранее боковая панель размещалась только слева); Связанный с Flash-плагином контент теперь показывается только после явной активации кликом и ограничен для страниц, открытых по http:// и https://. Изменение будет продвигаться поэтапно, постепенно распространяясь на новые группы пользователей (для 5% спустя 2 недели, затем 25% спустя 4 недели и 100% спустя 6 недель); В формат профиля внесены изменения, нарушающие обратную совместимость. После перехода на Firefox 55, профиль нельзя будет использовать в предыдущих выпусках, в том числе в версии ESR, а только в Firefox 55 и более новых версиях; Модернизирован интерфейс установки обновления, который стал менее навязчивым и более согласованным с остальной частью браузера. Изменение коснётся только пользователей, которые не перезагружали браузер в течение 8 дней после загрузки обновления или отключившим автоматическое обновление в настройках; Для сайтов, работающих не через защищённое соединение, отныне будет блокирован доступ к Geolocation API и Storage API, чтобы избежать перехвата сведений о данных и физическом местоположении пользователя; Отменена блокировка смешанного контента (http и https) для локальных web-приложений, открываемых с localhost; Запрещена загрузка внешних JAR-файлов; Продолжено усовершенствование API WebExtensions для разработки дополнений, совместимых с браузером Chrome. Из новых программных интерфейсов отмечается реализация API runtime.onMessageExternal для организации взаимодействия между разными дополнениями WebExtensions и API nsiProfiler для доступа ко встроенным средствам профилирования движка Gecko. Внесена порция новых возможностей в API webRequest. Добавлена возможность изменения параметров тем оформления через WebExtensions. Добавлена ненавязчивая система уведомлений о неявно установленных дополнениях, т.е. установленных другими программами, а не из Firefox. Факт сторонней установки также отражается в диалоге подтверждения полномочий; В интерфейс мониторинга сетевой активности (Network Monitor) добавлена возможность фильтрации сетевых запросов по различным свойствам и значению столбца (например, "status-code:200"). Фильтр задаётся в форме регулярного выражения. Кроме того, добавлена поддержка выборочного скрытия и показа столбцов, а также новые столбцы с внешним IP, протоколом, схемой адресации и cookie; Добавлена поддержка HTTP-заголовка SourceMap (заголовок X-SourceMap объявлен устаревшим), позволяющего сопоставить объединённый в один файл JavaScript-код c оригинальными файлами, из которых он был сформирован; Включена поддержка CSS-свойства transform-box, определяющего блок компоновки, к которому применимы свойства transform и transform-origin; По умолчанию активирован API Intersection Observer, позволяющий увеличить производительность сайта за счёт применения техники отложенной загрузки контента и значительного снижения накладных расходов при проверке видимости контента; Реализована функция frames(), формирующая на основе заданного значения набор из равных интервалов; Добавлено CSS-свойство text-justify, позволяющее определить тип выравнивания текста при использовании "text-align: justify"; Включена по умолчанию поддержка JavaScript-объектов SharedArrayBuffer (позволяет создавать массивы в разделяемой памяти) и Atomics (для организации синхронизации блокировок примитивов); Добавлена поддержка нового синтаксиса клонирования и объединения объектов. Например, для клонирования вместо "Object.assign({}, data)" теперь можно указать "{ ...data }", а для объединения "{ ...defaultSettings, ...userSettings }"; Добавлена поддержка указания режима async при объявлении методов генератора; По умолчанию включён API Background Tasks (window.requestIdleCallback), позволяющий отложить вызов функции на время, когда браузер находится в состоянии простоя (idle). Например, при помощи данной возможности можно организовать выполнение низкоприоритетных и фоновых задач, без их негативного влияния на выполнение чувствительных к задержкам операций, таких как вывод анимации и ввод; Для Windows по умолчанию задействован упрощённый установщик. Для получения доступа к дополнительным опциям следует использовать полный установщик. По умолчанию для 64-разрядных систем с Windows предлагается 64-разрядная версия Firefox, при условии наличия в системе как минимум 2 Гб ОЗУ; На системах с Windows 10 задействованы средства для аппаратного ускорения декодирования видео в формате VP9; На платформе macOS обеспечена возможность назначения горячих клавиш для быстрого вызова пунктов меню. Настроить горячие клавиши можно через "System Preferences > Keyboard > Shortcuts"; Возвращена поддержка локализации для белорусского языка, удалённая в Firefox 51 из-за длительного отсутствия сопровождающего; В версии для платформы Android: Добавлены средства для перегруппировки вкладок - порядок следования вкладок теперь можно изменить через касание и перемещение с удерживанием на экране вкладок; Для экономии энергии реализована приостановка отрисовки воспроизводимого видео при уходе картинки из видимой области (звук продолжит воспроизводиться); Добавлена поддержка масштабирования одной рукой через двойное касание и сдвиг; Размер шрифта на web-страницах теперь опционально может приводится к размеру системного шрифта, определённому в настройках. Выпуск Firefox 55 станет последним с поддержкой платформы Android 4.0. Кроме новшеств и исправления ошибок в Firefox 55 устранена серия уязвимостей, из которых несколько помечены как критические, т.е. могут привести к выполнению кода злоумышленника при открытии специально оформленных страниц. В настоящее время информация с подробностями об исправленных проблемах безопасности недоступна, ожидается, что перечень уязвимостей будет опубликован в течение нескольких часов.