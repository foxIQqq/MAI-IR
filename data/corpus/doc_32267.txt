Компания Oracle выпустила Solaris 11

После 7 лет разработки увидел свет релиз операционной системы Solaris 11. По сравнению с Solaris 10 в Solaris 11 реализовано более 400 новшеств, объем кода Solaris 11 оценивается в более чем 20 млн. человеко-часов, затраченных на разработку, и ещё 60 млн. часов на тестирование. Компания Oracle представила новую версию как "первую облачную операционную систему", т.е. ОС специально созданную с оглядкой на облачные вычисления и готовую для обеспечения работы публичных, приватных и гибридных облачных окружений на предприятиях. Значительные улучшения наблюдаются во всех ключевых компонентах Solaris 11, начиная с сетевого стека и файловых систем и заканчивая инфраструктурой управление пакетами и расширенной поддержкой многопоточности. Solaris 11 доступен только для 64-разрядных x86-систем и серверов на базе процессоров SPARC серии M и T. Поддержка неактуального оборудования, 32-битного ядра и старых моделей процессоров SPARC, включая UltraSparc IV+, прекращена. Размер установочного образа составляет 430 Мб для архитектуры x86 и 526 Мб для SPARC. Об открытии кода Solaris 11 пока ничего не известно. Напомним, что в отличие от Sun компания Oracle перешла от развития Solaris в качестве открытого проекта к практике закрытой разработки, с открытием кода только после вывода готового продукта на рынок. Основные новшества Solaris 11 (подробнее см. 19-страничный обзор в формате PDF): Встроенные средства виртуализации для операционных систем, включая возможности по созданию виртуальных сетевых устройств и виртуальных хранилищ: В дополнение ко встроенным механизмам виртуализации, Solaris 11 поддерживает развёртывание инфраструктур виртуализации на базе Oracle VM для архитектур x86 и SPARC, включая инструменты для упрощения развёртывания окружений и средства для организации Live-миграции; Переработана реализация изолированных контейнеров Solaris Zones, которая теперь позволяет выполнять на одном сервере сотни изолированных окружений, при этом накладные расходы на каждое окружение примерно в 15 раз ниже, чем при использовании систем полной виртуализации, таких как VMware. При работе Solaris Zones требуется значительно меньше таких ресурсов, как память, CPU и дисковое пространство. Интегрирована поддержка загрузочных окружений (глобальный корневой раздел для нескольких zone), которые можно клонировать от одной зоны к другой и содержимое которых можно оформлять используя стандартные инструменты управления пакетами. Для контроля за расходом ресурсов в зонах представлен специальный сервис мониторинга zonestat. Функции по управлению отдельными зонами можно делегировать разным администраторам, используя систему доступа на основе ролей (RBAC). Внутри Solaris Zones теперь допускается запуск NFS-сервера. Для каждой зоны можно закрепить свой независимый IP-стек со своей виртуальной сетевой картой; Реализована возможность миграции серверов на базе Solaris 10 в изолированные окружения Solaris Zones, работающие поверх Solaris 11, что позволяет безболезненно перевести существующие системы с Solaris 10 на новые серверы. Для упрощения миграции физических и виртуальных серверов подготовлены специальные наборы инструментов physical-to-virtual (p2v) и virtual-to-virtual (v2v); Новые механизмы сетевой виртуализации, позволяющие создавать высокопроизводительные и экономичные cетевые топологии в рамках одного физического сервера ("датацентр в коробке"). Функциональность реализована благодаря интеграции наработок проекта Crossbow по виртуализации IP-стека и сетевых устройств. Отличительной особенностью Crossbow является возможность установки приоритетов в обработке трафика и гибкое управление пропускной способностью для изолированной зоны, протокола или сервиса. Трафик определенного сервиса или зоны при этом не не оказывает влияние на другие подсистемы, что, например, позволит сохранить работоспособность других сервисов и зон в момент проведения DoS атаки; Единые средства для организации управления инфраструктурой, включая операционную систему, оборудование, сетевые ресурсы и хранилища, как физические, так и виртулизированные: Механизмы для построения, развёртывания и обслуживания больших серверных парков и cloud-инфраструктур, состоящих из тысяч машин; Улучшенная архитектура контроля за сбоями, более оперативная доставка обновлений, средства получения активной и упреждающей поддержки (выявление известных проблем); В систему поддержки включён Oracle Enterprise Manager Ops Center, позволяющий организовать централизованное управление над оборудованием, операционными системами и виртуализированными ресурсами; Встроенная поддержка подсистемы снапшотов, позволяющих постоянно держать в запасе резервную копию работоспособного загрузочного образа системы и дающих пользователю возможность откатывать внесенные изменения путем простой перезагрузки. Для пользователей подготовлена специальная графическая утилита для создания снапшотов содержимого домашней директории и восстановления случайно удалённых или изменённых файлов; Осуществлён переход на инфраструктуру управления пакетами IPS (Image Packaging System), включающую новый пакетный менеджер, учитывающий зависимости между пакетами и исключающий ошибки при наложении исправлений и обновлений. Новый репозиторий пакетов и новая система распространения обновлений. В процессе установки обновлений используются снапшоты ZFS, которые предоставляют возможность мгновенно вернуть систему в прежнее состояние если что-то пойдет не так; Расширение возможностей подсистемы SMF (Service Management Facility): добавлена поддержка отправки уведомлений по email или в виде SNMP-трапов в случае нарушения работы сервисов; проведена реструктуризация SMF-репозитория, который разделён на "слои" (текущее состояния, профиль с индивидуальными настройками и значения по умолчанию); в SMF перемещены некоторые базовые системные настройки (DNS, идентификация хоста, часовое пояс и т.п.); добавлена новая утилита sysconfig для переконфигурирвоания системы; Новые возможности DTrace: провайдер для Kerberos; провайдеры для трассировки протоколов tcp, udp и ip; провайдеры для smb и iscsi; возможность профилирования событий, связанных с процессором (провайдер cpc); Улучшения в реализации средств для создания хранилищ: Расширение возможностей файловой системы ZFS: оптимизация производительности; поддержка шифрования данных; расширенные возможности по обеспечению целостности данных; возможность ускорения за счет размещения наиболее востребованных данных на быстрых SSD-накопителях; поддержка резервного копирования ZFS-разредов с использованием Network Data Management Protocol (NDMP); режим временного монтирования ZFS-разделов; утилита для наглядного отображения различий между двумя ZFS-снапшотами; Технология автоматического объединения дубликатов в ZFS позволяет до 10 раз снизить потребление дискового пространства в системах с большим числом типовых виртуальных окружений; Новая утилита для прозрачной миграции данных с существующей работающей ФС ZFS на новую ФС. Особенность в том, что операции чтения и записи после переноса файла, начинают работать на новой ФС, а для ещё не перенесённых файлов выполняются на старой ФС; Собственная реализация протокола CIFS/SMB и новый интерфейс для организации удаленного доступа к дисковым разделам через NFS и SMB/CIFS; Интеграция фреймворка COMSTAR (Common Multiprotocol SCSI Target), который обеспечивает работу системы в режиме SCSI target, позволяющем организовать доступ к сетевым хранилищам данных посредством протоколов FC (Fibre Channel), FCoE (Fibre Channel over Ethernet), iSCSI или iSER. Усиление безопасности: По умолчанию после установки все сервисы находятся в отключенном состоянии; Система управления доступом на основе ролей (RBAC) позволяет разграничить выполнение операций, требующих повышенных привилегий, между несколькими администраторами, предоставив каждому только минимум необходимых прав; Средства изоляции сервисов и групп процессов, позволяют организовать безопасное сосуществование сервисов и данных разных организаций на одном физическом сервере; Встроенные средства ускорения шифрования позволяют достигнуть четырёхкратного опережения производительности, по сравнению с реализацией шифрования в IBM AIX; Поддержка TPM-модулей (Trusted Platform Module) в соответствии со спецификацией Trusted Computer Group (TCG) 1.2; Поддержка Labeled IPsec и алгоритма AES GMAC в IPsec; Увеличение производительности, эффективности и масштабируемости: Режим быстрой загрузки, сокращающий время восстановления системы с десятков минут до десятков секунд; Необходимость в перезагрузке в процессе обслуживания системы удалось сократить в два раза. Скорость загрузки увеличена в 2.5 раза, а скорость установки обновлений в 4 раза; Проведены оптимизации в подсистемах управления памятью и вводом/выводом, что позволило добиться заметного увеличения производительности продуктов Oracle, Java-приложений и промышленного программного обеспечения от сторонних производителей; Обеспечена поддержка серверных систем следующего поколения с десятками тысяч процессорных потоков, сотнями терабайт ОЗУ и сотнями гигабит I/O. Проведена реструктуризация сетевого стека. Представлен новый фреймворк для разработки сетевых драйверов GLDv3, появилась поддержка виртуальных сетевых адаптеров, поддержка IP Multipathing (IPMP), система автоматической конфигурации сети (Network Auto-Magic), новая архитектура сетевых сокетов, интегрирован L3/L4 балансировщик нагрузки, поддержка InfiniBand, новая система агрегирования линков. Добавлена новая унифицированная утилита для сетевого администрирования dladm, заменяющая /etc/system, driver.conf и ndd; Улучшение системы установки: Подготовлены инструменты для упрощения построения собственных индивидуальных сборок Solaris, пригодных для установки как на физические серверы, так и для развёртывания в системах виртуализации; Новый автоматизированный инсталлятор, позволяющий осуществить установку в автоматическом режиме, как при загрузке по сети, так и при использовании специально сгенерированных самодостаточных установочных образов (достаточно загрузиться с CD или Flash и без лишних вопросов будет установлена определённая конфигурация). В отличие от Jumpstart из Solaris 10 новый инсталлятор позволяет организовать развёртывание виртуальных окружений (пока поддерживается только Solaris Zones). Например, администратор может на начальном этапе установки указать какие из Solaris Zones он желает создать и они будут созданы вместе с установкой основной системы; Подготовка интерактивного текстового инсталлятора, позволяющего установить систему без графического дисплея; Для архитектуры x86 подготовлен установочный диск, работающий в Live-режиме, т.е. позволяющий познакомиться с возможностями системы до её непосредственной установки; Изменение программной начинки: Графическое окружение основано на GNOME 2.30.2. В поставку также входит web-браузер Firefox 6, почтовый клиент Thunderbird 6; В качестве командной оболочки для новых пользователей по умолчанию используется bash, в качестве системной командной оболочки задействован ksh93; Новая звуковая подсистема, совместимая с OSS (Open Sound System); Добавлена поддержка виртуальных терминалов. Между X-сессией и виртуальными терминалами можно переключаться через Alt-Ctrl-F#; В качестве системы печати вместо LP теперь используется CUPS; В поставку добавлены GCC 4.5.2, Perl 5.12, Ruby 1.8.7, PHP 5.2.17, Python 2.7, JDK 1.6.0_26 и 1.7.0-b148, значительно обновлены драйверы, включены OpenMPI, libFuse, Vim, ISC DHCP, HAL, LatencyTOP, новые инструменты администрирования и конфигрурирования. Всего в репозиториях представлено более 840 открытых программ; Из поставки удалён основанный на Xen гипервизор xVM и реализация контейнеров для Linux-приложений (рекомендуется использовать Oracle VM или VirtualBox); В состав больше не входит СУБД PostgreSQL, рекомендуется использовать MySQL 5.1.x; В качестве FTP-сервера задействован proftpd (ранее использоваться wu-ftpd); В стандартную Си-библиотеку добавлено много новых функций, ранее реализованных в Linux и BSD-системах (например, asprintf(), vsprintf(), getline(), strdupa(), strndup(), ascftime(3C), cftime(3C), wcsftime(3C) и fnmatch(3C), fnmatch(3C)).