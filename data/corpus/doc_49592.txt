Четвёртый бета-выпуск FreeBSD 12.0. Прекращение поддержки FreeBSD 10

Доступен четвёртый бета-выпуск FreeBSD 12.0. Выпуск FreeBSD 12.0-BETA4 доступен для архитектур amd64, i386, powerpc, powerpc64, powerpcspe, sparc64 и armv6, armv7 и aarch64. Дополнительно подготовлены образы для систем виртуализации (QCOW2, VHD, VMDK, raw) и облачных окружений Amazon EC2. Релиз FreeBSD 12.0 запланирован на 11 декабря. В новом выпуске устранена уязвимость (CVE-2018-17156), приводящая к переполнению буфера по нижней границе при обработке пакетов ICMP. Уязвимость позволяет инициировать крах ядра через отправку специального оформленного ICMP-пакета (Ping of Death). Проблема затрагивает только 64-разрядные ядра и проявляется в тестовой кодовой базе FreeBSD, начиная с июля 2018 года (в это время значение icmp_quotelen было повышено с 8 до 548). Стабильные выпуски уязвимость затрагивает только при установке достаточно больших значений в sysctl net.inet.icmp.quotelen. Проблема вызвана ошибкой в коде функции icmp_error(), определённой в файле sys/netinet/ip_icmp.c. Недавно другая проблема в данной функции привела к критической уязвимости (CVE-2018-4407) в ядре XNU (используется в macOS и iOS), позволяющей удалённо выполнить код через отправку ICMP-пакета (FreeBSD, OpenBSD и NetBSD этой уязвимости не подвержены); Другие изменения во FreeBSD 12.0-BETA4 по сравнению с третьим бета-выпуском: В набор rescue добавлена утилита bectl для управления загрузочными окружениями ZFS. Устранён вывод ошибки при попытке активации уже активного загрузочного окружения; Пакетный менеджер pkg в dvd1.iso и файл конфигурации pkg обновлены для использования ежеквартально обновляемого набора пакетов (2018Q4); Обновлён драйвер ichwd, в котором появилась поддержка watchdog-таймера TCO для чипов Lewisburg PCH (C620); В набор настроек rc.conf добавлена опция local_unbound_tls, которая по умолчанию установлена в значение "NO"; Добавлен код для определения некорректно зарезервированной некоторыми BIOS памяти; Внесены исправления в lualoader; Обновлены модули linux.ko и linux64.ko. Обеспечена возможность использования порта x11/nvidia-driver* с модулем linux64.ko; Обновлён драйвер iavf, в котором налажена поддержка аппаратного ускорения обработки TSO при выключенном TXCSUM; Устранены проблемы с загрузкой, связанные с EARLY_AP_STARTUP; Число поддерживаемых кулеров для систем на базе архитектуры powerpc увеличено с 8 до 12. Дополнительно можно отметить прекращение поддержки FreeBSD 10.4 и, соответственно, всей ветки FreeBSD stable/10. Пользователям FreeBSD 10 рекомендуется обновить свои системы до выпуска FreeBSD 11.2. Ветка stable/11 будет поддерживаться до 30 сентября 2021 года, а поддержка выпуска 11.2 будет прекращена через 3 месяца после выхода FreeBSD 11.3. Напомним, что начиная с FreeBSD 11 проект перешёл на новую модель поддержки релизов, при которой вместо расчёта времени поддержки относительно каждого нового выпуска введён общий гарантированный срок поддержки для всей ветки, а поддержка прошлого промежуточного релиза (11.2) прекращается через три месяца после выхода нового промежуточного релиза (11.3).