Доступен Mozilla WebThings Gateway 0.11, шлюз для умного дома и IoT-устройств

Компания Mozilla опубликовала новый выпуск продукта WebThings Gateway 0.11, который в сочетании с библиотеками WebThings Framework образует платформу WebThings для обеспечения доступа к различным категориям потребительских устройств и использования универсального Web Things API для организации взаимодействия с ними. Код проекта написан на языке JavaScript с использованием серверной платформы Node.js и распространяется под лицензией MPL 2.0. Прошивки с шлюзом подготовлены для различных моделей Raspberry Pi. Также доступны пакеты для OpenWrt, Fedora, Arch, Ubuntu, Raspbian и Debian, а на базе OpenWrt развивается готовый дистрибутив с интегрированной поддержкой Things Gateway, предоставляющий унифицированный интерфейс для настройки умного дома и беспроводной точки доступа. В новом выпуске: Проведена локализация интерфейса для не англоязычных пользователей. Добавлены переводы для 24 языков, включая русский; Расширено число платформ, для которых распространяются установочные пакеты. Помимо образов для Raspberry Pi и Docker сформированы пакеты для Debian 10, Raspbian, Ubuntu 18.04/19.04/19.10 и Fedora 30/31. В репозитории AUR размещены пакеты для Arch Linux; Стабилизирована система журналирования событий, собирающая статистику о работе всех IoT-устройств и датчиков в домашней сети и позволяющая оценить их активность в форме наглядных графиков. Например, можно узнать сколько раз открывались и закрывались двери во время своего отсутствия, как изменялась температура в доме, сколько потребляли энергии устройства, подключенные к умным розеткам, когда срабатывал детектор движения и т.п. Графики могут строится в разрезе часов, дней и недель и прокручиваться по шкале времени; Экспериментальная функциональность голосового ассистента, позволяющая распознавать и выполнять голосовые команды (например, "включи свет на кухне"), признана несостоятельной и удалена. В следующем выпуске также будет удалён API, связанный с голосовым управлением. Вместо встроенного голосового помощника предлагается использовать дополнения с похожей функциональностью, которые можно найти в разделе Settings ➡ Add-ons; В сборке для Raspberry Pi появилась опция для отключения автоматической доставки OTA-обновлений; Для дополнений предоставлена возможность доступа к настройкам языка и локализации; Добавлена возможность доступа к web-интерфейсу из других систем в локальной сети без шифрования (с использованием "http://", а не "https://"); Повышена надёжность и стабильность PWA-приложения (Progressive Web App), позволяющего организовать работу с web-приложением, как с обособленной программой. Напомним, что WebThings Gateway представляет собой универсальную прослойку для организации доступа к различным категориям потребительских и IoT-устройств, скрывающую за собой особенности каждой платформы и не требующую использования специфичных для каждого производителя приложений. Для взаимодействия шлюза с IoT-платформами можно использовать протоколы ZigBee и ZWave, WiFi или прямое подключение через GPIO. Шлюз можно установить на плату Raspberry Pi и получить систему управления умным домом, объединяющую все имеющиеся в доме IoT-устройства и предоставляющую средства для мониторинга и управления ими через Web-интерфейс. Платформа также позволяет создавать дополнительные web-приложения, которые могут взаимодействовать с устройствами через Web Thing API. Таким образом, вместо установки своего мобильного приложения для каждого типа IoT-устройств, можно использовать единый унифицированный web-интерфейс. Для установки WebThings Gateway достаточно загрузить предоставленную прошивку на SD-карту, открыть в браузере хост "gateway.local", настроить подключение к WiFi, ZigBee или ZWave, найти имеющиеся IoT-устройства, настроить параметры для доступа извне и добавить самые востребованные устройства на домашний экран. Шлюз поддерживает такие функции, как определение устройств в локальной сети, выбор web-адреса для соединения с устройствами из интернета, создание учётных записей для доступа к web-интерфейсу шлюза, подключение к шлюзу устройств, поддерживающих проприетарные протоколы ZigBee и Z-Wave, удалённое включение и выключение устройств из web-приложения, удалённый мониторинг за состоянием дома и видеонаблюдение. WebThings Framework предоставляет набор заменяемых компонентов для создания IoT-устройств, которые могут напрямую взаимодействовать c использованием Web Things API. Подобные устройства могут автоматически определяться шлюзами на базе WebThings Gateway или клиентским ПО (используется mDNS) для последующего мониторинга и управления через Web. Реализации серверов для Web Things API подготовлены в форме библиотек на Python, Java, Rust, Arduino и MicroPython.