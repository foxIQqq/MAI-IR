В ULE-планировщике FreeBSD 7 исправлена серьезная ошибка

Во всех версиях FreeBSD 7.x обнаружена неприятная ошибка в планировщике задач ULE, используемом по умолчанию начиная с выпуска FreeBSD 7.1. На многопроцессорных системах при миграции задачи с одного CPU на другой при определенном стечении обстоятельств может возникнуть взаимная блокировка (deadlock), проводящая блокировке очереди выполнения задач CPU. Разблокировать очередь помогает только перезагрузка. Сама по себе вероятность возникновения данной блокировки небольшая, но она увеличивается с ростом числа CPU. Проблема исправлена в ветке 7.2-STABLE, а также в выпусках 7.2-RELEASE-p7 и 7.1-RELEASE-p11. Патч можно загрузить здесь. Системы работающие на одном CPU или использующие планировщик SCHED_4BSD не подвержены данной проблеме.