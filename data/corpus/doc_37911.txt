В Btrfs реализована поддержка дедупликации в offline-режиме

Представлен очередной набор изменений для файловой системы Btrfs, предлагаемый для включения в состав ядра Linux 3.12. Одной из наиболее интересных новых возможностей является поддержка "оффлайновой" дедупликации, при которой дедупликация не происходит непосредственно в момент записи данных. Вместо этого предоставлен программный интерфейс, который позволяет внешним утилитам произвести дедупликацию в тот момент когда они этого пожелают, предоставив ядру наборы экстентов, претендующих на дупликацию. Далее ядро проверит, что данные действительно дублируются и при обнаружении совпадения произведет дедупликацию. Кроме этого отмечается множество исправлений ошибок и целая серия оптимизаций производительности, наиболее заметной из которых является построение при необходимости дерева UUID'ов для подраздела, что заметно ускоряет работу операций send и receive при наличии большого количества снапшотов или подразделов в файловой системе.