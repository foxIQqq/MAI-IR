Red Hat намерен прекратить развитие сервера X.Org

Кристиан Шаллер (Christian Schaller), возглавляющий группу по развитию десктоп-систем в компании Red Hat и Fedora Desktop Team, в обзоре планов, касающихся компонентов рабочего стола в Fedora 31, упомянул намерение компании Red Hat прекратить активное развитие функциональности сервера X.Org и ограничиться лишь сопровождением уже имеющейся кодовой базы и устранением ошибок. В настоящее время Red Hat вносит ключевой вклад в разработку сервера X.Org и держит на своих плечах его сопровождение, поэтому в случае отстранения от разработки маловероятно, что формирование значительных релизов сервера X.Org будет продолжено. При этом, несмотря на прекращение развития, сопровождение X.Org силами Red Hat будет продолжено как минимум до окончания жизненного цикла дистрибутива RHEL 8, который продлится до 2029 года. Стагнация в разработке сервера X.Org наблюдается уже сейчас - несмотря на применявшийся ранее шестимесячный цикл формирования релизов, последний значительный выпуск X.Org Server 1.20 был опубликован 14 месяцев назад, а подготовка выпуска 1.21 буксует на месте. Ситуация может измениться, если какая-то компания или сообщество возьмут на себя продолжение наращивание функциональности сервера X.Org, но, с учётом повсеместного сдвига существенных проектов в сторону Wayland, маловероятно, что желающие найдутся. Основное внимание Red Hat в настоящее время уделяет улучшению работы рабочего стола на базе Wayland. Перевод сервера X.Org в режим сопровождения ожидается после решения задачи по полному удалению зависимости от компонентов X.Org и обеспечению запуска GNOME Shell без использования XWayland, что требует рефакторинга или удаления остающихся привязок к X.org. Подобные привязки уже почти исключены из GNOME Shell, но пока ещё остаются в демоне GNOME Setting. В GNOME 3.34 или 3.36 планируется полностью избавиться от привязок к X.Org и организовать запуск XWayland динамически, при появлении необходимости в компонентах для обеспечения совместимости с X11. Также упоминается необходимость решения ряда остающихся проблем с Wayland, таких как работа с проприетарными драйверами NVIDIA и доработка DDX-сервера XWayland для обеспечения качественного запуска X-приложений в окружении на базе Wayland. Из проводимых в рамках подготовки Fedora 31 работ отмечается реализация в XWayland возможности запуска X-приложений с привилегиями root. Подобный запуск сомнителен с точки зрения безопасности, но необходим для обеспечения совместимости с X-программами, которым работа с повышенными привилегиями необходима. Другой задачей является улучшение поддержки Wayland в библиотеке SDL, например, для решения проблем с масштабированием при запуске старых игр, работающих в низких разрешениях экрана. Также отмечается необходимость улучшения поддержки работы Wayland в системах с проприетарными драйверами NVIDIA - если Wayland уже давно может работать поверх таких драйверов, то XWayland в такой конфигурации пока не может использовать средства для аппаратного ускорения 3D-графики (планируется предоставить возможность загрузки x.org-драйвера NVIDIA для XWayland). Дополнительно отмечается продолжение работы по замене PulseAudio и Jack на мультимедийный сервер PipeWire, расширяющий возможности PulseAudio средствами для работы с потоками видео и обработки звука с минимальными задержками с учётом потребности систем профессиональной обработки звука, а также предлагающий расширенную модель безопасности для управления доступом на уровне отдельных устройств и потоков. В рамках цикла разработки Fedora 31 работа сосредоточена в области применения PipeWire для организации совместного доступа к экрану в окружениях на базе Wayland, в том числе с использованием протокола Miracast. В Fedora 31 также планируется добавить возможность запуска Qt-приложений в сеансе GNOME на базе Wayland с использованием плагина Qt Wayland вместо плагина XCB, использующего X11/XWayland.