Релиз языка программирования Go 1.13

Представлен релиз языка программирования Go 1.13, который развивается компанией Google при участии сообщества как гибридное решение, сочетающее высокую производительность компилируемых языков с такими достоинствами скриптовых языков, как лёгкость написания кода, быстрота разработки и защищённость от ошибок. Код проекта распространяется под лицензией BSD. Синтаксис Go основан на привычных элементах языка Си с отдельными заимствованиями из языка Python. Язык достаточно лаконичен, но при этом код легко читается и воспринимается. Код на языке Go компилируется в обособленные бинарные исполняемые файлы, выполняемые нативно без использования виртуальной машины (модули профилирования, отладки и другие подсистемы выявления проблем на этапе выполнения интегрируются в виде runtime-компонентов), что позволяет добиться производительности, сопоставимой с программами на языке Си. Проект изначально разрабатывается с оглядкой на многопоточное программирование и эффективную работу на многоядерных системах, в том числе предоставляя реализованные на уровне операторов средства для организации параллельных вычислений и взаимодействия между параллельно выполняемыми методами. Язык также предоставляет встроенные средства защиты от выхода за допустимые области выделенных блоков памяти и обеспечивает возможность использования сборщика мусора. Основные новшества, представленные в выпуске Go 1.13: В пакете crypto/tls включена по умолчанию поддержка протокола TLS 1.3. Добавлен новый пакет "crypto/ed25519" с поддержкой цифровых подписей Ed25519; Добавлена поддержка новых префиксов цифровых литералов для определения двоичных чисел (например, 0b101), восьмеричных (0o377), мнимых (2.71828i) и шестнадцатеричных с плавающей запятой (0x1p-1021), а также обеспечена возможность использования символа "_" для наглядного разделения цифр в больших числах (1_000_000); Снято ограничение на использование только беззнаковых счётчиков в операциях сдвига, что позволяет избежать лишних преобразований в тип uint перед использованием операторов "<<" и ">>"; Добавлена поддержка платформы Illumos (GOOS=illumos). Обеспечена совместимость с платформой Android 10. Повышены требования к минимальным версиям FreeBSD (11.2) и macOS (10.11 "El Capitan") Продолжено усовершенствование новой системы модулей, которую можно применять в качестве альтернативы GOPATH. Вопреки ранее озвученным планам в Go 1.13 данная система так и не включена по умолчанию и требует активации через переменную GO111MODULE=on или использования контекста, в котором модули применяются автоматически. Новая система модулей отличается интегрированной поддержкой версионирования, средствами доставки пакетов и улучшенной системой управления зависимостями. При помощи модулей разработчики больше не привязаны к работе внутри дерева GOPATH, могут явно определять зависимости с учётом версий и создавать повторяемые сборки. В отличие от прошлых выпусков автоматическое применение новой системы теперь срабатывает, когда при выполнении команды go в текущем рабочем каталоге или родительском каталоге присутствует файл go.mod, в том числе при нахождении в каталоге GOPATH/src. Добавлены новые переменные окружения: GOPRIVATE, определяющая пути публично недоступных модулей, и GOSUMDB, задающая параметры доступа к базе контрольных сумм модулей, не перечисленных в файле go.sum; В команде "go" по умолчанию обеспечена загрузка модулей и проверка их целостности, используя зеркало модулей и базу контрольных сумм, поддерживаемые компанией Google (proxy.golang.org, sum.golang.org и index.golang.org); Прекращена поддержка только бинарных пакетов, сборка пакета в режиме "//go:binary-only-package" теперь приводит к выводу ошибки; В команду "go get" добавлена поддержка суффикса "@patch", указывающего, что модуль должен быть обновлён до последнего корректирующего выпуска, но без смены текущей значительной или промежуточной версии; При извлечении модулей из систем контроля версий команда "go" теперь выполняет дополнительную проверку строки с номером версии, пытаясь сопоставить номера псевдо-версий с метаданным из репозитория; Добавлена поддержка инспектирования ошибок (error wrapping) через создание обёрток, позволяющих использовать типовые обработчики ошибок. Например, ошибка "e" может быть обёрнута над ошибкой "w" через предоставление метода Unwrap, возвращающего "w". Обе ошибки "e" и "w" доступны в программе и решения принимаются на основании ошибки "w", но "e" предоставляет дополнительный контекст к "w" или интерпретирует его по иному; Проведена оптимизация производительности runtime-компонентов (отмечается прирост скорости до 30%) и задействовано более агрессивное возвращение памяти в операционную систему (ранее память возвращалась через пять и более минут, а сейчас сразу после урезания размера кучи).