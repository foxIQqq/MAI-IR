Выпуск программы для профессиональной обработки фотографий Darktable 4.4

Опубликован релиз программы для организации и обработки цифровых фотографий Darktable 4.4, который приурочен к десятилетию с момента формирования первого выпуска проекта. Darktable выступает в роли свободной альтернативы Adobe Lightroom и специализируется на недеструктивной работе с raw-изображениями. Darktable предоставляет большую подборку модулей для выполнения всевозможных операций по обработке фотографий, позволяет вести базу исходных фотографий, осуществлять наглядную навигацию по имеющимся снимкам и при необходимости выполнять операции корректировки искажений и улучшения качества, сохраняя при этом исходный снимок и всю историю операций с ним. Код проекта написан на языке Си и распространяется под лицензией GPLv3. Интерфейс построен с использованием библиотеки GTK. Бинарные сборки подготовлены для Linux (OBS, flatpak), Windows и macOS. Основные изменения: Предоставлена возможность определения нескольких профилей, автоматически применяемых к одному модулю обработки. Применённые профили образуют новые экземпляры модулей, для определения связи с которыми метка соответствующего модуля автоматически добавляется к имени профиля. Для упрощения использования в профилях, стилях и буфере обмена переделаны параметры по умолчанию, применяемые в некоторых модулях обработки. Во многих модулях параметры по умолчанию теперь учитывают метаданные изображения или текущий рабочий процесс. Например, в модулях "экспозиция", "калибровка цвета", "ориентация" и "баланс белого" параметры выставляются на основе данных Exif. Настройка "Набор модулей по умолчанию" теперь формируется с учётом ранее выставленных настроек модели цветового пространства, например, можно использовать модули "Тональная кривая (плёночная)", "Тональная кривая (сигмоида)" и "Базовая кривая (старая)". В модуль масштабов добавлена опция для гармонизации цвета в режиме вектороскопа RYB, поддерживающая 9 режимов работы. Добавлена операция "нажатие правой кнопки и перетаскивание", позволяющая откорректировать поворот изображения без перехода к модулю "Повернуть и перспектива". Полностью переделан инструмент "Нарисованная маска". В 33 модулях обработки проведена оптимизация производительности, позволившая добиться ускорения работы от 5 до 40%. Ускорена работа многих внутренних процедур, например, ускорена реализация алгоритмов интерполяции, генератора гауссовой функции (используется при подавлении шумов), фильтра размытия, билатерального фильтра, режимов смешивания, расчёта яркостной маски, загрузки формата JPEG2000. Переписан код обработки цепочки модулей (Pixelpipe), что позволило заметно повысить производительности работы в режиме darkroom. В модуль "сигмоида" (Sigmoid) добавлена поддержка OpenCL. В загрузчик RGBE и код экспорта в формате XCF добавлена поддержка OpenMP. В модуле восстановления пересвеченных областей ("highlight reconstruction") добавлена поддержка OpenCL и возможность использования внутреннего кэша в режиме darkroom. В локальном фильтре Лапласа" на 40% снижено потребление памяти. Повышена отзывчивость виджетов и ползунков в интерфейсе. Внесены многочисленные улучшения в интерфейс, например, переделан диалог выбора фильтров в профиле, полностью переработан код цветовой пипетки, переработана визуализация гистограммы и модернизирован код вычисления гистограммы, переделаны виджет масштабирования и генератор миниатюр. Добавлена встроенная возможность чтения метаданных Exif из изображений AVIF, HEIC и JPEG XL. Возвращена поддержка чтения изображений в формате BigTIFF.