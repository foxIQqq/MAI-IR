Релиз Linux-дистрибутива Ubuntu 12.04. Обзор новшеств

Увидел свет релиз Linux-дистрибутива Ubuntu 12.04 "Precise Pangolin". Дистрибутив доступен в редакциях для десктопов, серверов и cloud-окружений. Загрузочные iso-образы с релизом Ubuntu 12.04 можно получить на данной странице, подготовлены образы CD (696 Мб) и DVD (1.6 Гб) для архитектур amd64 и i386, а также CD-сборки для ARM-систем Toshiba AC100/Dynabook AZ, Freescale i.MX5x, Texas Instruments OMAP3 и OMAP4. Одновременно выпущены релизы смежных проектов: Kubuntu (KDE 4.8), Xubuntu (Xfce 4.8), Lubuntu (LXDE), Mythbuntu, Edubuntu (с подборкой обучающего ПО) и Ubuntu Studio (для обработки мультимедиа информации). Новой версии присвоен статус LTS - релиза с длительным сроком поддержки. Время выпуска обновлений как для десктоп-редакции, так и для серверного варианта, составит пять лет (в прошлых LTS-выпусках десктоп-редакция поддерживалась три года). Из пяти лет первые два года дополнительно будут выпускаться обновления с реализацией поддержки нового оборудования, после чего оставшиеся три года будут выходить только обновления с исправлением критических ошибок и проблем безопасности. Расширенный выпуск обновлений также будет осуществлён для сборок Kubuntu, Xubuntu и Edubuntu. Обновления для пакетов, специфичных для указанных дистрибутивов (например, пакеты связанные с Xfce, Qt и KDE, а также обучающие и научные приложения), будут выпускаться в течение 5 лет для пакетов, поддерживаемых командами Kubuntu и Edubuntu, и 3 года для пакетов Xubuntu. Так как новая версия относится к релизам с длительным сроком поддержки, основное внимание было уделено обеспечению стабильности и развитию средств для упрощения использования дистрибутива в корпоративной среде. Значительные усилия были направлены на доработку и стабилизацию текущих достижений и возможностей. Тем не менее, несмотря на общий консерватизм выпуска и отсутствие прорывных новшеств (например, из-за LTS-статуса были отложены эксперименты по внедрению Wayland), в новой версии не обошлось и без значительных улучшений, особенно заметных в области повышения удобства работы в пользовательской оболочке Unity, а также развития средств обеспечения повышенной надёжности (mission-critical) и развёртывания/поддержания больших парков реальных и виртуальных систем в серверной версии. Много усилий было потрачено на превращения Ubuntu 12.04 в зрелую платформу для развёртывания облачных систем на базе Openstack. Более подробно об улучшениях: Десктоп Включена новая версия пользовательской оболочки Unity 5, в которой устранено множество ошибок и реализованы такие улучшения, как: Интегрирована поддержка новой системы 'Head-Up Display' (HUD), которая позволяет при нажатии клавиши Alt и последующем начале набора на клавиатуре перейти в режим быстрого ввода команд, в котором пользователю выводится поисковая строка, начало набора названия желаемых действия в которой приводит к автоматическому подбору и выводу наиболее вероятных названия программ из списка установленных приложений, а также элементов меню, представленных в штатном меню текущей активной программы или апплета. Система учитывает ранее успешно выбранные команды и предлагает их в первую очередь; Изменена реализация глобального меню - если раньше глобальное меню появлялось только после подведения курсора, то теперь меню остаётся видимым несколько секунд после запуска приложения, чтобы дать понять новичкам, что его следует искать в верхней панели. Заметно увеличена отзывчивость интерфейса; В кнопку Ubuntu добавлены ссылки для быстрого перехода по разделам в Lenses; В панель «Внешний вид» системных настроек добавлена вкладка «Поведение» для настройки автоскрытия панели запуска приложений Unity. В репозиторий добавлена программа MyUnity для более тонкой настройки параметров оболочки, например, можно настроить метод отображения глобального меню (отключить автоматическое скрытие меню) и поменять цвет фона Dash; В панель запуска приложений оболочки Unity добавлена поддержка быстрого вызова типовых функций файлового менеджера Nautilus (quicklist); Вместо Banshee в качестве музыкального плеера по умолчанию задействован Rhythmbox, в который добавлена поддержка сервиса UbuntuOne Music Store. Возвращение Rhythmbox вместо Banshee позволит упростить адаптацию пользователей, переходящих с прошлого LTS-релиза (Banshee был интегрирован в Ubuntu 11.04). Кроме того, Rhythmbox уже портирован для Gtk3+, в то время как портирование Banshee на Gtk3+ ещё не завершено; Улучшены средства для работы с облачным хранилищем Ubuntu One. В центр управления (Control Panel) добавлена поддержка добавления и удаления произвольных директорий для синхронизации. Реализована полнофункциональная поддержка прокси. Удалена возможность синхронизации списка контактов, удалена кнопка синхронизации из Nautilus. Реализована новая панель управления Ubuntu One, которая поддерживает операции по установке, настройке, добавлению и удалению директорий для синхронизации; При установке новых программ через Software Center отныне автоматически будут установлены и связанные с устанавливаемым приложением вспомогательные языковые пакеты (переводы, проверка орфографии, справка и т.п.), что избавляет пользователя от необходимости их дополнительной установки из секции "Language Support". В Software Center добавлена поддержка отображения нескольких скриншотов или видеодемонстрация для одного приложения. Представлен специальный web-каталог для обмена с друзьями ссылками на интересные программы. Улучшена поддержка установки из ubuntu-backports нескольких версий одного приложения. Ускорена работа и отзывчивость интерфейса; Обновлены версии десктоп-приложений, в том числе в поставку включён LibreOffice 3.5.2 и компоненты GNOME 3.4.1. В поставку включены Firefox и Thunderbird 11 (обновление до Firefox 12 уже доступно через Менеджер обновлений). В Центре Приложений доступна программа уведомлений Unity Mail, интегрированная с оболочкой Unity; Добавление в штатный конфигуратор Ubuntu средств для управления частной информацией, при помощи которых пользователь может запретить ведение лога своей деятельности (интегрированная с Unity подсистема GNOME activity journal на базе Zeitgeist), почистить существующие логи с историей работы в различных приложениях (~/.bash_history, ~/.viminfo), удалить данные о входах в систему (/var/log/auth.log). Дополнительно можно ограничить область ведения журнала деятельности пользователя, например, не записывать данные о работе в системе мгновенных сообщений или не вести лог для операций с заданными директориями; По умолчанию в качестве клиента для организации доступа к удаленному рабочему столу задействована программа Remmina, вместо ранее используемых Vinagre и rdesktop. Приложение Remmina написано с использованием библиотеки GTK+ и поддерживает расширение функциональности через подключение плагинов (доступны плагины для протоколов RDP, VNC, NX, XDMCP, SSH, Telepathy); Системные изменения Ядро Linux обновлено до версии 3.2.14 (3.2.0-23.36). Среди специфичных для Ubuntu особенностей пакета с ядром можно отметить: Ядро для платформы amd64 теперь поставляется в виде единого пакета, без разделения на -generic и -server, которые решено объединить с целью упрощения поддержки в рамках длительного цикла поддержки; в DRM-драйвере i915 по умолчанию активирован режим энергосбережения RC6 для видеокарт Intel на базе архитектуры Sandy Bridge. Режим RC6 позволяет практически до нуля снизить потребление энергии во время неактивности GPU. При тестировании при включении RС6 на ненагруженных системах отмечается общее падение энергопотребления на 40-60%. Наблюдаемые ранее проблемы при активации RC6 успешно решены компанией Intel; Добавлена поддержка seccomp filter, интересного механизма ограничения доступа к системным вызовам для приложений. Особенностью seccomp filter является определение правил доступа к системным вызовам в BPF-представлении (Berkley Packet Filter), активно используемом для фильтрации сетевых пакетов. BPF позволяет реализовывать достаточно сложные правила доступа, например, учитывающие передаваемые и возвращаемые аргументы. В простейшем случае в код программы добавляется структура с перечнем допустимых системных вызовов (ALLOW_SYSCALL) и реакции в случае несовпадения (например, KILL_PROCESS). Для определения используемых системных вызовов следует использовать правило EXAMINE_SYSCALL. Программа сама определяет какие системные вызовы ей необходимы, все остальные системные вызовы блокируются, что позволяет ограничить возможности атакующего в случае эксплуатации уязвимости в защищённом при помощи seccomp filter приложении. Кроме Ubuntu, система seccomp filter скоро будет интегрирована в Chrome OS; Из ветки 3.3: бэкпортированы патчи для определения аудио разъёмов (например, для выставления разного уровня громкости для наушников и колонок); Добавлены патчи для исправления ошибок, связанных с работой kexec на платформах ARM; Проведена ревизия конфигураций ядра, например, CONFIG_PANEL_DVI=y для omap, CONFIG_EXT2_FS=m (поддержка ext2 будет в виде модуля) и CONFIG_SATA_AHCI=y; Добавлены дополнительные драйверы для тачпадов ALPS; Поддержка AUFS объявлена устаревшей и в будущем будет прекращена, пользователям данной ФС рекомендуется перейти на использование похожей по возможностям OverlayFS; Обновлены патчи с поддержкой технологии мандатного контроля доступа AppArmor. В поставку включена новая версия системы инициализации Upstart 1.5, в которой кроме исправления ошибок представлено несколько новшеств: поддержка параметров "setuid" и "setgid" для организации запуска отдельных сервисов под заданным пользователем; изменение ведения логов, отражающих выполнение сервисов (весь вывод при выполнении сервисов по умолчанию сохраняется в файлы "/var/log/upstart/имя_сервиса.log", которые подвергаются ежедневной ротации; настройка ведения логов производится через параметр console или через опции "--default-console", "--logdir" и "--no-log"); улучшена работа "upstart-udev-bridge" в направлении работы с оборудованием, выводящим некорректные данные; добавлена команда initctl notify-disk-writeable; Внесена большая порция оптимизаций, нацеленная на продление времени работы от аккумулятора. Например, в состав pm-utils включено два новых скрипта для прекращения питания USB и PCI-устройств при активации режима автономной работы; Для определения имён DNS задействован легковесный кэширующий DNS-сервер dnsmasq, что, например, позволило добавить в Network Manager возможность использования других DNS-серверов для отдельных VPN-каналов; Обновлены версии программ, в том числе: GCC 4.6.3, binutils 2.22, eglibc 2.15, OpenJDK 6b24 и OpenJDK 7u3; Обновлены пакеты с Python 2.7 и Python 3.2. В поставку включены новые пакеты для Python 3: python-dbus, python-feedparser, germinate, lazr.ui, wadllib, python-defer, python-keyring, python-qt4. Поддержка Python 2.6 прекращена; Поддержка устройств ClickPad, отличающихся от обычных тачпадов интеграцией физических кнопок непосредственно в поверхность тачпада. Поддержка ClickPad в Ubuntu позволяет продолжить перемещение курсора при удержании в нажатом виде таких кнопок. В настоящее время поддерживается большинство ClickPad от компании Synaptics, а также аналогичные тачпады Apple MacBook. Поддержка устройств Apple Magic Trackpad и дополнительных моделей Synaptics ожидается в следующем выпуске; Для увеличения совместимости с Debian группа "admin" была заменена на "sudo". Вхождение в нее позволяет пользователям выполнять привилегированные операции через утилиту sudo. Поддержка группы admin оставлена для обеспечения совместимости с прошлыми выпусками; В Network Manager достигнута эквивалентная поддержка IPv6 и IPv4, для создания работающего соединения более не обязательно наличие IPv4 адреса; Kubuntu, Xubuntu и другие альтернативные сборки В Kubuntu осуществлён переход на KDE 4.8 и Qt 4.8. Интегрирована поддержка Telepathy с возможностью мгновенного обмена сообщениями с пользователями Facebook, MSN, GMail и других сервисов. Добавлен набор виджетов Oxygen-GTK3 для обеспечения бесшовного запуска GTK-приложений в окружении KDE. Добавлена ownCloud 3, система для организации хранения, синхронизации и обмена данными, размещёнными на внешних серверах (аналог Dropbox). В качестве менеджера входа в систему задействован порт LightDM для KDE. В поставку включён релиз офисного пакета Calligra 2.4 и среда разработки KDevelop 4.3. Из версий приложений можно отметить: Amarok 2.5, Rekonq 0.9, Muon Suite 1.3; Силами проекта Kubuntu подготовлена сборка "Kubuntu Active" с окружением Plasma Active, ориентированная для использования на планшетных ПК;Сборка пока доступна только для планшетов на базе архитектуры x86, таких как WeTab, ExoPC, ViewSonic ViewPad и Lenovo Idea Pad. В будущем не исключено создание версии для архитектуры ARMv7. Пользователям Ubuntu также предоставлена возможность установить окружение Plasma Active используя мета-пакет kubuntu-active-meta; В Xubuntu задействован новый инсталлятор Ubiquity и редактор меню Alacarte. Также отмечаются многочисленные оптимизации интерфейса и исправления, связанные с работой GTK3. Обновлена визуальная тема. В xfdesktop4 добавлена поддержка открытия элементов по одному клику и вывода эскизов на рабочий стол. В конфигуратор xfce4-settings портированы некоторые новшества (например, настройка мыши и тачпада) из экспериментальной ветки Xfce 4.9. Добавлены обновления и патчи для xfce4-power-manager, Ristretto и gmusicbrowser. Для архитектуры i386 задействовано ядро Linux без поддержки PAE, с целью обеспечения работы на как можно большем числе машин; В Lubuntu задействован стандартный менеджер установки программ software-center, для управления входа в систему теперь используется LightDM; В Ubuntu Studio по умолчанию задействовано ядро Linux с патчами для увеличения отзывчивости. Завершена миграция на окружение Xfce. Улучшена интеграция Pulse Audio и JACK; Сформирована сборка для архитектуры armhf (ARM hard-float), которая теперь используется по умолчанию. Поддержка armel сохранена в качестве опции. Готовые сборки сформированы только для armhf, за исключением поддерживаемых сообществом версий для omap3 и ac100; В Edubuntu произведено обновление пакета для организации работы тонких клиентов LTSP 5.3, улучшено качество реализации LTSP-Live. Представлен новый интерфейс для управления учебным процессом Epoptes; Mythbuntu перешёл на релиз медиацентра MythTV 0.25; Для OEM-производителей предлагается создание сборок Ubuntu для Android и Ubuntu TV, а также варианты дистрибутива Ubuntu IVI для использования в автомобильных информационно-развлекательных системах; Для корпоративного сектора предложена специализированная сборка Ubuntu Business Desktop Remix, отличающаяся от базового варианта Ubuntu Desktop иной подборкой представленных по умолчанию приложений. В состав установочного образа новой сборки включены программы, наиболее часто используемые на предприятиях и интересные для корпоративных пользователей. Вместо программ, интересных только пользователям домашних ПК и разработчикам, таких, как игры, музыкальные плееры, приложения для интеграции с социальными сетями, торрент-клиенты и инструменты для разработчика, в состав сборки включена подборка бизнес-приложений, включая такие компоненты, как Adobe Flash Plugin, VMware View, OpenJDK 6. Сервер В состав дистрибутива интегрирован инструментарий MAAS (Metal-as-a-Service), предназначенный для быстрого и удобного развертывания Ubuntu-конфигураций на множестве серверов с использованием техник, используемых в облачных платформах. Как и облачные решения, MAAS позволяет представить кластер серверов в виде пула ресурсов, которые могут быть запрошены в любой момент времени. Но, в отличие от облачных платформ, выделение ресурсов на таком кластере происходит на уровне физических серверов, а не виртуальных окружений. В основе MAAS лежит идея PXE-загрузки и инструмент Juju, который позволяет выполнять операции по развёртыванию сервисов, используя привычную семантику пакетного менеджера APT. Постоянно растущая коллекция типовых сервисов, поддерживаемых в Juju, позволяет сразу использовать готовые решения для развёртывания различных программ в облачной инфраструктуре, на обычных серверах, не использующих виртуализацию, или на рабочей машине разработчика, использующего LXC-контейнеры для тестирования решений перед их развёртыванием в облаке; Добавление специализированного прокси-сервера AWSOME (Any Web Service Over ME), позволяющего на лету транслировать запросы в формате AWS API (Amazon Web Services API) к облачным сервисам на базе API OpenStack. AWSOME призван существенно упростить миграцию с внешних облачных окружений Amazon на локальные облачные платформы или конкурирующие сервисы на базе OpenStack; В поставку включён релиз облачной платформы OpenStack Essex. Подготовлены дополнительные средства для автоматизации развёртывания готовых систем на базе OpenStack через Juju Сharms. Улучшена поддержка легковесных изолированных контейнеров LXC. Добавлена возможность запуска внутри изолированного контейнера штатных образов Ubuntu 12.04. Поддержка использования в контейнерах хранилищ на базе lvm и btrfs. Создание шаблона ubuntu-cloud для быстрого формирования содержимого LXC-контейнера на основе опубликованных образов Ubuntu Cloud; Обеспечена официальная поддержка гипервизора Xen, в том числе для обеспечения работы в качестве хоста (dom0). Обеспечена поддержка libvirt и управляющих фронтэндов, использующих данный API. Для оптимизации установки гостевых систем в режиме аппаратной виртуализации (HVM) в состав включён набор паравиртуальных драйверов; Обеспечена поддержка системы виртуализации KVM 1.0 для архитектуры x86, в том числе с поддержкой создания вложенных виртуальных окружений. Добавлена поддержка формата образов QED и протокола AHCI. API для управления переводом окружений в спящий режим, настройки STP и VLAN, управления пропускной способностью сети и выделением ресурсов CPU через использование libvirt; Расширены средства сопровождения серверов и развёртывания сервисов. Cистема идентификации Keystone обновлена до сокращённой ветки Keystone-light; Подготовлен PPA-репозиторий с пакетами для развёртывания хранилищ на базе Hadoop; Вместо squid 2.7 теперь предлагается пакет squid3; В репозиторий Universe добавлены пакеты с Zentyal и Resara (реализация контроллера Windows-домена на базе Samba4. В Universe также обновлены пакеты с Apache Tomcat 7.0.26, OpenJDK 7, Groovy 1.8.6, Apache ActiveMQ 5.5.0, Jenkins 1.424.6, Scala 2.9.1, Clojure 1.1.0; По просьбе компании Eucalyptus из дистрибутива удалёна облачная платформа Eucalyptus 2.0.1; Добавлен OpenMPI 1.5 с поддержкой платформы ARM;