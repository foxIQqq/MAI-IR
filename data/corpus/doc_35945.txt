Wayland добавлен в зависимости пакета GTK+ из состава Ubuntu 13.04

В репозиторий пакетов, на основе которого формируется релиз Ubuntu 13.04, добавлена обновлённая версия пакета gtk+3.0 3.6.4-0ubuntu2 в который отныне вкомпилирована поддержка GDK-бэкенда для организации вывода с использованием Wayland. Штатная поставка бэкенда для Wayland отразилась тем, что в число зависимостей для пакета с GTK+ 3 теперь включена библиотека libwayland. Таким образом, пользователи Ubuntu 13.04 смогут без необходимости ручной пересборки GTK+ 3 запускать любые GTK-приложения c использованием Wayland. Перед запуском программы достаточно активировать бэкенд через переменную окружения "GDK_BACKEND=wayland", установить композитный сервер Weston из репозитория и запустить его из консоли через команду weston-launch. Из работающих с бекендом Wayland приложений, входящих в базовую поставку, отмечаются: gnome-calculator, baobab, charmap, gwibber, file-roller, brasero и gnome-sound-recorder. Не удалось запустить, в основном из-за использования специфичных функций библиотеки xlib: gnome-terminal, gedit, gnome-sudoku, gnome-system-monitor, rhythmbox, nautilus, totem, chromium, firefox, xchat, vlc. Напомним, что ранее планировалось включать в состав Ubuntu 12.10 реализацию графического окружения, построенного поверх дисплейного сервера Wayland и композитного сервера Weston, но, позднее план был отложен до более поздних выпусков Ubuntu. Основным мотивом перехода на Wayland, кроме повышения производительности вывода вследствие более простой архитектуры и исключения лишней буферизации, является желание обеспечить бесшовную работу единого графического режима на протяжении всех стадий работы дистрибутива, включая: загрузку, вход в систему и завершение работы. При этом, по умолчанию по прежнему будет обеспечено выполнение классических X11-приложений при помощи прослойки XWayland, позволяющей запустить полноценный X.Org-сервер в роли клиента Wayland. Постепенно, по мере готовности, в дистрибутив будут добавляться программы собранные для прямой работы поверх Wayland. В то же время, можно отметить релиз протокола, механизма межпроцессного взаимодействия и библиотек Wayland 1.0.4, а также, развиваемого в рамках проекта эталонного композитного сервера Weston 1.0.4. Представленные версии полностью совместимы с прошлыми выпусками веток Wayland 1.0.x и Weston 1.0.x и содержат только исправление ошибки в коде Weston, приводящей к излишней нагрузке на CPU.