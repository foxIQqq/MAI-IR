Релиз Solaris 11.4

После трёх лет разработки компания Oracle опубликовала релиз операционной системы Solaris 11.4. Установочные образы доступны для архитектур x86_64 и SPARC. Начиная с Solaris 11.4 осуществлён переход на новую модель разработки, в соответствии с которой новые значительные выпуски Solaris 11 теперь будут выпускаться раз в год, а новые возможности будут предлагаться по мере готовности и доставляться через ближайший канал доставки, например, могут быть включены в сервисные обновления (SRU), CPU (critical patch update) или релиз. Релизы Oracle Solaris 11 будут включать как все новшества, раннее доставленные в обновлениях SRU, так и ранее недоступные новшества, которые признаны готовыми к моменту формирования релиза. В релизах также будут доставляться обновления версий сторонних открытых компонентов, входящих в состав Solaris. Основные новшества: Добавлен инструментарий для изолированного запуска привилегированных и непривилегированных приложений, позволяющий ограничить доступ приложения к локальным ресурсам с учётом контекста использования данной программы. Например, администратору БД можно предоставить возможность работы только с выборочными базами данных, запретив доступ к файлам остальных БД. Настройка изолированных окружений производится утилитой sandboxadm, а для запуска приложений в этих окружениях предложена команда sandbox; Из OpenBSD портирован код пакетного фильтра PF, который пришёл на смену пакетному фильтру IP Filter (IPF). Также перенесён демон pflogd для сохранения данных о трафике (содержимом пакетов) и ftp-proxy для создания прокси-сервисов для доступа к FTP c пробросом соединений через NAT; В файловой системе ZFS улучшена поддержка репликации, реализуемой командой "send streams", для создания архивов и резервных копий. Добавлена поддержка потоков в RAW-режиме (позволяет передавать сжатые данные) и улучшена работа дедупликации. Обеспечена возможность возобновления прерванных операций send и receive. Представлены средства для ограничения пропускной способности для операций Read и Write. Добавлена поддержка вызовов e reflink() и reflinkat() для быстрого копирования файлов без дублирования содержимого. Добавлена возможность асинхронного удаления частей ФС, позволяющая существенно ускорить выполнение операций удаления больших наборов данных; Добавлен новый механизм для автоматической защиты ключевых приложений и ядра системы при помощи технологии Oracle SPARC Silicon Secured Memory, предоставляющей аппаратные механизмы для защиты программ от несанкционированного доступа к памяти (используется техника установки и проверки меток для выделенной памяти и обращающихся к ней указателей). Режим по умолчанию включен для ядра, а для приложений может быть активирован при помощи утилиты sxadm; Для архитектуры x86 добавлена поддержка режима UEFI Secure Boot и возможность защищённой сетевой загрузки из внешних сетей (WANboot); Упрощены сборка, управление внесением изменений и запуск защищённых сервисов в окружениях, не меняющих своё состояние (read-only); Улучшены средства для миграции изолированных зон между разными системами при помощи совместно используемых хранилищ, таких как NFS. Добавлена функция реконфигурации зоны на лету (live), позволяющая добавлять данные без перезагрузки. Обеспечена возможность установки порядка загрузки зон через определение зависимостей между зонами; Добавлена возможность гранулированного ограничения доступа через привязку меток к файлам и каталогам и предоставление доступа отдельным процессам; Добавлена поддержка cloudbase-init для начальной настройки гостевых систем; Добавлены поддержка NFS Server 4.1, возможность монтирования NFSv3 поверх TCP и режим планового восстановления NFS-клиента, позволяющий снизить время простоя клиента при перезагрузке NFS-серверов. Добавлена поддержка протокола SMB 3.0; Проведены оптимизации для увеличения производительности СУБД Oracle и Java; Представлено новое хранилище статистики StatsStore, в котором отражаются изменения состояния системы и различные события. Для просмотра и анализа накопленной статистики, параметров системы и сведений о производительности предложен web-интерфейс Web Dashboard Analytics, наглядно отображающий информацию в форме графиков; Модернизированы встроенные средства аудита безопасности и автоматизирована генерация комплаенс-отчётов. Добавлена возможность аудита на уровне отслеживания доступа к отдельным файлам, аудита верифицированной загрузки, просмотра истории выполнения привилегированных программ; В системный менеджер SMF добавлен новый тип сервисов Goal, который можно использовать в качестве единого механизма для мониторинга за группой сервисов. В SMF добавлена утилита svc-create-first-boot для создания сервисов для первой загрузки. Добавлен RAD API для управления режимом автоматической установки; Добавлена утилита sysadm для управления переводом системы в режим обслуживания; Добавлен режим (dehydrate в archiveadm) для создания унифицированных архивов, избавленных от лишних данных (можно удалять произвольные части ОС из архива), которые позволяют сократить размер архива и упростить перемещение в другие облачные окружения; В состав включена библиотека libucrypto с поддержкой механизмов для аппаратного ускорения операций шифрования. Oracle Solaris Cryptographic Framework обновлён до версии PKCS #11 v2.40 (ранее поддерживался PKCS #11 v2.20) с поддержкой цифровых подписей и шифрования на базе алгоритма AES, а также хэшей SHA-512 и протокола TLS 1.2; Обеспечено повсеместное использование шифрования с возможностью получения ключей с серверов при помощи протокола OASIS KMIP (Key Management Interoperability Protocol); Для разработчиков предоставлена поддержка стандарта C11, добавлена библиотека libproc для разбора /proc, расширена поддержка локали, в Dtrace и pstack добавлена поддержка отладочного формата DWARF, в DTrace добавлены провайдеры SCSI, MIB и fileops; Возможность использования команды "zpool remove" для удаления из пула первичных устройств хранения ZFS. Данные из удаляемого устройства автоматически будут перенесены на устройства, остающиеся в пуле. Прогресс переноса данных перед удалением можно оценить при помощи команды "zpool status"; Режим проверки (Scrub) ZFS-пула по расписанию. По умолчанию процесс фоновой проверки целостности пула теперь запускается раз в 30 дней и автоматически корректирует приоритет выполнения данной операции, в зависимости от нагрузки в системе. Посмотреть время последней проверки можно командой "zpool status"; Поддержка протокола SMB 3.1.1, в котором появилась возможность прозрачного переключения клиента на резервный хост в случае сбоя (Transparent Failover) и режим многоканальной передачи данных с использованием нескольких разных сетевых соединений; В команду compliance добавлена поддержка Oracle Solaris Cluster; Добавлен пакет ssh-ldap-getpubkey для организации аутентификации в SSH с хранением публичных ключей в LDAP; Добавлены пакеты с LLVM/Clang, компилятором языка Go, Augeas, Cython, Python-модулем cx_Oracle, MCollective, ODPI-C (Oracle Database Programming Interface-C) и фильтрами печати paps; Пользовательское окружение обновлено до версии GNOME 3.24 (раньше предлагался GNOME 2.30). В графическом стеке задействован X.org Server 1.19 (был 1.14); Обновлены версии программ, в том числе GCC 7.3, ISC BIND 9.10, MySQL 5.7, Open Fabric Enterprise Distribution 3.18, Oracle Instant Client 12.2, Perl 5.26, Puppet 5.5, Python 3.5. Добавлена поддержка Unicode 8.0. Прекращена поддержка систем на базе процессоров SPARC T1, T2 и T3, а также SPARC64 VII+ и систем Sun4u, таких как SPARC Enterprise M4000.