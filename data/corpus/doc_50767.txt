Выпуск растрового графического редактора Krita 4.2.0

Представлен релиз растрового графического редактора Krita 4.2.0, развиваемого для художников и иллюстраторов. Редактор поддерживает многослойную обработку изображений, предоставляет средства для работы с различными цветовыми моделями и обладает большим набором средств для цифровой живописи, создания скетчей и формирования текстур. Для установки подготовлены самодостаточные образы в форматах AppImage и Flatpak для Linux, PPA для Ubuntu, а также бинарные сборки для macOS и Windows. Основные улучшения: Унифицирован код для поддержки планшетов на платформах Windows, Linux и macOS. Специфичный для Krita код совмещён с возможностями по использованию планшетов, предоставляемых библиотекой Qt. В итоге удалось улучшить рисование с использованием планшета в многомониторных конфигурациях, расширить спектр поддерживаемых моделей планшетов и устранить ранее наблюдавшиеся проблемы. В процессе работы для Qt была подготовлена серия патчей, которые переданы в upstream, но пока недоступны в дистрибутивах Linux. Для Linux рекомендовано устанавливать Krita из пакета AppImage, в состав которого входит Qt с необходимыми изменениями; Реализована поддержка расширенного динамического диапазона (HDR), позволяющего использовать в изображении градации яркости, которые невозможно отобразить на обычном мониторе из-за технических ограничений оборудования, неспособного передать все диапазоны яркости, воспринимаемые глазом. До сих пор Krita мог загружать HDR-изображения, но нормализуя и обрабатывая как обычные изображения. Начиная с выпуска 4.2.0 появилась возможность просмотра, создания и редактирования подобных изображений в режиме HDR при наличии соответствующего оборудования. Поддержка HDR пока доступна только на платформе Windows 10. HDR-изображения можно сохранять в форматах KRA (Krita), OpenEXR и PNG. При наличии новых версий FFmpeg также можно создавать анимированные изображения в HDR; Увеличена производительность работы кистей за счёт векторизации на GPU и избавления кода от блокировок. Для обработки пиксельных данных задействованы хэш-таблицы, работающие без блокировок (lock-free hashmap), которые позволили заметно поднять скорость многопоточной обработки данных на многоядерных системах. Применение векторных инструкций реализовано для Гауссовской и мягкой кистей и позволяет снизить нагрузку на CPU; Улучшена панель работы с палитрой (Color Palette Docker). Компоновка панели изменена с многострочной на табличную из произвольного числа строк и столбцов. Стабилизированы манипуляции с цветами в режиме drag&drop и упрощено добавление записей через клик. Добавлена возможность оставления пустых элементов для повышения наглядности блоков. Реализована возможность помещения палитры в файл KRA; Добавлен API для управления анимацией из скриптов на языке Python, позволяющий создавать собственные плагины, работающие с анимацией. Поддерживаются такие операции как переход к определённому кадру, установка частоты кадров и задание начала и конца воспроизведения. На базе предложенного API уже подготовлено несколько плагинов, например, Animator Video Reference для извлечения произвольных кадров из видео и Sprite Sheet Manager для экспорта в таблицу спрайтов; Добавлен блок настроек для управления созданием резервных копий файлов. Например, можно определить отдельный каталог для сохранения резервных копий, настроить частоту автозаписи, указать число хранимых копий и включить дополнительные опции для сжатия очень больших файлов; Добавлена новая панель с цветовыми масками (Color Gamut Mask), позволяющими ограничить отображаемые цвета. Можно свободно вращать представление маски, создавать новые маски и редактировать существующие; На стртовую страницу добавлен виджет с новостями с сайта проекта Krita; Добавлены новые опции и проведена чистка интерфейса художественного выбора цвета (Artistic Color Selector). Реализован непрерывный режим, активируемый при нажатии на символ бесконечности и позволяющий избавиться от резкого изменения атрибутов. Добавлена опция для применения цветовых масок; Добавлена поддержка ведения истории изменений для пошаговой отмены действий (undo) с инструментом перемещения блоков (теперь можно отменить несколько перемещений подряд); В инструмент выделения добавлена возможность перемещения, вращения и трансформации выделенных областей, а также редактирования опорных точек и выполнения таких операций, как скругление углов; Улучшен индикатор потребления памяти, позволяющий вовремя распознать операции для выполнения которых в системе недостаточно памяти; Улучшена обзорная панель, в которую добавлена поддержка операций для быстрого поворота и зеркального отражения холста, а также настройки соотношения сторон; Добавлена возможность масштабирования миниатюр в списке слоёв; Усовершенствована мультикисть (Multibrush). Улучшен предпросмотр при отображении нескольких осей. Добавлен новый режим "Copy Translate", позволяющий задать несколько курсоров на экране для синхронного рисования дубликатов; Существенно увеличена производительность операций выделения областей с использованием обычных кистей при помощи опции "Global Selection"; Улучшено выделение непрозрачных областей. Для выделения содержимого всего слоя теперь можно кликнуть на миниатюре слоя с нажатой клавишей Ctrl (аналог выбора "Select Opaque" в контекстном меню). Добавлены дополнительные режимы выделения - Ctrl+shift+click для добавления выделения, Ctrl+alt+click для исключения выделения и Ctrl+shift+alt+click для пересечения выделения; Добавлена новая опция "Sharpness", позволяющая контролировать порог резкости давлением на кисть. При помощи новой опции можно на основе любой пиксельной кисти симулировать щетинную кисть; Работа с параметрами кистей Flow и Opacity приближена к поведению других приложений (через меню Configure Krita → General → Tools → Flow Mode можно вернуть старое поведение); В клонирующую кисть добавлена опция для сброса в исходное состояние после каждого мазка кистью; Добавлен симплексный генератор шума, позволяющий добавить зашумление в документ, в том числе мозаичным шумом; Добавлены новые режимы смешивания, позволяющие создавать различные эффекты.