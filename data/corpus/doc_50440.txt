Выпуск системы мониторинга Zabbix 4.2

После 6 месяцев разработки представлена новая версия системы мониторинга с открытым исходным кодом Zabbix 4.2. Вышедший релиз включает существенные улучшения стадии предварительной обработки (препроцессинга) данных, встроенную поддержку сбора данных с экспортеров Prometheus, возможность использования JavaScript в препроцессинге, поддержку TimescaleDB для хранения метрик, официальные пакеты для платформ Windows, MacOS, RasperryPI и SUSE и многое другое. Код проекта распространяется под лицензией GPLv2. Напомним, что Zabbix состоит из трёх базовых компонентов: сервера для координации выполнения проверок, формирования проверочных запросов и накопления статистики; агентов для осуществления проверок на стороне внешних хостов; фронтэнда для организации управления системой. Для снятия нагрузки с центрального сервера и формирования распределённой сети мониторинга может быть развёрнута серия прокси-серверов, агрегирующих данные о проверке группы хостов. Данные могут храниться в СУБД MySQL, PostgreSQL, DB2 и Oracle. Без агентов Zabbix-сервер может получать данные по таким протоколам как SNMP, IPMI, JMX, SSH/Telnet, ODBC, проводить тестирование доступности Web-приложений и систем виртуализации. Основные нововведения: Сбор метрик из текстового формата экспортеров Prometheus с поддержкой низкоуровнего обнаружения; Новые возможности препроцессинга: Создание пользовательских обработчиков на JavaScript; Механизм тротлинга (throttling), который позволяет очень часто опрашивать статусы (health checks), но записывать в базу значения только в момент изменения; Поддержка валидация входных данных: по регулярным выражениям, интервалу значений, JSONPath и XMLPath; Обработка ошибок. При сбое значение можно проигнорировать, измененить значение или добавить сообщение об ошибке; Тестирование препроцессинга прямо из веб-интерфейса для быстрой отладки; Улучшения низкоуровнего обнаружения (LLD); Поддержка препроцессинга в LLD. Вместе с поддержкой JavaScript и HTTP агента дает возможность выполнять обнаружение не прибегая к внешним скриптам во многих случаях; Правило обнаружения может быть зависимой метрикой (dependent item), что поможет избежать двойных запросов к наблюдаемым системам; Поддержка JSON-массивов как источника, вместо более строгих требований к формату в прошлых версиях; Улучшения производительности системы: Экспериментальная поддержка timeseries хранилища TimescaleDB с автоматическим партицированием Выполнение препроцессинга на узлах Zabbix proxy Улучшения веб-интерфейса: Показ временной метки при наведении мышкой на график Переработан алгоритм для изменения порядка расположения виджетов в dashboard Поддержка новых макросов в пользовательских URL на картах сети Поддержка анимированных GIF изображений на картах Расшириенный фильтр в конфигурации триггеров Возможность массового изменения параметров прототипов метрик Улучшения обнаружения узлов сети: Гибкая авторегистрация устройств с фильтрацией имён устройств по регулярному выражению Возможность задавать имена устройств при сетевом обнаружении (network discovery), используя значения полученных метрик Улучшения оповещений: Проверка работоспособности способов оповещения прямо из веб-интерфейса Поддержка формата HTML в отправляемых e-mail оповещениях Другие важные изменения: Поддержка тегов проблем на уровне узлов сети и шаблонов Удалённый мониторинг внутренних метрик Zabbix-сервера и прокси (метрик производительности и работоспособности компонентов Zabbix) Возможность извлечения данных из заголовков HTTP в веб-мониторинге, например, токенов авторизации, Zabbix sender теперь отправляет данные всем серверам, указанным в параметре ServerActive Добавлены официальные пакеты для платформ Raspberry Pi, macOS, SUSE Enterprise Linux Server 12, MSI for Windows agent и Docker. Прекращена поддержка старых прокси, которые не смогут передавать данные на сервер после его обновления, а новые агенты не смогут работать со старыми версиями Zabbix.