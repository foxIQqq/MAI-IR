Компания Netflix представила сеть доставки контента Open Connect, работающую на базе FreeBSD

Скотт Лонг (Scott Long), один из старейших коммитеров FreeBSD, написал в рассылке freebsd-stable о том, что компания Netflix, в которой он теперь работает, выбрала операционную систему FreeBSD в качестве одного из компонентов решения по созданию собственной сети доставки контента (CDN) Open Connect. Вся информация об используемых на серверах Open Connect аппаратных компонентах и программном обеспечении (на серверах используется только открытое ПО), а также подробные данные об общей архитектуре сети опубликованы в свободном доступе и могут использоваться для создания аналогичных сетей, способных обеспечить доставку петабайт данных, что ранее было прерогативой только закрытых коммерческих сервисов CDN. Все разработанные при создании Open Connect улучшения и исправления, затрагивающие FreeBSD, будут открыты и возвращены сообществу. В моменты пиковой нагрузки трафик Netflix составляет до 30% от суммарного интернет-трафика в Северной Америке, и по мере переноса трафика в собственную быстро расширяющуюся CDN, FreeBSD системы снова займут свое место в инфраструктуре Интернет, пишет Лонг. В качестве причин выбора FreeBSD отмечается оптимальное сочетание стабильности и функциональности, а также хорошо зарекомендовавшее себя сильное сообщество разработчиков. Из компонентов, используемых в создаваемой сети доставки контента, также отмечается http-сервер nginx и демон маршрутизации BIRD, используемый для организации передачи данных о топологии сети провайдера к управляющим системам Netflix для перенаправления клиентов на ближайшие источники контента. Как рассказал Скотт, FreeBSD используется в кеширующем сервере Open Connect Appliance, на основе которого будет строиться пиринговая CDN. Для кеширования контента в каждом сервере установлено по 36 SATA дисков по 3 ТБ, подключенных к адаптеру LSI MPT2, и по два SSD-накопителя для размещения системы и кэширования наиболее востребованного контента. На дисках используется UFS c журналированием, а SSD-накопители отзеркалированы с использованием gmirror. В качестве сетевого интерфейса используется двухпортовая 10 GbE оптическая плата. В качестве ОС устанавливается ветка 9-stable. Как говорит Лонг, специалисты Netflix приложили значительные усилия, доводя IPv6 стек до промышленного уровня качества, и он рекомендует всем, кто использует IPv6 на 9-stable и 8-stable, обновиться до последних патчей.