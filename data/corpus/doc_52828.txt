Релиз Linux-дистрибутива Fedora 32

Представлен релиз Linux-дистрибутива Fedora 32. Для загрузки подготовлены продукты Fedora Workstation, Fedora Server, CoreOS, а также набор "спинов" c Live-сборками десктоп-окружений KDE Plasma 5, Xfce, MATE, Cinnamon, LXDE и LXQt. Сборки сформированы для архитектур x86_64, Power64, ARM64 (AArch64) и различных устройств с 32-разрядными процессорами ARM. Публикация сборок Fedora Silverblue и Fedora IoT Edition задерживается. Наиболее заметные улучшения в Fedora 32: В сборках для рабочих станций по умолчанию активирован фоновый процесс earlyoom, который позволит более оперативно реагировать на нехватку памяти, не доходя до вызова обработчика OOM (Out Of Memory) в ядре, который срабатывает, когда ситуация становится критичной и система, как правило, уже не реагирует на действия пользователя. Если объём доступной памяти меньше меньше 4%, но не более 400 MiB, earlyoom принудительно завершит работу процесса, наиболее активно потребляющего память (имеющего самое большое значение /proc/*/oom_score), не доводя состояние системы до очистки системных буферов. В качестве наиболее приоритетных кандидатов на удаление отмечены процессы Web Content от Firefox. Снижен приоритет при выборе претендента на удаление для различных системных сервисов, таких как dnf, gnome-shell, kwin, Xorg, Xwayland, systemd, dbus-daemon и т.п. Включён по умолчанию systemd-таймер fstrim.timer, раз в неделю запускающий сервис fstrim.service для выполнения команды "/usr/sbin/fstrim --fstab --verbose --quiet", передающей устройствам хранения сведения о неиспользуемых блоках в примонтированных файловых системах и в динамически расширяемых хранилищах LVM. Данный механизм сглаживает износ SSD- и NVMe-накопителей и повышает эффективность очистки блоков, а также в LVM улучшает использование свободных логических экстентов при динамическом выделении места в хранилище ("thin provisioning") за счёт их возвращения в пул. Рабочий стол обновлён до выпуска GNOME 3.36, в котором появилось отдельное приложение для управления дополнениями к GNOME Shell, модернизировано оформление интерфейсов входа в систему и разблокирования экрана, переработано большинство системных диалогов, появилась функция запуска приложений с использованием дискретного GPU на системах с гибридной графикой, в обзорном режиме реализована возможность переименования каталогов с приложениями, в систему уведомлений добавлена кнопка "не беспокоить", в мастер начальной настройки добавлена опция включения системы родительского контроля и т.п. В связи с прекращением времени жизни Python 2 из Fedora будет удалён пакет python2 и все пакеты, требующие Python 2 для своей работы или сборки. Для разработчиков и пользователей, которым необходим Python 2, будет предоставлен обособленный пакет python27, который будет оформлен в стиле "всё в одном" (без разбивки на субпакеты) и не рассчитан на использование в качестве зависимости. По умолчанию вместо iptables-legacy задействован пакет iptables-nft, предлагающий набор утилит для обеспечения совместимости с iptables, имеющих такой же синтаксис командной строки, но транслирующих полученные правила в байткод nf_tables. Динамический межсетевой экран firewalld переведён на работу поверх nftables. Для прямого вызова правил продолжат использоваться iptables и ebtables. Для сборки задействован GCC 10. Обновлены версии многих пакетов, включая ядро Linux 5.6, Glibc 2.31, Binutils 2.33, LLVM 10, Python 3.8, Ruby 2.7, Go 1.14, MariaDB 10.4, Mono 6.6, PostgreSQL 12, PHP 7.4. В пакетах, определяющих собственных пользователей и групп, осуществлён переход на определения пользователей в формате, идентичном sysusers.d (сама утилита systemd-sysusers для формирования содержимого /etc/passwd и /etc/group пока не применяется, речь только о формате данных с информацией о пользователях, для создания пользователей по-прежнему вызывается useradd). В пакетный менеджер DNF добавлен код для отправки сведений, необходимых для более точной оценки пользовательской базы дистрибутива. Вместо изначально планировавшейся передачи уникального UUID-идентификатора реализована более простая схема на основе счётчика времени установки и переменной с данными об архитектуре и версии ОС. Счётчик "countme" будет сбрасываться в "0" после первого успешного обращения к серверу и через 7 дней начнёт увеличиваться каждую неделю, что позволит оценить как давно установлен используемый выпуск. При желании пользователь может отключить отправку указанной информации. Интерпретатор Python собран с флагом "-fno-semantic-interposition", применение которого в тестах показало прирост производительности от 5 до 27%. В состав включены дополнительные растровые шрифты в формате OpenType для использования в таких программах, как gnome-terminal (после перехода на HarfBuzz возникли проблемы с использованием старых растровых шрифтов в gnome-terminal). При подготовке релиза прекращено тестирование качества установочных сборок для оптических носителей. С Shell на Go переписан инструментарий Fedora Toolbox, позволяющий запустить дополнительное изолированное окружение, которое может быть обустроено произвольным образом при помощи обычного пакетного менеджера DNF. В состав включён новый выпуск мультимедийного сервера PipeWire (0.3), идущего на смену PulseAudio. При записи скринкастов задействована появившаяся в PipeWire возможность использования DMA-буферов (dma-buf), позволяющих обойтись без промежуточного копирования данных из фреймбуфера экрана в ОЗУ. Доступна для включения предоставляемая в PipeWire прослойка для обеспечения совместимости со звуковым сервером JACK. Улучшена работа Firefox, собранного с поддержкой Wayland. Работа Firefox в Wayland доведена до уровня стабильности и функциональности, соответствующего сборке для X11. Более того, в сборке для Wayland по умолчанию включено аппаратное ускорение для WebGL, которое остаётся отключённым для X11, а также задействован предоставляемый в Pipewire режим zero copy для улучшения работы c видеоконференциями. Одновременно для Fedora 32 введены в строй "free" и "nonfree" репозитории проекта RPM Fusion, в которых доступны пакеты с дополнительными мультимедиа приложениями (MPlayer, VLC, Xine), видео/аудио кодеками, поддержкой DVD, проприетарными драйверами AMD и NVIDIA, игровыми программами, эмуляторами. Формирование сборок Russian Fedora прекращено.