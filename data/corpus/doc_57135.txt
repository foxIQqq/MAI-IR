Доступен дистрибутив для создания сетевых хранилищ OpenMediaVault 6

После двух лет с момента формирования прошлой значительной ветки опубликован стабильный релиз дистрибутива OpenMediaVault 6, позволяющего быстро развернуть сетевое хранилище (NAS, Network-Attached Storage). Проект OpenMediaVault основан в 2009 году после раскола в стане разработчиков дистрибутива FreeNAS, в результате которого наряду с основанным на FreeBSD классическим FreeNAS было создано ответвление, разработчики которого поставили перед собой цель перевести дистрибутив на ядро Linux и пакетную базу Debian. Для загрузки подготовлены установочные образы OpenMediaVault для архитектуры x86_64 (868 МБ). Основные новшества: Пакетная база обновлена до Debian 11 "Bullseye". Предложен новый интерфейс пользователя, полностью переписанный с нуля. В web-интерфейсе теперь отображаются только файловые системы, настроенные в OpenMediaVault. Добавлены новые плагины, оформленные в виде изолированных контейнеров: S3, OwnTone, PhotoPrism, WeTTY, FileBrowser и Onedrive. Расширены возможности инсталлятора, в том числе предоставлена возможность установки на USB-накопители с системы, загруженной с другого USB-накопителя. Вместо отдельного фонового процесса для отслеживания состояния задействован systemd watchdog. В настройки FTP добавлена опция для показа домашнего каталога пользователя в навигационном списке. Расширены средства для слежения за температурой накопителей. Предоставлена возможность переопределения общих настроек SMART для выбранных накопителей. Пакет pam_tally2 заменён на pam_faillock. Утилита omv-update заменена на omv-upgrade. По умолчанию отключена поддержка SMB NetBIOS (вернуть можно через переменную окружения OMV_SAMBA_NMBD_ENABLE). Прекращена поддержка устройства /dev/disk/by-label, так как оно генерирует предсказуемые метки. Прекращена возможность установки параллельно с другими графическими окружениями. Отключена функция очистки системных логов (логи теперь обрабатываются при помощи systemd journal). В настройках параметров пользователя предоставлена возможность использования ключей ed25519 для SSH. Для домашних каталогов, размещённых на разделах SMB, добавлена поддержка "корзины". Добавлена возможность переноса и изменения прав доступа на странице с ACL совместных каталогов. Для совместных каталогов, размещённых не на POSIX-совместимых ФС, убрана кнопка для перехода на страницу настройки ACL. Расширены настройки для запуска заданий по расписанию. Обеспечено выставление более высокого приоритета вручную указанным DNS-серверам, чем DNS-серверам, информация о которых получена через DHCP. Фоновый процесс avahi-daemon теперь использует только сетевые интерфейсы ethernet, bond и wifi, настроенные через конфигуратор OpenMediaVault. Обновлён интерфейс входа в систему. Проект OpenMediaVault рассматривает в качестве приоритетных направлений разработки расширение поддержки встраиваемых устройств и создание гибкой системы установки дополнений, в то время как ключевым направлением развития FreeNAS является задействование возможностей файловой системы ZFS. По сравнению с FreeNAS, достаточно сильно переработан механизм установки дополнений, вместо смены "прошивки" целиком для обновления OpenMediaVault используются штатные средства обновления отдельных пакетов и полноценный инсталлятор, позволяющий выбирать необходимые компоненты в процессе установки. Управляющий web-интерфейс OpenMediaVault написан на PHP и отличается загрузкой данных по мере необходимости при помощи технологии Ajax без перезагрузки страниц (web-интерфейс FreeNAS написан на языке Python с использованием фреймворка Django). В интерфейсе присутствуют функции организации совместного доступа к данным и разделения привилегий (в том числе поддержка ACL). Для мониторинга можно использовать SNMP (v1/2c/3), кроме того присутствует встроенная система отправки уведомлений о проблемах на email (включая отслеживание состояния дисков через S.M.A.R.T. и контроль работы системы обеспечения бесперебойного питания). Из связанных с организацией работы хранилища базовых сервисов можно отметить: SSH/SFTP, FTP, SMB/CIFS, клиент DAAP, RSync, клиент BitTorrent, NFS и TFTP. В качестве файловой системы можно использовать EXT3, EXT4, XFS и JFS. Так как дистрибутив OpenMediaVault изначально нацелен на расширение функциональности через подключение дополнений, отдельно развиваются плагины с реализацией поддержки AFP (Apple Filing Protocol), сервера BitTorrent, сервера iTunes/DAAP, LDAP, iSCSI target, UPS, LVM и антивируса (ClamAV). Поддерживается создание программных RAID (JBOD/0/1/5/6) с использованием mdadm.