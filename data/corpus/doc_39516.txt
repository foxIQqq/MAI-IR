XWayland интегрирован в основную кодовую базу X.Org

В состав основной кодовой базы X.Org, на основе которой формируется выпуск X.Org Server 1.16, включены компоненты проекта XWayland, нацеленного на обеспечение запуска обычных X11-приложений в окружениях, работающих поверх Wayland. Примечательно, что вместо изначально развиваемого модуля X-сервера и модифицированного набора драйверов, в конечном счёте предпочтение отдано реализации в форме отдельного DDX-компонента xwayland (Device-Dependent X), похожего на Xwin и Xquartz для платформ Win32 и OS X . Указанный подход позволяет обеспечить выполнение Xwayland без наличия привилегий суперпользователя и уйти от необходимости внесения в X.Org специфичных правок, связанных с подключением устройств ввода, управления виртуальными терминалами и чтения файлов конфигурации. Интегрированный в X.Org DDX-компонент поддерживает DRI3, узлы рендеринга и архитектуру 2D-акселерации Glamor. Задействование Glamor позволяет уйти от зависимости от конкретного оборудования, благодаря использованию OpenGL для ускорения 2D-операций. Таким образом Xwayland сможет использоваться независимо от установленных видеодрайверов (применяемая в начальной реализации идея, была основана на задействовании средств 2D-ускорения из отдельных драйверов для конкретного оборудования, например, развивался специальный драйвер xf86-video-wayland и поддерживалась отдельная ветка драйвера xf86-video-intel с поддержкой Wayland, теперь эти наработки объявлены устаревшими). Код для поддержки нового DDX-компонента XWayland уже одобрен для включения в следующий выпуск развиваемого в рамках проекта Wayland композитного сервера Weston, в следующем выпуске которого появится штатная поддержка прослойки для выполнения немодифицированых приложений X11. Возможность запуска полноценного сеанса поверх Wayland, пригодного для реальной работы, ожидается в осеннем выпуске GNOME 3.14.