Выпуск свободной системы 3D-моделирования Blender 2.83

Представлен выпуск свободного пакета 3D-моделирования Blender 2.83, в который вошло более 1250 исправлений и улучшений, подготовленных за три месяца с момента выпуска Blender 2.82. Основное внимание при подготовке новой версии было сосредоточено на оптимизации производительности - ускорена работа undo, эскизного карандаша и предпросмотра рендеринга. В движке Cycles добавлена поддержка адаптивного сэмплинга. Добавлены новые инструменты скульптурного моделирования Cloth Brush и Face Sets. Реализована система подавления шумов с поддержкой ускорителей NVIDIA RTX. Предоставлена начальная поддержка виртуальной реальности на базе стандарта OpenXR и возможность импорта файлов OpenVDB. Blender 2.83 отмечен как первый LTS-выпуск (Long Term Support) в истории проекта, который можно рассматривать как стабилную базу, обновления с устранением серьёзных ошибок для которой будут формироваться в течение двух лет. Корректирующие выпуски будут именоваться 2.83.1, 2.83.2 и т.д. Аналогичную практику планируется продолжить и в следующих ветках. Например, после Blender 2.83 началась разработка ветки Blender 2.9x, в рамках которой планируется опубликовать четыре релиза - 2.90, 2.91, 2.92 и 2.93. Выпуск 2.93, как и 2.83, станет LTS. В 2021 году планируется выпустить релиз 3.0, который ознаменует переход к новой непрерывной схеме нумерации выпусков. Основные изменения в Blender 2.83: Добавлена поддержка импорта и рендеринга файлов OpenVDB с использованием нового объекта "Volume". Файлы OpenVDB могут генерироваться Blender из кэша системы симуляции газа, дыма, огня и жидкости, или передаваться из внешних приложений, таких как Houdini. Формат OpenVDB предложен студией DreamWorks Animatio и позволяет эффективно хранить и манипулировать разрежёнными объёмными данными, дискретизированными в трехмерных сетках. Добавлена начальная поддержка виртуальной реальности, ограниченная пока возможностью инспектирования трёхмерных сцен при помощи VR-шлемов напрямую из Blender (только в режиме просмотра, изменение содержимого пока не поддерживается). Поддержка основывается на реализации стандарта OpenXR, который определяет универсальный API для создания приложений виртуальной и дополненной реальности, а также набор прослоек для взаимодействия с оборудованием, абстрагирующим особенности конкретных устройств. C Blender могут использоваться любые платформы, поддерживающие OpenXR, такие как Windows Mixed Reality и Oculus Rift в Windows и Monado в Linux (SteamVR пока не поддерживается, так как он не реализует OpenXR). В движке Cycles реализована возможность применения механизма подавления шумов OptiX в 3D Viewport при предпросмотре, а также при финальном рендеринге. Реализация OptiX открыта компанией NVIDIA, использует методы машинного обучения, работает быстрее ранее доступных методов подавления шума и поддерживает аппаратное ускорение на картах NVIDIA RTX. Добавлен новый инструмент скульптурного моделирования "Cloth Brush", использующий методы симуляции физических процессов для создания реалистичных складок на одежде и автоматического формирования естественно выглядящих изгибов. В настройках кисти реализованы свойства симуляции массы и амортизации, дополнительные ползунки для ограничения влияния симуляции, семь режимов деформации кисти с радиальным и плоским типом спада. Кроме того, в инструменты скульптурного моделирования добавлена новая кисть "Clay Thumb", имитирующая деформацию глины пальцами и аккумулирующая материал во время удара. Добавлена кисть "Smooth Brush", также доступная в Mesh Filter, которая удаляет поверхности сохраняя объём объекта. Полностью переделана кисть "Layer Brush", дополненная предпросмотром высоты слоя, на который указывает курсоре, включающая улучшенную поддержку масок и избавленная от появления артефактов при многократном изменении одной области. В фильтре полигональных сеток (Mesh Filter) появился новый режим обработки кромок (Sharpen), который сжимает края, автоматически сглаживая плоские поверхности. Предложена новая система "Face Sets" для управления видимостью отдельных частей полигональной сетки (mesh) в режимах лепки и рисования. Face Sets подходит для режимов, сосредоточенных на использовании кистей, автоматически скрывает части поверхности и позволяет добиться большего контроля при работе с полигональными сетками сложных форм и перекрывающихся поверхностей. Полностью переписана реализация эскизного карандаша (Grease Pencil), позволяющего создавать наброски для 2D-анимации. Инструментарий стал значительно быстрее и лучше интегрирован с Blender. При манипуляции с объектами в Grease Pencil теперь применяется привычный рабочий процесс, который используется и при работе с полигональными сетками в Blender. Цвета кромки не ограничиваются одним материалом и для каждой точки может задаваться свой цвет. Добавлен новый движок отрисовки, предоставляющий возможность комбинации масок. Модификаторы эффектов переделаны для повышения качества, производительности и гибкости использования. В режиме быстрых мазков обеспечено автоматическое сглаживание линий для предотвращения появления изломов и острых углов. Примерно в два раза повышена производительность работы с файлами, включающими большое число росчерков, а также ускорено сглаживание при быстром рисовании. В движок рендеринга Eevee, поддерживающий физически корректный рендеринг в реальном времени и использующий только GPU (OpenGL) для визуализации, добавлена поддержка 10 дополнительных проходов для композитинга. Обновление реализации кеша освещения позволило избавиться от артефактов на швах и эффекта растягивания ткани. Добавлена возможность применения высококачественных нормалей, позволяющих избавиться от неадекватного отображения текстур из-за проблем с низким разрешением нормалей на плотных полигональных сетках. В режиме предварительного просмотра материала упрощена корректировка уровня размытия фона HDRI. При обработке геометрии волос обеспечена поддержка смешивания с альфа-хэшем, режима прозрачности и режимов смешивания теней. Расширены возможности встроенного редактора видео (Video Sequencer). Предложена реализация дискового кеша, позволяющего хранить кешируемые кадры не в ОЗУ, а на диске. На полосах обеспечена поддержка непрозрачности и возможность предварительного прослушивания звука. Добавлена новая панель корректировки последней операции. В движке рендеринга Cycles добавлена поддержка адаптивного сэмплинга, позволяющего автоматически сокращать число сэмплов в областях с низким уровнем шума. В итоге удаётся добиться повышения скорости рендеринга и более равномерного распределения шума. Улучшена реализация шейдерных узлов. В узле Wave Texture появились новые режимы выбора направления движения волны, возможность управления смещением фазы и увеличения детализации зашумленных текстур. Внесены улучшения в узлы "White Noise Texture", "Math" и "Vector Math". Добавлены настройки для упрощения вращения и свёртывания векторов, в генераторе белого шума добавлена возможность цветного вывода. В плагин для управления коллекциями добавлена поддержка коллекций сцен и реализован новый экран QCD (Quick Content Display), позволяющий настроить до 20 коллекций в форме слотов, доступных для быстрого просмотра через виджет. Расширены и обновлены многие модификаторы, включая Corrective Smooth, Ocean, Remesh, Solidify, Surface Deform и Warp. Внесена большая порция оптимизаций производительности. Ускорена работа операций отката изменений (undo) в режима "Object" и "Pose". В режиме скульптурного моделирования реализовано отложенное обновление Viewport-а, позволившее ускорить навигацию по полигональным сеткам с большим числом ячеек. Новый механизм разрешения коллизий позволил выполнять симуляцию тканей до 5 раз быстрее. Заметно ускорена симуляция жидкостей и газов в объектах Effector. Сокращено время загрузки файлов с частицами и полигональными сетками в системах симуляции жидкостей и газов. В 3D Viewport улучшены операции выделения большого числа мелких объектов и переработана система управления цветами (композитинг теперь выполняется в линейном цветовом пространстве). Добавлена возможность экспорта метасфер (Metaball) в формате USD (Universal Scene Description) в виде вычисленных полигональных сеток. Улучшен экспорт и импорт в формате glTF (GL Transmission Format). В файловом менеджере реализован режим быстрого поиска файлов (Ctrl+F), добавлена поддержка файловых атрибутов и скрытых файлов.