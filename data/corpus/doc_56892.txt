Браузер Firefox будет поставляться в Ubuntu 22.04 LTS только в формате Snap

Начиная с релиза Ubuntu 22.04 LTS, deb-пакеты firefox и firefox-locale будут замены на заглушки, устанавливающие Snap-пакет с Firefox. Возможность установки классического пакета в формате deb будет прекращена и пользователи будут вынуждены использовать либо предлагаемый пакет в формате snap, либо загружать сборки напрямую с сайта Mozilla. Для пользователей deb-пакета предоставлен прозрачный процесс перехода на snap через публикацию обновления, которое установит snap-пакет и перенесёт текущие настройки из домашнего каталога пользователя. Напомним, что в осеннем выпуске Ubuntu 21.10 браузер Firefox был переведён по умолчанию на поставку в виде snap-пакета, но возможность установки deb-пакета была сохранена и оставалась доступной в форме опции. С 2019 года только в формате snap также поставляется браузер Chromium. В сопровождении snap-пакета с Firefox принимают участие сотрудники Mozilla. В качестве причин продвижения формата snap для браузеров отмечается желание упростить сопровождение и унифицировать разработку для разных версий Ubuntu - пакет deb требует отдельного сопровождения для всех поддерживаемых веток Ubuntu и, соответственно, сборки и тестирования с учётом разных версий системных компонентов, а пакет snap может формироваться сразу для всех веток Ubuntu. Одним из важных требований к поставке браузеров в дистрибутивах является необходимость оперативной доставки обновлений для своевременного блокирования уязвимостей. Поставка в формате snap позволит ускорить доведение новых версий браузера до пользователей Ubuntu. Кроме того, поставка браузера в формате snap даёт возможность запускать Firefox в дополнительно изолированном окружении, созданном при помощи механизма AppArmor, что позволит усилить защиту остальной системы от эксплуатации уязвимостей в браузере. Минусами применения snap является затруднение контроля сообщества над разработкой пакетов и привязка к дополнительному инструментарию и сторонней инфраструктуре. Процесс snapd выполняется в системе с правами root, что создаёт дополнительные угрозы в случае компрометации инфраструктуры или выявления уязвимостей. Недостатком также является необходимость решения проблем, специфичных для поставки в формате snap (не работают некоторые обновления, всплывают недоработки при использовании Wayland, возникают проблемы с гостевым сеансом, имеются трудности с запуском внешних обработчиков). Из изменений в Ubuntu 22.04 также можно отметить переход на использование сеанса GNOME с Walyand по умолчанию на системах с проприетарными драйверами NVIDIA (если версия драйверов 510.x или более новая). На системах с GPU AMD и Intel переход по умолчанию на Wayland состоялся в выпуске Ubuntu 21.04.