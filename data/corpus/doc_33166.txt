Увидела свет операционная система DragonFly BSD 3.0

Доступен релиз DragonFlyBSD 3.0, операционной системы с гибридным ядром, созданной в 2003 году с целью альтернативного развития ветки FreeBSD 4.x. Среди ключевых изменений в DragonFly BSD 3.0 отмечается значительное увеличение производительности на многоядерных и многопроцессорных системах, использование SMP ядра по умолчанию, оптимизация работы ФС HAMMER и поддержка совместимого с TrueCrypt инструментария для управления шифрованием данных на диске. Из ранее реализованных интересных особенностей DragonFly BSD можно выделить распределённую версионную файловую систему HAMMER, поддержку загрузки "виртуальных" ядер системы как пользовательских процессов, возможность кэширования данных и мета-данных ФС на SSD-накопителях. Для загрузки доступны 32- и 64-разрядные установочные образы размером 185 Мб для CD и USB Flash, а также расширенные образы размером 1.1 Гб с десктоп-окружением для установки на DVD и USB Flash. Все доступные образы могут работать в Live-режиме, т.е. позволяют оценить работу DragonFly BSD без установки на диск. Репозиторий pkgsrc в DragonFlyBSD 3.0 обновлён до версии 2011Q4 и включает в себя около 10 тысяч предкомпилированных пакетов. Для CVS-репозитория NetBSD pkgsrc проектом DragonFly BSD поддерживается активное GIT-зеркало. Основные улучшения, добавленные в DragonFlyBSD 3.0: Значительные улучшения в реализации SMP-режима, позволяющие кардинально увеличить производительность на многоядерных и многопроцессорных системах. Система полностью избавилась от глобальной блокировки. Ранее основная часть системы виртуальной памяти (VM) могла выполняться только в однопоточном режиме, завися от одной глобальной блокировки, теперь каждый объект VM может использовать свою отдельную блокировку, позволяя таким образом обеспечить параллельное выполнение обработки обращений к невыделенным страницам памяти (page faults). Изменения особенно заметно отражаются на скорости работы таких приложений, как СУБД PostgreSQL и MySQL, производительность который выросла на многоядерных системах в разы (на графике ниже пример для сервера с двумя процессорами Xeon, имеющем в сумме 12 процессорных ядер и 24 потока). Значительное увеличение производительности файловой системы HAMMER, в которой реализованы новый метод балансировки различных типов операций с хранилищем, выполняемых в различные периоды времени. В итоге, удалось обеспечить более высокую пропускную способность в ситуации высокой нагрузки на хранилище. Кроме того, отмечается работа по снижению потребления оперативной памяти, хранилище на базе HAMMER может функционировать даже на системах с 256 Мб ОЗУ. По умолчанию теперь поставляется SMP-ядро, в котором обновлён код для работы с ACPI и обработчики прерываний. Для создания и управления шифрованными дисковыми разделами в состав включён инструментарий tcplay, который полностью совместим с разделами TrueCrypt и распространяется под лиценизей BSD; Изменения в ядре системы: В подсистеме crypto добавлена поддержка шифров AES-GCM, Twofish, Serpent, Twofish-XTS и Serpent-XTS; Увеличена производительность Device Mapper за счет сокращения числа операций сериализации при вводе/выводе; В dm_target_crypt добавлена поддержка генератора plain64 IV, а также XTS-моделей Serpent и Twofish; bfq - новая экспериментальная политика справедливого распределения между процессами операций ввода/вывода; В драйвер mps добавлена поддержка RAID; Код пакетного фильтра pf переведён с использования zalloc на kmalloc; Значительное обновление кода, связанного с обработкой формата исполняемых файлов ELF; Из FreeBSD импортирована улучшенная реализация NFS-сервера; Значительно расширена поддержка MSI (Managed System Interrupt) и MSI-X; В код VFS (Virtual file system) добавлена поддержка аккаунтинга, которая в дальнейшем может быть использована для создания системы квот, независимой от типа ФС; Удалена поддержка протокола Appletalk; Реализована возможность экспортирования через NFS разделов tmpfs; Расширено число математических функций в libm, которые импортированы из NetBSD и FreeBSD; Добавлена поддержка исполняемых файлов PIE (Position-Independent Executables); Добавлена поддержка операций TRIM для SSD-накопителей; В базовое GENERIC-ядро включены драйверы PCI MMC/SD. Улучшения в поддержке оборудования: Обновлены драйверы не связанные с сетью: mfi (LSI 3.981), hptiop, safe, mps, ecc, coretemp; Обновлены драйверы сетевых устройств: bge (появилась поддержка чипов 5761, 5784 и 57780), ndis, msk, re, bceem(4)/emx. Добавлен новый драйвер lgue; Удалена большая порция устаревших драйверов и связанных с ними утилит для устройств для шины ISA: aha(4), asc(4), sasc(1), ctx, dgb(4), el(4), gpib, gsc(4), sgsc(1), ie(4), labpc(4), le(4), mse(4), rc(4), rdp(4), spigot, tw(4), xten(1), xtend(8), wl(4), wlconfig(8), wt(4); Изменения пользовательского окружения: В стандартной библиотеке Си вместо nmalloc задействован более производительный аллокатор памяти dmalloc; Добавлена распространяемая под лицензией BSD библиотека libdm с реализацией совместимого с libdevicemapper API; В libc добавлены функции fmemopen(3) и open_memstream(3), определённые в спецификации POSIX 2008; В rc.d-скрипт jail добавлена поддержка автоматического монтирования devfs внутри jail-окружений; Значительное обновление rtld-elf; Расширение возможностей и исправления ошибок в интерпретаторе sh; Команда дедупликации для ФС HAMMER ('hammer dedup') теперь может работать в условиях ограниченной памяти, за счёт разделения работы на несколько фаз; Сборка системы через make buildworld теперь выполняется параллельно в несколько потоков; Добавлен dfregress, фреймворк для тестирования наличия регрессивных изменений; Поддержка обработки исключительных ситуаций (exception) в статически скомпонованных исполняемых файлах; Добавлена библиотека libhammer, с набором функций для работы с ФС HAMMER; Добавлена утилита tuxload для стресс-тестирования системы виртуальной памяти; Обновление сторонних программ, поставляемых в составе базовой системы: Удалены компоненты binutils 2.20 (по умолчанию теперь 2.21) и libgnuregex; BSD gprof заменил собой GNU gprof; Вместо GNU sort задействован аналог утилиты sort из NetBSD; Обновлены версии: awk u20110810, binutils 2.22 (по умолчанию 2.21), dma 0.7, diffutils 3.2, file 5.10, ftp из NetBSD tnftp от 2012/01/08, gcc44 4.4.7, gdb 7.3, gdtoa 20110321, grep 2.9, ldns/drill 1.6.11, less 444, libarchive 3.0.3, libgmp 5.0.2, libmpfr 3.1, libpcap 1.2.1, mdocml 1.11.3, OpenPAM Lycopsida, OpenSSH 5.9p1, OpenSSL 1.0.0g, sendmail v8.14.15, tcpdump 4.2.1, texinfo 4.13, xz 5.0.3, zoneinfo tzdata2011n.