Проект Wine выпустил Vkd3d 1.2 с реализацией Direct3D 12

Проект Wine опубликовал выпуск пакета vkd3d 1.2 с реализацией Direct3D 12, работающей через трансляцию вызовов в графический API Vulkan. В состав пакета входят библиотеки libvkd3d с реализаций Direct3D 12, libvkd3d-shader c транслятором 4 и 5 модели шейдеров и libvkd3d-utils с функциями для упрощения портирования приложений Direct3D 12, а также набор демонстрационных примеров, включая порт glxgears на Direct3D 12. Код проекта распространяется под лицензией LGPLv2.1. Библиотека libvkd3d поддерживает большую часть возможностей Direct3D 12, включая средства для графики и вычислений, очереди и списки команд, дескрипторы и дескрипторы кучи, корневые подписи, неупорядоченный доступ, Sampler-ы, сигнатуры команд, корневые константы, непрямую (indirect) отрисовку, методы Clear*() и Copy*(). В libvkd3d-shader реализована трансляция байткода 4 и 5 моделей шейдеров в промежуточное представление SPIR-V. Поддерживаются вершинные, пиксельные, тесселяционные, вычислительные и простые геометрические шейдеры, сериализация и десериализация корневой подписи. Из шейдерных инструкций реализованы арифметические, атомарные и битовые операции, операторы сравнения и управления потоком передачи данных, инструкции sample, gather и load, операции неупорядоченного доступа (UAV, Unordered Access View). Среди наиболее значительных новшеств в Vkd3d 1.2 выделяются: Готовность библиотеки libvkd3d-shader для использования в сторонних проектах. Поддержка тесселяционных шейдеров. Поддержка преобразования, сериализации и десериализации корневых сигнатур (vkd3d_serialize_versioned_root_signature() и vkd3d_create_versioned_root_signature_deserializer()). Поддержка потокового вывода. Реализация многих ранее недоступных возможностей Direct3D 12, включая поддержку мультисэмплинга, резервирования ресурсов, косвенной индексированной отрисовки, рендеринга глубины без пиксельных шейдеров, одновременного доступа к ресурсам из разных очередей команд, нулевых представлений (Null-views). Добавлены переменные окружения: VKD3D_CONFIG для установки опций для изменения поведения libvkd3d и VKD3D_VULKAN_DEVICE для переопределения устройства для API Vulkan. Добавлена поддержка шейдерных инструкций bufinfo, eval_centroid, eval_sample_index, ld2ms, sample_b, sample_d, sample_info, samplepos.