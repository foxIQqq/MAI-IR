Релиз Firefox 117

Состоялся релиз web-браузера Firefox 117 и сформированы обновления веток с длительным сроком поддержки - 115.2.0 и 102.15.0. На стадию бета-тестирования переведена ветка Firefox 118, релиз которой намечен на 26 сентября. Основные новшества в Firefox 117: В about:config добавлен параметр dom.event.contextmenu.shift_suppresses_event, позволяющий отключить показ контекстного меню при нажатии правой кнопки мыши при удерживании клавиши Shift, так как некоторые сайты прикрепляют собственный обработчик событий к данной комбинации. В окружениях на базе Wayland прекращён показ собственного индикатора предоставления совместного доступа к экрану (screen sharing), вместо которого теперь показывается системный индикатор. Решена проблема с прокруткой списка видео на YouTube при включении навигации через экранный ридер. В классическом верхнем меню "History" добавлена кнопка для открытия интерфейса поиска в истории ("Search History"), по аналогии с кнопкой, показываемой в секции "History" из меню "гамбургер". В диалоге открытия файлов появилась возможность показа только файлов с расширением PDF. В библиотеках, для которых применяется sandbox-изоляция (компилируются в wasm), включена поддержка инструкций SIMD (при компиляции задействован флаг -msimd128, выполняющий автовекторизацию Си-кода в WASMSIMD). Включена по умолчанию поддержка улучшенной реализации вложенных CSS. Добавлена поддержка CSS-свойств math-style и math-depth, а также значения "font-size: math", используемых при показе математических формул для настройки специфичного для MathML стиля. Добавлена поддержка CSS-синтаксиса "contain-intrinsic-size: auto none;", при указании которого будет использован последний запомненный размер элемента, но если определить размер не удалось будет произведён откат на значение "contain-intrinsic-size: none". В CSS добавлены функции rect() и xywh() для создания прямоугольных фигур. Добавлена поддержка API RTCRtpScriptTransform для подключения собственных обработчиков потоков MediaStreamTracks, отправляемых через WebRTC. Добавлена поддержка метода ReadableStream.from, позволяющего создавать объекты ReadableStream из итерируемых объектов. В размещаемом по месту (inline) коде SVG добавлена поддержка элементов <script> с атрибутами type="module", defer и async, что позволяет использовать в SVG современные возможности JavaScript, включая модули и асинхронную загрузку скриптов. В инструментах для web-разработчиков расширены средства для проверки совместимости с другими браузерами: в режим инспектирования добавлены подсказки о совместимости CSS (в случае выявления проблем с совместимостью, рядом со свойством показывается специальный индикатор, при наведении курсора на который выводится информация о том, в каких браузерах с данным свойством могут возникнуть проблемы. В Web-консоли прекращена очистка вывода при выполнении метода console.clear(), если в настройках выставлен параметр "Enable persistent logs". Поддержка автоматического запоминания и заполнения номеров кредитных карт в web-формах расширена на пользователей с локалями IT, ES, AT, BE и PL. Ранее данная возможность была доступна только для пользователей из США, Канады и Великобритании. Для пользователей macOS в настройки (about:preferences) добавлена опция, позволяющая использовать клавишу Tab для перемещения между управляющими элементами и ссылками. В версии для Android предоставлена возможность вставки изображений в элементы с атрибутом "contenteditable" или свойством "designMode". Добавлена анимированная заставка, показываемая при первом запуске. Кроме новшеств и исправления ошибок в Firefox 117 устранено 20 уязвимостей. 14 уязвимостей, которые помечены как опасные, вызваны проблемами работы с памятью, такими как переполнения буферов и обращение к уже освобождённым областям памяти. Потенциально данные проблемы способны привести к выполнению кода злоумышленника при открытии специально оформленных страниц. В бета-версии Firefox 118 включена по умолчанию самодостаточная система автоматизированного машинного перевода с одного языка на другой, выполняющая перевод на локальной системе пользователя без обращения к внешним облачным сервисам. В системе перевода задействован открытый движок Bergamot, представляющий собой обвязку над фреймворком машинного перевода Marian, в котором применяется рекуррентная нейронная сеть (RNN) и языковые модели на основе трансформеров. Предоставляются модели для английского, болгарского, датского, немецкого, французского, испанского, польского, итальянского и португальского языков (русского в списке нет, но старую модель можно загрузить с GitHub). В Firefox 117 систему перевода можно включить через настройку "browser.translations.enable" в about:config.