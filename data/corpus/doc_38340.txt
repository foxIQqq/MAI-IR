Выпуск дистрибутива BSD Router Project 1.5

Оливер Кочард (Olivier Cochard-Labbé), создатель дистрибутива FreeNAS, анонсировал выпуск специализированного дистрибутива BSD Router Project 1.5 (BSDRP), примечательный обновлением кодовой базы до FreeBSD 9.2. Дистрибутив предназначен для создания компактных программных маршрутизаторов, поддерживающих широкий спектр протоколов, таких как RIP, OSPF, BGP и PIM. Управление производится в режиме командной строки через CLI-интерфейс, напоминающий Cisco. Дистрибутив доступен в сборках для архитектур amd64, i386 и sparc64 (размер установочного образа всего 34 Мб), может работать на системах с 128 Мб ОЗУ и Flash-накопителях, размером 256 Мб. Кроме перехода на кодовую базу FreeBSD новая версия примечательна включением ряда дополнительных патчей (autotune mbuf, pf NAT+UDP, multi-threaded netblast), интеграцией модулей ядра hwpmc для расширенного мониторинга производительности и stf для создания IPv6toIPv4-туннелей, включением в поставку rc-скрипта ngnetflow, пакета OpenVPN и утилит cxgbtool/cxgbetool для настройки средств фильтрации пакетов, интегрированных в сетевые адаптеры Chelsio. Обновлены версии программ: bird 1.3.11, isc-dhcp42-server 4.2.5, mpd 5.7, tmux to 1.8. Основные характеристики дистрибутива: В комплект входят три пакета с реализацией поддержки протоколов маршрутизации: Quagga 0.99.17.12_1: BGP, RIP, RIPng, OSPF v2, OSFP v3 и ISIS; BIRD 1.3.11: BGP, RIP, RIPng , OSPF v2 и OSFP v3; mrouted 3.9.6: поддержка протокола мультикаст-маршрутизации DVMRP (Distance Vector Multicast Routing Protocol); Дистрибутив адаптирован для параллельного использования нескольких обособленных таблиц маршрутизации (FIB), привязанных к реальным и виртуальным интерфейсам; Для мониторинга и управления может использоваться SNMP (bsnmp-ucd-0.4.0). Поддерживается экспорт данных о трафике в форме потоков Netflow; Для оценки производительности сети в состав входят такие утилиты, как NetPIPE, iperf, netblast, netsend и netreceive. Для накопления статистики о трафике используется ng_netflow; Наличие freevrrpd 1.1 с реализацией протокола VRRP (Virtual Router Redundancy Protocol, RFC 3768) и ucarp 1.5.2 с поддержкой протокола CARP, предназначенных для организации работы отказоустойчивых маршрутизаторов путём привязки к активному серверу виртуального MAC-адреса, в случае сбоя перемещающегося на запасной сервер. В штатном режиме нагрузка может быть распределена на оба сервера, но в случае сбоя первый маршрутизатор может взять на себя нагрузку второго, а второй - первого; mpd 5.7 (Multi-link PPP daemon) с поддержкой PPTP, PPPoE и L2TP; Для управления пропускной способностью предлагается использовать шейпер из состава IPFW или систему очередей ALTQ; Для Ethernet поддерживается работа с VLAN (802.1q), агрегация линков и использование сетевых мостов с задействованием протокола Rapid Spanning Tree Protocol (802.1w); Поддержка NAT64 с использованием демона tayga; Для установки дополнительных программ используется пакетный менеджер pkgng; В состав входят DHCP-сервер и клиент isc-dhcp 4.2.5, а также почтовый сервер ssmtp 2.64; Поддержка управления через SSH, последовательный порт, telnet и локальную консоль. Для упрощения администрирования в комплект входит утилита tmux 1.8 (BSD-аналог screen); Загрузочные образы сгенерированы на основе FreeBSD 9.2 при помощи скрипта NanoBSD; Для обеспечения обновления системы на Flash-карте создаётся два раздела, при наличии обновлённого образа, он загружается во второй раздел, после перезагрузки этот раздел становится активным, а базовый раздел ожидает появления очередного обновления (разделы используются по очереди). Возможен откат на прошлое состояние системы в случае выявления проблем с установленным обновлением; Для каждого файла имеется контрольная сумма sha256, что позволяет проконтролировать целостность информации;