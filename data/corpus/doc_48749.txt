Исключение файловой системы Lustre из ядра Linux

Грег Кроа-Хартман (Greg Kroah-Hartman), отвечающий за раздел "staging" в ядре Linux, сообщил об удалении из ветки linux-next, на основе которой формируется выпуск 4.18, кода кластерной файловой системы Lustre, которая применяется на 70% из 100 крупнейших кластеров. Код Lustre был добавлен в ядро пять лет назад, но с тех пор не продвинулся для перевода из экспериментальной ветки "staging" в число штатных файловых систем. Среди основных причин упоминается отсутствие должной активности по приведению имеющегося кода к соответствию с остальным ядром, плохая адаптация кода к изменениям в VFS, а также игнорирование проблем и периодическая публикация патчей, ломающих имеющуюся функциональность. По мнению Грега всю необходимую работу по чистке стиля оформления и адаптации кода можно было провести за 6 месяцев, но по активности разработчиков Lustre видно, что они не заинтересованы в этом и поэтому код буксует в "staging" уже пять лет. Раз в несколько месяцев возникают несостыковки с другими подсистемами и Грегу приходится добиваться внесения правок и указывать на ошибки в коде, в то время как за этим должны следить непосредственно разработчики Lustre. По сути имеется два варианта Lustre: отдельная от основного ядра ветка, в которой ведётся разработка и которая применяется в рабочих кластерах, и вариант в составе основного ядра, в который по возможности переносятся случайные исправления и изменения. Первичной рассматривается собственная ветка, а вариант в штатном ядре поддерживается по остаточному принципу. Грег считает, что ситуация с Lustre отлично демонстрирует принцип, что модель разработки подсистем ядра с двумя отдельными ветками никогда не работает. Вместо поддержания Lustre в "staging" без какого-либо прогресса в развитии, разработчикам данной ФС предлагается адаптировать свою первичную ветку для включения в основной состав ядра. Разработчики Lustre уже выразили готовность предоставить переработанный патч для перевода кода из "staging" в "mainline" c сопровождением в linux-fsdevel, но Грег Кроа-Хартман настроен скептически и не думает, что ситуация изменится.