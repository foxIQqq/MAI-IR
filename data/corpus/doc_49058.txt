Релиз OpenWrt 18.06

Представлен релиз дистрибутива OpenWrt 18.06, ориентированного на применение в различных сетевых устройствах, таких как маршрутизаторы и точки доступа. OpenWrt поддерживает множество различных платформ и архитектур и обладает системой сборки, позволяющей просто и удобно производить кросс-компиляцию, включая в состав сборки различные компоненты, что позволяет легко сформировать адаптированную под конкретные задачи готовую прошивку или образ диска с желаемым набором предустановленных пакетов. Сборки подготовлены для 37 целевых платформ. Это первый значительный выпуск после объединения проектов OpenWrt и LEDE. В качестве основы для релиза использован репозиторий проекта LEDE. Разработка объединённого проекта ведётся в соответствии с правилами LEDE, подразумевающими открытый процесс принятия решений с привлечением сообщества, прозрачность взаимодействия разработчиков, регулярный предсказуемый цикл подготовки релизов, первоочередное внимание стабильности дистрибутива, более либеральные правила приёма изменений и получения права коммита. Среди основных изменений: Для большинства основных платформ осуществлен переход на ядро Linux 4.14.52: apm821xx, archs38, armvirt, ath25, bcm53xx, brcm47xx, cns3xxx, gemini, imx6, ipq40xx, ipq806x, kirkwood, malta, mediatek, mvebu, mxs, octeon, octeontx, omap, oxnas, pistachio, ramips, sunxi и x86; До ядра 4.9.111 обновлены сборки для устройств ar7, ar71xx, arc770, at91, brcm2708, brcm63xx, ixp4xx, lantiq, layerscape, mpc85xx, orion, rb532 и uml; Для платформ с ядром 4.14 задействована инфраструктура ускоренной обработки трафика (flow offload). Для установившегося потока пакетов ядро использует облегченный, более производительный путь обработки трафика, благодаря чему скорость маршрутизации повышается в 2-3 раза. Для SoC MT7621 дополнительно задействованы аппаратные блоки для ускоренной обработки трафика, в том числе NAT; Прекращена поддержка платформ adm5120, adm8668, au1000, mcs814x, omap24xx, ppc40x, ppc44x, xburst и zynq; Обновлены версии базовых библиотек и инструментов: musl libc 1.1.19, uClibc-ng 1.0.30, glibc 2.26+, gcc 7.3.0, binutils 2.29.1. Обновлены драйверы для всех поддерживаемых платформ; Добавлены патчи для противодействия атакам Spectre и Meltdown; Добавлена поддержка опций DHCPv6 со стороны клиента. Исправлены ошибки в реализации DHCPv6; В odhcpd по умолчанию обеспечена поддержка RFC6704; В межсетевом экране добавлена поддержка настройки conntrack helper и улучшена интеграция с ipset; Добавлены настройки для конфигурации GRE, GRE-TAP, VETH, VTI, VXLAN; Улучшена работа с планировщиком пакетов CAKE и произведен переход на версию v20180716; Wireguard VPN обновлен до версии v20180718 с оптимизациями для архитектуры MIPS и улучшенной работой с оффлоадингом. Улучшена процедура обновления системы; В web-интерфейсе добавлена возможность автоматического отката конфигурации на рабочую при потере связи, по аналогии с режимом Safe в RouterOS. Улучшено отображение виртуальных интерфейсов.