Дистрибутив Fedora 32 перешёл на стадию бета-тестирования

Началось тестирование бета-версии дистрибутива Fedora 32. Бета-выпуск ознаменовал переход на финальную стадию тестирования, при которой допускается только исправление критических ошибок. Релиз запланирован на конец апреля. Выпуск охватывает Fedora Workstation, Fedora Server, Fedora Silverblue и Live-сборки, поставляемые в форме спинов c десктоп-окружениями KDE Plasma 5, Xfce, MATE, Cinnamon, LXDE и LXQt. Сборки подготовлены для архитектур x86_64, ARM (Raspberry Pi 2 и 3), ARM64 (AArch64) и Power. Наиболее заметные изменения в Fedora 32: В сборках для рабочих станций по умолчанию активирован фоновый процесс earlyoom, который позволит более оперативно реагировать на нехватку памяти, не доходя до вызова обработчика OOM (Out Of Memory) в ядре, который срабатывает, когда ситуация становится критичной и система, как правило, уже не реагирует на действия пользователя. Если объём доступной памяти меньше заданного значения, то earlyoom через отправку SIGTERM (свободной памяти меньше 10%) или SIGKILL (< 5%) принудительно (завершит работу процесса, наиболее активно потребляющего память (имеющего самое большое значение /proc/*/oom_score), не доводя состояние системы до очистки системных буферов. Включён по умолчанию systemd-таймер fstrim.timer, раз в неделю запускающий сервис fstrim.service для выполнения команды "/usr/sbin/fstrim --fstab --verbose --quiet", передающей устройствам хранения сведения о неиспользуемых блоках в примонтированных файловых системах и в динамически расширяемых хранилищах LVM. Данный механизм сглаживает износ SSD- и NVMe-накопителей и повышает эффективность очистки блоков, а также в LVM улучшает использование свободных логических экстентов при динамическом выделении места в хранилище ("thin provisioning") за счёт их возвращения в пул. Рабочий стол обновлён до выпуска GNOME 3.36, в котором появилось отдельное приложение для управления дополнениями к GNOME Shell, модернизировано оформление интерфейсов входа в систему и разблокирования экрана, переработано большинство системных диалогов, появилась функция запуска приложений с использованием дискретного GPU на системах с гибридной графикой, в обзорном режиме реализована возможность переименования каталогов с приложениями, в систему уведомлений добавлена кнопка "не беспокоить", в мастер начальной настройки добавлена опция включения системы родительского контроля и т.п. В связи с прекращением времени жизни Python 2 из Fedora будет удалён пакет python2 и все пакеты, требующие Python 2 для своей работы или сборки. Для разработчиков и пользователей, которым необходим Python 2, будет предоставлен обособленный пакет python27, который будет оформлен в стиле "всё в одном" (без разбивки на субпакеты) и не рассчитан на использование в качестве зависимости. По умолчанию вместо iptables-legacy задействован пакет iptables-nft, предлагающий набор утилит для обеспечения совместимости с iptables, имеющих такой же синтаксис командной строки, но транслирующих полученные правила в байткод nf_tables. Динамический межсетевой экран firewalld переведён на работу поверх nftables. Для прямого вызова правил продолжат использоваться iptables и ebtables. Для сборки задействован GCC 10. Обновлены версии многих пакетов, включая Glibc 2.31, Binutils 2.33, LLVM 10-rc, Python 3.8, Ruby 2.7, Go 1.14, MariaDB 10.4, Mono 6.6, PostgreSQL 12, PHP 7.4. В пакетах, определяющих собственных пользователей и групп, осуществлён переход на определения пользователей в формате, идентичном sysusers.d (сама утилита systemd-sysusers для формирования содержимого /etc/passwd и /etc/group пока не применяется, речь только о формате данных с информацией о пользователях, для создания пользователей по-прежнему вызывается useradd). В пакетный менеджер DNF добавлен код для отправки сведений, необходимых для более точной оценки пользовательской базы дистрибутива. Вместо изначально планировавшейся передачи уникального UUID-идентификатора реализована более простая схема на основе счётчика времени установки и переменной с данными об архитектуре и версии ОС. Счётчик "countme" будет сбрасываться в "0" после первого успешного обращения к серверу и через 7 дней начнёт увеличиваться каждую неделю, что позволит оценить как давно установлен используемый выпуск. При желании пользователь может отключить отправку указанной информации. Интерпретатор Python собран с флагом "-fno-semantic-interposition", применение которого в тестах показало прирост производительности от 5 до 27%. В состав включены дополнительные растровые шрифты в формате OpenType для использования в таких программах, как gnome-terminal (после перехода на HarfBuzz возникли проблемы с использованием старых растровых шрифтов в gnome-terminal). При подготовке релиза прекращено тестирование качества установочных сборок для оптических носителей.