Обновление nginx 1.10.2

Представлен второй выпуск основной стабильной ветки nginx 1.10.2, в рамках которой будет продолжено развитие новых возможностей (в параллельно поддерживаемой стабильной ветке 1.10 вносятся только изменения, связанные с устранением серьёзных ошибок и уязвимостей). Основные изменения: Внесено изменение, улучшающее совместимость с некоторыми HTTP/2-клиентами в случае использования клиентских сертификатов. При попытке запросить виртуальный сервер, отличающийся от согласованного в процессе SSL handshake, теперь возвращается ответ "421 Misdirected Request"; HTTP/2-клиенты теперь могут сразу присылать тело запроса. Директива "http2_body_preread_size" позволяет указать размер буфера, который будет использоваться до того, как nginx начнёт читать тело; Исправлена ошибка где в рабочем процессе мог произойти segmentation fault при использовании протокола HTTP/2 и директивы "proxy_request_buffering"; Исправлена ошибка где в запросах бекэнду при использовании протокола HTTP/2 , всегда добавлялась строка заголовка "Content-Length", даже если у запроса не было тела; Исправлена ошибка при использовании протокола HTTP/2 в логах могли появляться сообщения "http request count is zero"; Исправлена ошибка в директиве "sub_filter" где могло буферизироваться больше данных, чем это необходимо; Исправлена утечка сокетов при использовании протокола HTTP/2; Исправлена ошибка некорректного возвращения ответа при использовании директив "aio threads" и "sendfile"; Обеспечена совместимость с OpenSSL 1.1.0.