Доступна коммуникационная платформа Asterisk 17

После года разработки состоялся релиз новой стабильной ветки открытой коммуникационной платформы Asterisk 17, используемой для развёртывания программных АТС, систем голосовой связи, VoIP-шлюзов, организации IVR-систем (голосовое меню), голосовой почты, телефонных конференций и call-центров. Исходные тексты проекта доступны под лицензией GPLv2. Asterisk 17 отнесён к категории выпусков с обычной поддержкой, обновления для которых формируются в течение двух лет. Поддержка прошлой LTS-ветки Asterisk 16 продлится до октября 2023 года, а ветки Asterisk 13 до октября 2021 года. При подготовке LTS-выпусков основное внимание уделяется обеспечению стабильности и оптимизации производительности, приоритетом же обычных выпусков является наращивание функциональности. Ключевые улучшения, добавленные в Asterisk 17: В ARI (Asterisk REST Interface), API для создания внешних коммуникационных приложений, которые могут напрямую манипулировать каналами, мостами и другими компонентами телефонии в Asterisk, реализована возможность определения фильтров событий - приложение может задать список разрешённых или запрещённых типов событий, и после этого в приложения будут передаваться только события, разрешённые в белом списке или не подпадающие под чёрный список; В REST API добавлен новый вызов 'move', позволяющий переносить каналы от одного приложения к другому без возвращения к сценарию обработки вызовов (dialplan); Добавлено новое приложение AttendedTransfer для постановки в очередь сопровождаемых переводов звонка (оператор вначале сам соединяется с целевым абонентом и после успешного вызова соединяет с ним звонящего) на заданный добавочный номер; Добавлено новое приложение BlindTransfer для перенаправления всех каналов, связанных с вызывающим, к целевому абоненту ("слепой" перевод, когда оператор не знает ответит ли вызываемый на звонок); В шлюз для организации конференций ConfBridge в опцию remb_behavior добавлены параметры "average_all", "highest_all" и "lowest_all", работающие на уровне совмещённых каналов (bridge), а не на уровне источников, т.е. значение REMB (Receiver Estimated Maximum Bitrate), оценивающее пропускную способность клиента, вычисляется и отправляется каждому отправителю, а не привязывается к специфичному отправителю; В команду Dial, предназначенную для установки нового соединения и его связи с каналом, добавлены новые переменные: RINGTIME и RINGTIME_MS - содержат время между созданием канала и получением первого сигнала RINGING; PROGRESSTIME и PROGRESSTIME_MS - содержат время между созданием канала и получением сигнала PROGRESS (эквивалентны значению PDD, Post Dial Delay); DIALEDTIME_MS и ANSWEREDTIME_MS - варианты DIALEDTIME и ANSWEREDTIME, выдающие время в миллисекундах вместо секунд; В rtp.conf для RTP/ICE добавлена возможность публикации локального адреса ice_host_candidate, как и оттранслированного адреса; Пакеты DTLS теперь могут быть фрагментированы в соответствии со значением MTU, что позволяет использовать более объёмные сертификаты при согласовании соединений DTLS; В команду ReadExten добавлена опция "p" для остановки чтения добавочного набора после нажатия символа "#"; В PBX-модуль DUNDi добавлена поддержка двойной привязки к IPv4/IPv6; Для MWI (Message Waiting Indicators) добавлен новый модуль "res_mwi_devstate", позволяющий подписываться на голосовые ящики, используя события "presence", что даёт возможность использовать клавиши статуса линии BLF в качестве индикаторов ожидания голосового письма; Драйвер chan_sip объявлен устаревшим, вместо него для протокола SIP рекомендовано использовать канальный драйвер chan_pjsip, построенный с использованием SIP-стека PJSIP и позволяющий уйти от ограничений и узких мест, присущих старому драйверу, таких как монолитный дизайн, запутанность кодовой базы, жёстко заданные в коде ограничения и трудоёмкость добавления новых возможностей.