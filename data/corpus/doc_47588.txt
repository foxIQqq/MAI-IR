Google открыл код утилиты для сравнения образов контейнеров

Компания Google представила утилиту container-diff, предназначенную для изучения различий между несколькими образами контейнеров или для анализа состава образа. Код утилиты написан на языке Go и распространяется под лицензией Apache 2.0. Утилита позволяет оценить изменения в образе и представить результат сравнения в наглядном виде, удобном для восприятия человеком и учитывающем сведения о пакетах, с которыми связаны выявленные изменения. Для интеграции с другими приложениями вывод также может быть оформлен в формате JSON. Сontainer-diff может отдельно выводить различия в системных пакетах, пакетах с модулями и библиотеками, используемыми в приложениях, или в произвольных файлах из состава образа. Например, можно отдельно оценить изменения, связанные с дистрибутивом Linux, и пакетами Python и Node.js, установленными через pip или npm. Образы для сравнения могут задаваться как в виде ссылки на локальный или удалённый демон Docker, так и в форме tar-архива (например, можно сравнить образы на локальной системе и внешнем сервере без их ручного копирования). Кроме выявления различий утилита также может быть запущена в режима анализа одного образа, при котором выводится отчёт о составе образа со списком пакетов и файлов, их версий и размера, а также изучается история изменений.