Выпуск Wine 4.21 и пакета для запуска Windows-игр Proton 4.11-9

Доступен экспериментальный выпуск открытой реализации Win32 API - Wine 4.21. С момента выпуска версии 4.20 было закрыто 50 отчётов об ошибках и внесено 343 изменения. Наиболее важные изменения: Реализовано определение URL конфигурации HTTP-прокси на основании данных, переданных через DHCP; В D3DX9 добавлена поддержка блоков параметров (добавлены вызовы d3dx_effect_ApplyParameterBlock(), d3dx_effect_BeginParameterBlock(), d3dx_effect_EndParameterBlock() и d3dx_effect_DeleteParameterBlock()); Продолжена работа по сборке DLL по умолчанию со встроенной библиотекой msvcrt (предоставляемой проектом Wine, а не DLL из Windows) в формате PE (Portable Executable); Закрыты отчёты об ошибках, связанные с работой игр и приложений LegoLand, Need For Speed: Shift, Super Mario Brothers X, Ccleaner, Xin Shendiao Xialv, Family Tree Maker 2012, lsTasks, Toad for MySQL Freeware 7.x, Gothic 2, Splinter Cell, Crysis 1, Nextiva, Everquest Classic, Archicad 22. Кроме того, компания Valve опубликовала новый выпуск проекта Proton 4.11-9, который основан на наработках проекта Wine и нацелен на обеспечение запуска в Linux игровых приложений, созданных для Windows и представленных в каталоге Steam. Наработки проекта распространяются под лицензией BSD. Proton позволяет напрямую запускать в Linux-клиенте Steam игровые приложения, поставляемые только для Windows. Пакет включает в себя реализацию DirectX 9 (на базе D9VK), DirectX 10/11 (на базе DXVK) и DirectX 12 (на базе vkd3d), работающие через трансляцию вызовов DirectX в API Vulkan, предоставляет улучшенную поддержку игровых контроллеров и возможность использования полноэкранного режима независимо от поддерживаемых в играх разрешений экрана. В новой версии Proton устранено появившееся в выпуске 4.11-8 регрессивное изменение, приводящее к снижению производительности в 32-разрядных играх, запускаемых с использованием прослоек DXVK и D9VK. Решена проблема с отображением неверного размера памяти для некоторых GPU. Устранён крах при запуске игры Crazy Machines 3. Восстановлена поддержка обратной связи от игровых контроллеров рулевого колеса. Дополнительно можно отметить новый выпуск проекта Wine Staging 4.21, развивающего расширенные сборки Wine, включающие не полностью готовые или рискованные патчи, пока не пригодные для принятия в основную ветку Wine. По сравнению с Wine в Wine Staging предоставляется 833 дополнительных патча. В новом выпуске Wine Staging осуществлена синхронизация с кодовой базой Wine 4.21. В основной состав Wine перенесено 6 патчей, затрагивающих реализацию вызова ReOpenFile, поддержку загрузки 64-разрядной библиотеки msxml6.dll из Microsoft Core XML Services 6.0, устраняющих крахи в играх League of Legends 9.23, Legends of Runeterra и AION. Обновлены патчи d3d9-Direct3DShaderValidatorCreate9 и winecfg-Staging.