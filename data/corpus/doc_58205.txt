В Linux-окружении для Apple M2 продемонстрирована работа KDE и GNOME с поддержкой GPU-ускорения

Разработчик открытого Linux-драйвера для GPU Apple AGX сообщил о реализации поддержки чипов Apple M2 и об успешном запуске на Apple MacBook Air с чипом M2 пользовательских окружений KDE и GNOME с полной поддержкой ускорения силами GPU. В качестве примера поддержки OpenGL на M2 продемонстрирован запуск игры Xonotic, одновременно c тестами glmark2 и eglgears. При тестировании энергопотребления заряда аккумулятора MacBook Air хватило на 8 часов непрерывной игры Xonotic в режиме 60FPS. Также отмечается, что адаптированный для чипов M2 DRM-драйвер (Direct Rendering Manager) для ядра Linux теперь может работать с развиваемым для Mesa OpenGL-драйвером asahi из коробки без внесения изменений в пространстве пользователя. Разработку драйверов для Linux усложняет то, что в чипах Apple M1/M2 применяется собственный GPU, спроектированный в Apple, выполняющий закрытую прошивку и использующий достаточно сложные совместно используемые структуры данных. Техническая документация на GPU отсутствует и при разработке независимых драйверов применяется обратный инжиниринг драйверов из macOS. Тем временем, разработчики проекта Asahi, нацеленного на портирование Linux для работы на компьютерах Mac, оснащённых ARM-чипами, разработанными компанией Apple, подготовили ноябрьское обновление дистрибутива (590 МБ и 3.4 ГБ) и опубликовали отчёт о достигнутом уровне развития проекта. Asahi Linux базируется на пакетной базе Arch Linux, включает традиционный набор программ и поставляется с рабочим столом KDE Plasma. Дистрибутив построен с использованием штатных репозиториев Arch Linux, а все специфичные изменения, такие как ядро, инсталлятор, загрузчик, вспомогательные скрипты и настройки окружения, вынесены в отдельный репозиторий. Из недавних изменений отмечается реализация поддержки USB3 (ранее порты Thunderbolt использовались только в режиме USB2), продолжение работы над поддержкой встроенных в MacBook громкоговорителей и разъёма для подключения наушников, добавление поддержки управления подсветкой клавиатуры, улучшение поддержки управления энергопотреблением, добавление в инсталлятор штатной возможности установки на устройствах с чипом M2 (без перехода в экспертный режим).