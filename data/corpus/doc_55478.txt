Amazon опубликовал OpenSearch 1.0, форк платформы Elasticsearch

Компания Amazon представила первый релиз проекта OpenSearch, развивающего форк платформы поиска, анализа и хранения данных Elasticsearch и web-интерфейса Kibana. В рамках проекта OpenSearch также продолжено развитие дистрибутива Open Distro for Elasticsearch, который ранее разрабатывался в Amazon совместно с Expedia Group и Netflix в форме надстройки над Elasticsearch. Код распространяется под лицензией Apache 2.0. Выпуск OpenSearch 1.0 признан готовым для использования в рабочих системах. OpenSearch развивается как совместный проект, разрабатываемый при участии сообщества, например, к работе уже присоединились такие компании, как Red Hat, SAP, Capital One и Logz.io. Для участия в разработке OpenSearch не требуется подписание соглашения о передаче имущественных прав (CLA, Contributor License Agreement), а правила использования торговой марки OpenSearch имеют разрешительный характер и позволяют указывать данное имя при продвижении своих продуктов. OpenSearch был ответвлён от кодовой базы Elasticsearch 7.10.2 в январе и очищен от компонентов, распространяемых не под лицензией Apache 2.0. Выпуск включает движок хранения и поиска OpenSearch, web-интерфейс и среду визуализации данных OpenSearch Dashboards, а также набор дополнений, ранее поставлявшихся в продукте Open Distro for Elasticsearch и заменяющих платные компоненты Elasticsearch. Например, в Open Distro for Elasticsearch поставляются дополнения для машинного обучения, поддержки SQL, генерации уведомлений, диагностики производительности кластера, шифрования трафика, разграничения доступа на основе ролей (RBAC), аутентификации через Active Directory, Kerberos, SAML и OpenID, реализации единой точки входа (SSO) и ведения детального лога для аудита. Из изменений, кроме чистки от проприетарного кода, интеграции с Open Distro for Elasticsearch и замены элементов бренда Elasticsearch на OpenSearch, упоминается: Пакет адаптирован для обеспечения гладкого перехода с Elasticsearch на OpenSearch. Отмечается, что OpenSearch предоставляет максимальную совместимость на уровне API и миграция существующих систем на OpenSearch напоминает обновление до нового выпуска Elasticsearch. Для платформы Linux добавлена поддержка архитектуры ARM64. Предложены компоненты для встраивания OpenSearch и OpenSearch Dashboard в существующие продукты и сервисы. В web-интерфейс добавлена поддержка Data Stream, позволяющих сохранять непрерывно поступающий поток данных в форме временного ряда (срезы значений параметров, привязанные ко времени) в разные индексы, но с возможностью обработки как единого целого (обращение в запросах по общему имени ресурса). Предоставлена возможность настройки используемого по умолчанию числа первичных сегментов (shard) для нового индекса. В дополнение Trace Analytics добавлена поддержка визуализации и фильтрации атрибутов Span. В дополнение Reporting добавлена поддержка генерации отчётов по расписанию и фильтрации отчётов по пользователям (tenant). Напомним, что поводом для создания форка стал перевод исходного проекта Elasticsearch на несвободную лицензию SSPL (Server Side Public License) и прекращение публикации изменений под старой лицензией Apache 2.0. Лицензия SSPL признана организацией OSI (Open Source Initiative) не соответствующей критериям Open Source из-за наличия дискриминирующих требований. В частности, несмотря на то, что лицензия SSPL основана на AGPLv3, в тексте присутствуют дополнительные требования поставки под лицензией SSPL не только кода самого приложения, но и исходных текстов всех компонентов, вовлечённых в предоставление облачного сервиса. При создании форка главной целью было намерение сохранить Elasticsearch и Kibana в форме открытых проектов и предоставить полноценное открытое решение, развиваемое при участии сообщества.