Сравнение производительности Sun Studio 12, GCC 3.4 и GCC 4.0

Надеясь разобраться в причинах отставания OpenSolaris в недавно проведенном тестировании, ресурс phoronix.com решил оценить разницу в производительности приложений, собранных компиляторами Sun Studio 12 (2008/10/07), GCC 3.4.3 и GCC 4.0.2. Тесты выполнялись на платформе OpenSolaris 2008.11. Итоги: В тесте на скорость кодирования MP3 в LAME, GCC 4 сборка выполнила задание за 43 секунды, GCC 3 - за 45, а Sun Studio 12 - за 127 сек., т.е. выполнялась в 3 раза дольше. При кодировании в формат Ogg отставание Sun Studio 12 было не столь значительным: 37 против 27 секунд. Вероятно причиной отставания является недостаточное использование опций оптимизации при сборке программ в Sun Studio, в то время как при сборке в GCC разработчики задействовали более эффективные опции оптимизации кода; При оценке времени сборки ситуация оказалась обратной, Sun Studio значительно быстрее завершил компиляцию. Так PHP был собран из исходных текстов при помощи Sun Studio за 20 сек., а при помощи GCC за 34 секунды. Также Sun Studio 12 обошел конкурентов и при тестировании производительности обработки изображений пакетом GraphicsMagic, пакет собранный в Sun Studio 12 выполнил 108 (во втором тесте 40, в третьем 100, в четвертом 54) операций в минуту, против 40 (10, 34, 13) у GCC 3 и 43 (12, 38, 17) у GCC 4. В данном случае выигрыш Sun Studio 12 обусловлен поддержкой распараллеливания выполнения кода в многопроцессорной конфигурации, в то время как поддержка OpenMP появилась в GCC только начиная с версии 4.2; При измерении производительности шифрования файла размером 2Гб производительность GnuPG собранного тремя компиляторами оказалась примерно на одном уровне. Одинаковые результаты также получены при тестировании производительности SQLite.