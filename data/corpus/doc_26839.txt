Обзор развития проекта OpenBSD

За последний месяц в OpenBSD произошли следующие изменения (помимо упомянутого недавно отдельно частичного перехода на GCC 4): Убрана платформа moko (OpenMoko). Причины — отсутствие разработчиков (проект изначально делался в рамках Google Summer of Code, да так с тех пор толком и не развивался) и отсутствие документации на видеодрайвер. Новый демон ldapd, представляющий собой простую реализацию LDAP-протокола. Буквально только что включён в общую сборку ОС. Новый демон iked, представляющий собой реализацию IKEv2. Он дополняет собой isakmpd, реализующий IKEv1/ISAKMP. Возможно, в будущем в iked будет добавлена реализация этих протоколов, а пока что работа сконцетрирована на IKEv2. Демон уже работает в качестве responder'а для других реализаций IKEv2, но ещё не включён в общую сборку ОС. Вновь внесены (теперь уже, видимо, капитально — они были убраны перед релизом 4.7 из-за недостаточного тестирования) изменения в SCSI-стек, упрощающие его внутреннюю реализацию, уменьшающие количество блокировок и исправляющие некоторые проблемы с оными. На новый метод работы переведены почти все основные драйвера подобные sd и atapiscsi, сейчас в основном вносятся правки в драйверы RAID-контроллеров. Заинтересованные лица могут помочь, загрузившись в -CURRENT, для этого достаточно установить свежий снапшот OpenBSD на флешку, загрузиться с неё и запустить одновременно несколько процессов dd с разными параметрами. Многочисленные улучшения в поддержке MPLS, в том числе в OpenBGPD. ldpd, постоянно развивающийся демон MPLS-маршрутизации, включён в общую сборку ОС, однако, в ядре опция MPLS и псевдоустройство mpe(4) пока что по умолчанию выключены. В ядре, собранном с поддержкой MPLS, можно включать и выключать MPLS индивидуально для каждого интерфейса через ifconfig. Вследствие этого соответствующая глобальная опция sysctl, действовавшая на всю систему, убрана (по умолчанию MPLS на интерфейсах отключён). Различные реализации imsg, простого и эффективного фреймворка для организации межпроцессного взаимодействия (отрывок презентации), были приведены в единый вид, объединены и общая реализация вынесена в состав системной библиотеки libutil. Был оптимизирован процесс сборки ядра, особенно заметно это должно сказаться в скорости сборки на старых архитектурах. Исправлено много мелких проблем (вроде регулирования скорости вращения вентиляторов) на платформе sparc64. Также были внесены улучшения в smtpd, mandoc, sndio, поддержку DRM, драйвер athn и подсистемы ядра, связанные с манипулированием процессами.