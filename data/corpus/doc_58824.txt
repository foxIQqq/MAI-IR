Выпуск Libreboot 20230319. Начало разработки Linux-дистрибутива с утилитами OpenBSD

Представлен выпуск свободной загрузочной прошивки Libreboot 20230319. Проект развивает готовую сборку проекта coreboot, предоставляющую замену проприетарным прошивкам UEFI и BIOS, отвечающим за инициализации CPU, памяти, периферийных устройств и других компонентов оборудования, с минимизацией бинарных вставок. Libreboot нацелен на формирование системного окружения, позволяющего обойтись без проприетарного ПО настолько, насколько это возможно, не только на уровне операционной системы, но и прошивки, обеспечивающей загрузку. Libreboot дополняет coreboot средствами для упрощения применения конечными пользователями, формируя готовый дистрибутив, которым может воспользоваться любой пользователь, не имеющий специальных навыков. Среди поддерживаемого в Libreboot оборудования: Десктоп-системы Gigabyte GA-G41M-ES2L, Intel D510MO, Intel D410PT, Intel D945GCLF и Apple iMac 5,2. Ноутбуки: ThinkPad X60 / X60S / X60 Tablet, ThinkPad T60, Lenovo ThinkPad X200 / X200S / X200 Tablet/ X220 / X230, Lenovo ThinkPad R400, Lenovo ThinkPad T400 / T400S/ T420 / T440, Lenovo ThinkPad T500 / T530, Lenovo ThinkPad W500 / W530, Lenovo ThinkPad R500, Apple MacBook1 и MacBook2, а также различные устройства Chromebook от компаний ASUS, Samsung, Acer и HP. В новом выпуске: Добавлена поддержка ноутбуков Lenovo ThinkPad W530 и T530. В следующей версии ожидается поддержка HP EliteBook 8560w, Lenovo G505S и Dell Latitude E6400. Прекращена поддержка плат Asus p2b_ls и p3b_f. Для плат с процессорами на базе микроархитектуры Haswell адаптирован код для инициализации памяти (raminit). Работа проверена на ноутбуках ThinkPad T440p и ThinkPad W541. Решены проблемы с переходом в спящий режим (S3) на ноутбуках ThinkPad T440p и ThinkPad W541. В GRUB включён принудительный режим вывода на консоль (GRUB_TERMINAL=console) без изменения видеорежима, что улучшило отображение загрузочных меню установочных носителей некоторых дистрибутивов Linux. Для большинства плат x86 выполнена синхронизация с кодовой базой CoreBoot по состоянию на февраль 2023 года, среди прочего перенесены улучшения для устройств с чипами на базе микроархитектуры Haswell (ThinkPad T440p/W541). Перенесены изменения из актуальных кодовых баз GRUB и SeaBIOS. Время ожидания в grub.cfg уменьшено с 10 до 5 секунд. Для ноутбуков ThinkPad GM45 размер выделяемой видеопамяти по умолчанию уменьшен с 352MB до 256MB. Переработана кодовая база nvmutil. Кроме того, автором Libreboot началась разработка нового минималистичного Live-дистрибутива для восстановления систем после сбоев. По аналогии с дистрибутивом Heads, проект развивает размещаемое на Flash урезанное системное окружение, которые может быть загружено из LibreBoot, CoreBoot или LinuxBoot, но вместо сборки в качестве загрузочного "payload" в новом проекте планируется подготовить отдельный системный образ, загружаемый в CBFS и вызываемый из промежуточных payload-ов с GRUB или SeaBIOS, способных запускать исполняемые файлы, размещённые на Flash. Проект интересен тем, что в нём планируется совместить ядро Linux, стандартную Си-библитеку Musl и инструментарий из базового окружения OpenBSD. Для реализации данной идеи продолжено развитие проекта lobase, занимавшегося портированием утилит OpenBSD для Linux, но заброшенного 5 лет назад (автор Libreboot создал форк lobase, который актуализирован до OpenBSD 7.2 и портирован для Musl). Для управления пакетами и установки дополнительных программ планируется использовать инструментарий apk-tools от Alpine Linux, а для формирования образов сборочный инструментарий abuild и aports. После готовности форка пользовательского окружения OpenBSD, его планируется передать проекту Alpine для использования в качестве альтернативы пакету BusyBox. Дополнительно можно отметить анонс проекта CloudFW 2.0 с реализацией прошивки на базе Coreboot и LinuxBoot для замены UEFI, предоставляющей полноценный открытый firmware-стек для x86-серверов. Разработка ведётся китайской компанией Bytedance (владеет TikTok), которая использует CloudFW на оборудовании в своей инфраструктуре.