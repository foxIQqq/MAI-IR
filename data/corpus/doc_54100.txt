Google развивает новый формат изображений WebP 2

Компания Google опубликовала наработки, связанные с экспериментальным форматом кодирования изображений WebP 2, развиваемом в качестве более эффективной замены формата WebP. Новый формат ещё находится на стадии разработки и окончательно не определён, поэтому пока не готов для широкого применения (в кодировщике и декодировщике не гарантируется обратная совместимость, не проведена оптимизация кода). Для реализации в WebP 2 намечены такие новые возможности, как HDR c 10-битовым представлением цвета, более эффективное сжатие информации о прозрачности, полноценная поддержка анимации, лёгкое инкрементальное декодирование (послойное декодирование с повышением детализации на каждом этапе, позволяющее очень быстро формировать эскизы для предпросмотра), быстрая многопоточная программная реализация, минимализация визуальной деградации на низких битрейтах, улучшенный режим сжатия без потерь. Назначение нового формата идентично первому WebP: передача изображений по сети, оптимизация для средних разрешений, применение в Web и мобильных приложениях, с поддержкой типовых для данных задач возможностей, таких как поддержка прозрачности, анимации и быстрого формирования эскизов. Основные усилия при разработке нового формата направлены на увеличение эффективности сжатия. Первый WebP позволяет добиться сокращения размера файла на 25%-34% по сравнению с файлами JPEG аналогичного качества, а в режиме сжатия без потерь обеспечивает сокращение результирующего размера файла на 26% по сравнению с максимальным уровнем сжатия PNG. WebP 2 нацелен на повышение эффективности сжатия без потерь на 30% по сравнению с первым WebP и сокращение отставания от кодека AVIF, сжимающего с потерей информации, на 20%. Тестируемый прототип пока плохо оптимизирован и по скорости кодирования и декодирования сильно отстаёт от отточенной реализации libwebp. Например, в режиме сжатия с потерями WebP 2 выполняет сжатие в пять раз медленные, чем первый WebP. По сравнению с libavif новый WebP выполняет кодирование в два раза быстрее, но в 3 раза отстаёт по скорости декодирования. При этом к моменту публикации финального варианта библиотеки libwebp2 планируется добиться паритета по скорости декодирования.