Вышел nginx 1.4.1 с устранением уязвимости, приводящей к удалённому выполнению кода

Представлен внеплановый стабильный выпуск http-сервера nginx 1.4.1, а также первый выпуск новой экспериментальной ветки 1.5.0, в которых отмечается устранение уязвимости (CVE-2013-2028), которая может привести к перезаписи областей стека рабочего процесса при обработке специально оформленных chunked-запросов. При успешной эксплуатации не исключается возможность исполнения кода злоумышленника на сервере. Проблема проявляется только в выпусках nginx, начиная с версии 1.3.9. Прошлая стабильная ветка 1.2.x, которая ещё поставляется в большинстве дистрибутивов, уязвимости не подвержена. Для портов FreeBSD, в которых уже поставлялась версия 1.4.0, выпущено соответствующее обновление. Для исправления проблемы также можно использовать патч. В качестве обходного пути защиты от проявления уязвимости, в каждом из блоков server{} можно запретить обработку chunked-запросов, используя следующую конструкцию: if ($http_transfer_encoding ~* chunked) { return 444; } Дополнение: Проблема также отчасти затрагивает и предыдущие версии nginx 1.2.x и 1.3.0-1.3.9 при возврате специально оформленного ответа от http-backend. Проблема для использующих старую ветку исправлена в версии 1.2.9.