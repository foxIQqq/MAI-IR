Выпуск проприетарного драйвера NVIDIA 520.56.06

Компания NVIDIA представила выпуск новой ветки проприетарного драйвера NVIDIA 520.56.06. Драйвер доступен для Linux (ARM64, x86_64), FreeBSD (x86_64) и Solaris (x86_64). NVIDIA 520.x стала второй стабильной веткой после открытия компанией NVIDIA компонентов, работающих на уровне ядра. Исходные тексты модулей ядра nvidia.ko, nvidia-drm.ko (Direct Rendering Manager), nvidia-modeset.ko и nvidia-uvm.ko (Unified Video Memory) из состава NVIDIA 520.56.06, а также используемые в них общие компоненты, не привязанные к операционной системе, опубликованы на GitHub. Прошивки и используемые в пространстве пользователя библиотеки, такие как стеки CUDA, OpenGL и Vulkan, остаются проприетарными. Основные новшества: Добавлена поддержка GPU GeForce RTX 4090. Обновлён драйвер, обеспечивающий поддержку графического API Vulkan. Расширения VK_KHR_acceleration_structure, VK_KHR_deferred_host_operations, VK_KHR_ray_query, VK_KHR_ray_tracing_pipeline, VK_NV_cuda_kernel_launch, VK_NV_ray_tracing, VK_NV_ray_tracing_motion_blur, VK_NVX_binary_import и VK_NVX_image_view_handle больше не зависят от модуля ядра nvidia-uvm.ko. Добавлена поддержка доставки OTA-обновлений для Proton и Wine NVIDIA NGX. Для включения загрузки обновлений следует выставить в 1 переменную окружения PROTON_ENABLE_NGX_UPDATER. В инсталляторе (nvidia-installer) пользователям без прав root разрешено использовать опцию "--add-this-kernel", реализована более точная индикация прогресса сборки модулей ядра и обеспечен вывод предупреждения при отсутствии загрузчика Vulkan ICD. Переработана поддержка системы DKMS (Dynamic Kernel Module Support), используемой для сборки модулей ядра после обновления ядра Linux. При наличии в системе утилиты dkms инсталлятор теперь по умолчанию регистрирует в DKMS поставляемые модули ядра. Добавлена новая реализация отладчика CUDA (libcudadebugger.so) для архитектур GPU, начиная с Pascal. Устранено регрессивное изменение, приводившее к зависаниям и пустому экрану при запуске X-сервера на GPU серии RTX 30 в некоторых конфигурациях с мониторами, подключёнными через HDMI. Исправлена ошибка из-за которой наблюдался крах игры Spider-Man Remastered на GPU Turing и более новых. В Vulkan-драйвере устранена ошибка, приводившая к повреждению геометрических шейдеров и шейдеров управления тесселяцией.