Разработчики GNOME, KDE и Unity договорились о совместном развитии спецификаций FreeDesktop

Подведены итоги состоявшегося на прошлой неделе саммита FreeDesktop, проведённого с целью улучшения сотрудничества между разработчиками свободных десктоп-окружений. Собравшиеся на саммите разработчики KDE, GNOME, Unity и Razor-qt обсудили насущные вопросы, связанные с переносимостью и следованию единым спецификациям. В итоге был согласован план по дальнейшему развитию спецификаций FreeDesktop, который подразумевает создание совместной рабочей группы, в которую войдут представители GNOME, KDE и Unity. Группа будет наблюдать за обсуждениями в списке рассылки xdg, участвовать в дискуссиях и принимать решение по поводу достижения консенсуса по тому или иному вопросу развития спецификации. Ожидается, что подобный шаг поможет вернуть списку рассылки xdg роль основной точки связи между свободными десктоп-проектами. На встрече также было принято несколько конкретных решений, касающихся улучшения существующих спецификаций: Достигнуто соглашение по спецификации для интерфейсов D-Bus, реализуемых приложениями. Подобная спецификация позволит воплотить в жизнь схему активации приложений через D-Bus, при которой приложение может запускаться через отправку D-Bus-запроса вместо выполнения исполняемого файла. Одобрены изменения по доступности для приложений спецификации управления элементами рабочего стола. Решено внести изменения в спецификацию управления корзиной, которые предоставят эффективные средства для определения размера всех элементов, находящихся в корзине. Данную возможность, например, можно будет использовать для вывода уведомлений, когда размер корзины становится слишком велик. Представлен новый формат для файлов с кэшем и индексами содержимого всех ".desktop"-файлов в определённой директории. Новый формат позволяет применять эффективные механизмы полнотекстового поиска для ".desktop"-файлов и использовать быструю выборку и фильтрацию полей (например, можно быстро определить какие приложения поддерживают работу с заданным типом файла). При этом новый формат обеспечивает снижение потребления дискового пространства кэшем и индексами, и требует меньше оперативной памяти при выполнении операций, так как содержимое файлов совместно используется всеми процессами при помощи mmap. Рассмотрен прототип реализации D-Bus, использующей подсистему kdbus, планируемую для интеграции в ядро Linux и представляющую собой аналог протокола D-Bus, реализованный на уровне ядра и позволяющий обойтись без необходимости запуска в пространстве пользователя отдельного демона D-Bus. Обсуждены вопросы будущего сервиса пользовательских аккаунтов и какие потребности десктопов, отличных от GNOME, в нем следует реализовать. Например, рассмотрено предложение хранения в данном сервисе данных локали и предоставление структурированного хранилища для хранения произвольных параметров в формате ключ/значение. Без конкретных решений остались обсуждения средств управления сессиями через D-Bus, замена основанной на технологиях X11 системы уведомления о запуске, экспортирование через D-Bus групп выполнения действий и привязки действий к элементам контекстного меню в интерфейсах работы с файлами.