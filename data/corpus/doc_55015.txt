Grafana меняет лицензию с Apache 2.0 на AGPLv3

Разработчики платформы визуализации данных Grafana, объявили о переходе на лицензию AGPLv3, вместо ранее применяемой лицензии Apache 2.0. Аналогичное изменение лицензии произведено для системы агрегирования логов Loki и распределённого бэкенда трассировки Tempo. Плагины, агенты и некоторые библиотеки продолжат поставляться под лицензией Apache 2.0. Интересно, что отдельные пользователи отмечают, что одной из причин успеха проекта Grafana, на начальном этапе пытавшемся оптимизировать интерфейс уже существовавшего продукта Kibana для визуализации меняющихся во времени данных и уйти от привязки к хранилищу Elasticsearch, был выбор более разрешительной лицензии на код. Со временем разработчиками Grafana была образована компания Grafana Labs, которая начала продвижение коммерческих продуктов, таких как облачная система Grafana Cloud и коммерческое решение Grafana Enterprise Stack. Решение о смене лицензии было принято чтобы удержаться на плаву и выдержать конкуренцию с поставщиками, не принимающими участие в разработке, но использующими модифицированные варианты Grafana в своих продуктах. В отличие от кардинальных мер, предпринятых такими проектами, как ElasticSearch, Redis, MongoDB, Timescale и Cockroach, перешедших на лицензию, не являющуюся открытой, Grafana Labs попыталась принять решение, балансирующее между интересами сообщества и бизнеса. Переход на AGPLv3, по мнению Grafana Labs, является оптимальным решением: с одной стороны AGPLv3 соответствует критериям свободных и открытых лицензий, а с другой - не позволяет паразитировать на открытых проектах. На тех, кто использует в своих сервисах немодифицированные варианты Grafana или публикует код изменений (например, Red Hat Openshift и Cloud Foundry), смена лицензии никак не отразится. Изменение также не повлияет на компанию Amazon, предоставляющую облачный продукт Amazon Managed Service for Grafana (AMG), так как данная компания является стратегическим партнёром в разработке и предоставляет проекту многие сервисы. Компании с корпоративной политикой, запрещающей использование лицензии AGPL, могут продолжить использовать старые выпуски под лицензией Apache, для которых планируется продолжить публикацию обновлений с исправлением уязвимостей. Другим выходом является использование проприетарной Enterprise-редакции Grafana, которая может применяться бесплатно, если через покупку ключа не активированы дополнительные платные функции. Напомним, что особенностью лицензии AGPLv3 является введение дополнительных ограничений для приложений, обеспечивающих функционирование сетевых сервисов. При использовании AGPL-компонентов при обеспечении работы сервиса, разработчик обязан предоставить пользователю исходный код всех внесённых в эти компоненты изменений, даже если лежащее в основе сервиса программное обеспечение не распространяется и используется исключительно во внутренней инфраструктуре для организации работы сервиса. Лицензия AGPLv3 совместима только с GPLv3, что приводит к лицензионному конфликту с приложениями, поставляемыми под лицензией GPLv2. Например, поставка библиотеки под AGPLv3 требует от всех использующих данную библиотеку приложений распространения кода под лицензией AGPLv3 или GPLv3, поэтому некоторые библиотеки Grafana оставлены под лицензией Apache 2.0. Кроме изменения лицензии проект Grafana переведён на новое соглашение с разработчиками (CLA), определяющее передачу имущественных прав на код, что позволяет компании Grafana Labs менять лицензию без согласования со всеми участниками разработки. Вместо старого соглашения на базе Harmony Contributor Agreement введено соглашение, основанное на документе, которые подписывают участники Фонда Apache. Указано, что данное соглашение более понятно и привычно разработчикам.