Началось бета-тестирование мобильной платформы Android 12

Компания Google представила первый бета-выпуск открытой мобильной платформы Android 12. Релиз Android 12 ожидается в третьем квартале 2021 года. Сборки прошивки подготовлены для устройств Pixel 3 / 3 XL, Pixel 3a / 3a XL, Pixel 4 / 4 XL, Pixel 4a / 4a 5G и Pixel 5, а также для некоторых устройств ASUS, OnePlus, Oppo, Realme, Sharp, TCL, Transsion, Vivo, Xiaomi и ZTE. Среди наиболее заметных пользователю изменений: Предложено одно из наиболее значительных обновлений оформления интерфейса в истории проекта. Новый дизайн реализует концепцию "Material You", преподносимую как вариант Material Design следующего поколения. Новая концепция будет автоматически применена для всех платформ и элементов интерфейса, и не потребует от разработчиков приложений внесения каких-либо изменений. В июле разработчикам приложений планируется предоставить первый стабильный выпуск нового тулкита для разработки графических интерфейсов - Jetpack Compose. В самой платформе выделяется новое оформление виджетов. Виджеты сделаны более заметными, усилено скругление углов, предоставлена возможность использования динамических цветов, соответствующих системной теме оформления. Добавлены интерактивные элементы управления, такие как флажки и переключатели (CheckBox, Switch и RadioButton), например, позволяющие в виджете TODO редактировать списки задач, не открывая приложение. Реализован более гладкий визуальный переход к приложениям, запущенным из виджетов. Упрощена персонализация виджетов - добавлена кнопка (кружок с карандашом) для быстрой перенастройки размещения виджета на экране, появляющаяся при длительном касании к виджету. Предоставлены дополнительные режимы ограничения размера виджета и возможность использования адаптивной раскладки элементов виджета (responsive layout) для создания типовых раскладок, меняющихся в зависимости от размера видимой области (например, можно сформировать раздельные раскладки для планшетов и смартфонов). В интерфейсе выбора виджетов (widget picker) реализован динамический предпросмотр и возможность отображения описания виджета. Добавлена возможность автоматической адаптации системной палитры к цвету выбранных обоев - система автоматически определяет преобладающие цвета, корректирует текущую палитру и применяет изменения ко всем элементам интерфейса, включая область уведомлений, экран блокировки, виджеты и регулятор громкости. Реализованы новые анимированные эффекты, такие как постепенное увеличение масштаба и плавный сдвиг областей при прокрутке, появлении и перемещении элементов на экране. Например, при отмене уведомления на экране блокировки, индикатор времени автоматически увеличивается и занимает пространство, которое ранее занимало уведомление. Переработано оформление выпадающей области с уведомлениями и быстрыми настройками. В число быстрых настроек добавлены опции для Google Pay и управления умным домом. При удержании кнопки включения питания обеспечен вызов Google Assistant, которому можно дать команду для совершения звонка, вызова приложения или прочтения вслух статьи. Добавлен эффект растягивания границ прокрутки (Stretch overscroll), дающий понять, что пользователь вышел за предел обрасти прокрутки и достиг конца содержимого. Изображение содержимого при новом эффекте как бы растягивается и отпружинивает назад. Новый режим индикации конца прокрутки активирован по умолчанию, но в настройках предусмотрена опция для возврата старого поведения. Оптимизирован интерфейс для устройств со складными экранами. Реализованы более гладкие звуковые переходы - при переключении от одного приложения, выводящего звук, к другому, звучание первого теперь плавно приглушается, а второго плавно нарастает, без наложения одного звука на другой. Проведена значительная оптимизация производительности системы - нагрузка на CPU основных системных сервисов снизилась на 22%, что в свою очередь привело к увеличению времени автономной работы на 15%. За счёт снижение конкуренции блокировок, сокращения задержек и оптимизации ввода/вывода повышена производительность перехода от одного приложений к другому и сокращено время запуска приложений. В PackageManager при работе со снапшотами в режиме только для чтения конкурирование блокировок снижено на 92%. В механизме межпроцессного взаимодействия Binder применено легковесное кэширование, позволившее сократить задержки в 47 раз для некоторых видов вызовов. Повышена производительность обработки файлов dex, odex и vdex, что привело к сокращению времени загрузки приложений, особенно на устройствах с небольшим объёмом памяти. Ускорен запуск приложений из уведомлений, например, запуск Google Photos из уведомления теперь выполняется на 34% быстрее. Повышена производительность запросов к БД через применение inline-оптимизаций в операции CursorWindow. Для небольших объёмов данных CursorWindow стал быстрее на 36%, а для наборов, включающих более 1000 строк, ускорение может достигать 49 раз. Предложены критерии для классификации устройств по производительности. В зависимости от возможностей устройства ему присваивается класс производительности, который затем может использоваться в приложениях для ограничения функциональности кодеков на маломощных устройствах или для работы с мультимедийным контентом более высокого качества на мощном оборудовании. Реализован режим гибернации приложений, позволяющий если пользователь давно явно не взаимодействовал с программой автоматически сбросить ранее выданные приложению полномочия, остановить выполнение, вернуть используемые приложением ресурсы, такие как память, и заблокировать запуск фоновых работ и отправку push-уведомлений. Режим может применяться для большинства приложений и позволяет защитить данные пользователя, к которым продолжают иметь доступ давно забытые программы. При желании режим гибернации можно выборочно отключить в настройках. Добавлено отдельное полномочие BLUETOOTH_SCAN для сканирования близлежащих устройств по Bluetooth. Ранее данная возможность предоставлялась при наличии доступа к информации о местоположении устройства, что приводило к необходимости предоставления дополнительных полномочий приложениям, которым требуется сопряжение c другим устройством по Bluetooth. Модернизирован диалог предоставления доступа к информации о местоположении устройства. Пользователю теперь даётся возможность передать приложению сведения о точном местоположении или предоставить только приблизительные данные, а также ограничить действие полномочий только активным сеансом работы с программой (запретить доступ при нахождении в фоне). Уровень точности данных, выдаваемых при выборе приблизительного местоположения, можно изменить в настройках, в том числе в привязке к отдельным приложениям. Во втором бета-выпуске ожидается появление интерфейса Privacy Dashboard с общим обзором всех настроек полномочий, позволяющим понять, к каким данным пользователя приложения имеют доступ). В панель будут добавлены индикаторы активности микрофона и камеры, при помощи которых также можно принудительного выключить микрофон и камеру. Вместо редакции для носимых устройств Android Wear совместно с компанией Samsung решено развивать новую унифицированную платформу, комбинирующую возможности Android и Tizen. Расширены возможности редакций Android для автомобильных информационно-развлекательных систем и умных телевизоров. Со списком низкоуровневых новшеств можно познакомиться в обзоре первых ознакомительных выпусков Android 12 для разработчиков (developer preview).