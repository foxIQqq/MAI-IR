Второй предварительный выпуск графического редактора GIMP 3.0

Доступен для тестирования выпуск графического редактора GIMP 2.99.4, в котором продолжено развитие функциональности будущей стабильной ветки GIMP 3.0, в которой выполнен переход на GTK3, добавлена штатная поддержка Wayland и HiDPI, проведена значительная чистка кодовой базы, предложен новый API для разработки плагинов, реализовано кэширование отрисовки, добавлена поддержка выделения нескольких слоёв (Multi-layer selection) и обеспечено редактирование в исходном цветовом пространстве. Для установки доступен пакет в формате flatpak (org.gimp.GIMP в репозитории flathub-beta) и сборки для Windows. По сравнению с прошлым тестовым выпуском добавлены следующие изменения: Проведена работа по повышению удобства работы с новым компактным представлением кнопок-ползунков (слайдеров), применяемых для задания параметров фильтров и инструментов. Например, решены проблемы с ручным вводом значений с клавиатуры - ранее клик мыши на цифрах приводил к изменению значения, а теперь лишь выставляет фокус ввода, при том что клик на область вне границ цифр, как и раньше, приводит к корректировке значений. Также решены проблемы с изменением курсора в зависимости от контекста. Устранены пересечения штатных горячих клавиш (Shift+клик и Ctrl+клик), применяемых для выделения нескольких слоёв (Multi-layer selection), которые могли по ошибке приводить к созданию или удалению масок в слое. Для исключения пересечений специальные обработчики, в которых применяется нажатие Shift, Ctrl или Shift-Ctrl, теперь активируются при удержании клавиши Alt. Например, вместо Ctrl+клик для включения/отключения маски слоя теперь нужно нажимать Alt+Ctrl+клик. Проведена чистка диалога "Input Devices", в котором оставлены только параметры устройств, в данный момент подключённых к компьютеру. Виртуальные устройства и тестовое устройство XTEST скрыты. Вместо всех возможных осей для стилусов, показываются только оси, фактически поддерживаемые драйвером. Наименование осей также теперь соответствует именам, выдаваемым драйвером (например, вместо оси "X" может показываться "Abs. X"). При наличии поддержки оси, учитывающей давление на планшет, для устройства автоматически включается режим учёта нажима при редактировании кривых. Изменены настройки по умолчанию, применяемые при обнаружении подключения нового устройства. При первом подключении устройств теперь по умолчанию активируются их применение в некоторых инструментах. Например, для основного стилуса включается инструмент рисования кистями (Paintbrush), а при перевороте - ластик, для сенсорных экранов - инструмент для размазывания (Smudge). При выборе размера кисти также по умолчанию учитывается степень нажатия. Добавлен новый экспериментальный инструмент Paint Select, позволяющий постепенно выделить область, используя приблизительные мазки кистью. Инструмент основан на применении алгоритма выборочного сегментирования (graphcut) для выделения только интересующей области. Добавлены новые вызовы в API для разработки плагинов, связанные с генерацией диалогов и обработкой метаданных, позволяющие существенно сократить объём кода, необходимый для формирования диалогов. На новый API переведены плагины PNG, JPEG, TIFF и FLI. Например, применением нового API в плагине JPEG позволило сократить размер кода на 600 строк. Для плагинов предоставлены настройки многопоточности. Предлагаемый в конфигураторе параметр, определяющий число используемых потоков, ранее применялся только в основном процессе, а теперь доступен и для плагинов, которые могут определить выставленные в настройках параметры многопоточности через API gimp_get_num_processors(). Поддержка многопоточности уже задействована в плагинах HEIF/AVIF и JPEG2000. До версии 0.4.28 обновлён фреймворк GEGL (Generic Graphics Library), в котором появилась поддержка операций "gegl:paint-select" (лежит в основе вышеописанного инструмента Paint Select) и "gegl:icc-load" (обрабатывает файлы .icc как изображения, позволяя загрузить цветовое пространство из файла). Дополнительно можно отметить формирование сборок стабильного выпуска GIMP 2.10.22 для платформы macOS. Сборки подготовлены в формате DMG. До этого последним стабильным выпуском со сборками для macOS оставался GIMP 2.10.14, т.е. пакет не обновлялся больше года.