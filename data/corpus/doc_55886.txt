В ядре Linux 5.14.7 выявлена проблема, приводящая к краху на системах с планировщиком BFQ

Пользователи различных дистрибутивов Linux, у которых применяется планировщик ввода/вывода BFQ, после обновления ядра Linux до выпуска 5.14.7 столкнулись с проблемой, приводящей к краху ядра в течение нескольких часов после загрузки. Проблема также продолжает проявляться в ядрах 5.14.8 и 5.14.9. Причиной стало перенесённое из тестовой ветки 5.15 регрессивное изменение в планировщике ввода/вывода BFQ (Budget Fair Queueing), которое пока устранено только в виде патча. В качестве обходного пути для решения проблемы можно заменить планировщик на mq-deadline. Например, для устройства nvme0n1: echo mq-deadline > /sys/block/nvme0n1/queue/scheduler Дополнение: Пользователи Fedora 35 скоро получат пакет с ядром 5.14.9, в который включён патч с исправлением (Revert "block, bfq: honor already-setup queue merges").