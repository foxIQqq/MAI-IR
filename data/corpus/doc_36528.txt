Проект Mozilla представил работающий в браузере порт движка Unreal 3 и технологию многопользовательских P2P-игр

Проект Mozilla совместно с компанией Epic Games выполнил портирование игрового движка Unreal Engine 3 для запуска внутри браузера в виде web-приложения. Как и ранее представленные порты движка Unigine и 3D игры BananaBread на движке Sauerbraten, работа Unreal в браузере базируется на использовании компилятора Emscripten, преобразующего код проектов на C/C++ в представление на языке JavaScript. Для вывода 3D-графики задействован WebGL. Отмечается, что внесённые в JavaScript-движок оптимизации, выполненные в рамках проекта Asm.js, позволили поднять производительность работающих в браузере игр до уровня, пригодного для комфортной работы с ними. В последнее время организация Mozilla активно продвигает использование Web в качестве платформы для разработки современных высокопроизводительных 3D-игр, позволяющей выполнять игры с производительностью близкой к нативным приложениям, не требуя при этом установки дополнительных плагинов. Ожидается, что в ближайшем будущем число портированных для работы в браузере популярных игр будет расти. Поставка игр через Web упростит их доставку до потребителей и снизит расходы за счёт упразднения лишних звеньев в цепочке распространения игр. Использование web-технологий также позволяет расширить спектр поддерживаемых платформ мобильными устройствами. В настоящее время уже ведётся работа по задействованию представленных технологий оптимизации производительности в топовых продуктах таких поставщиков игр, как Disney, EA и ZeptoLab. Одновременно представлена новая технология для организации взаимодействия пользователей в многопользовательских играх, работающих в web-браузере. Технология основана на использовании протокола WebRTC и позволяет игрокам осуществлять взаимодействие в форме P2P-сети, без привлечения отдельных игровых серверов. Для демонстрации возможностей новой системы подготовлен специальный многопользовательский вариант игры BananaBread, работающей на базе 3D-движка Sauerbraten. Поддержка средств, необходимых для организации многопользовательских P2P-игр, уже доступна в ночных сборках Firefox и скоро появится в сборках Chrome Canary. Кроме многопользовательских игр указанную технологию можно использовать и в других приложениях, которым может понадобиться прямой обмен данными между браузерами клиентов. Поддерживается два режима передачи данных, напоминающие по своим задачам TCP и UDP: гарантированная доставка сообщений с сохранением порядка следования блоков данных и негарантированная доставка. Для приложений скомпилированных в JavaScript при помощи Emscripten представлена прослойка для упрощения портирования кода, базирующегося на POSIX API сетевых сокетов, на использование P2P-механизмов WebRTC.