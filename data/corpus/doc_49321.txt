Проект WLinux развивает Linux-дистрибутив, нацеленный на использование в Windows

Стартап Whitewater Foundry подготовил дистрибутив WLinux, оптимизированный специально для подсистемы WSL (Windows Subsystem for Linux) и рассчитанный на использование только в окружении Windows. В дистрибутиве используется пакетная база Debian и установщик WSL-DistroLauncher, подготовленный Microsoft для запуска в WSL произвольных дистрибутивов Linux. Наработки проекта свободно распространяются под лицензией MIT, но готовые сборки доступны только через магазин Microsoft Store на платной основе. Авторы проекта обещают оперативно исправлять специфичные для Windows проблемы, связанные с работой в WSL. В отличие от уже существующих сборок Debian для WSL, в WLinux не используется системный менеджер systemd и включены некоторые дополнительные изменения и оптимизации для улучшения работы в окружении Windows. Пакеты устанавливаются из штатных репозиториев Debian. В базовую поставку входит типичный набор консольных приложений и инструментов для разработки, включая zsh, git, neovim и python 3.7. Для интеграции с Windows 10 в поставку включён набор утилит wslu. Работа производится в режиме терминала. Поддерживается запуск и графических Linux-приложений, но для их работы требуется установка платного X-сервера X410. Напомним, что запуск родных исполняемых файлов Linux реализован через специальную прослойку, на лету транслирующую системные вызовы Linux в системные вызовы Windows, т.е. представляет собой обратный аналог системы Wine. Изначально предлагаемое пользователю окружение основано на пакетной базе Ubuntu и включает только консольные приложения. Помимо Ubuntu для установки из Microsoft Store также доступны готовые сборки Debian GNU/Linux, Kali Linux, SUSE и openSUSE. Дополнительно можно отметить формирование компанией Canonical совместно с Microsoft отдельных сборок дистрибутива Ubuntu Desktop для виртуальных окружений на базе гипервизора Microsoft Hyper-V. Сборки включают специальные оптимизации для Hyper-V и позволяют получить полноценный рабочий стол Ubuntu 18.04 при работе в качестве гостевой системы в хост-окружениях Windows 10 Pro. В состав включена улучшенная версия XRDP с поддержкой расширенной версии протокола RDP с режимом Enhanced Session Mode (ESM) для взаимодействия с виртуальной машиной. Благодаря ESM удалось реализовать такие улучшения, как использование общего буфера обмена, динамическое изменение размера рабочего стола, бесшовный переход мыши между рабочим столом гостевой и хост-системы, поддержка совместных каталогов для обмена файлами между Windows и Ubuntu. Microsoft также включил в состав выпуска Windows 10 Fall Creators Update утилиту Hyper-V Quick Create, позволяющую быстро сформировать рабочее окружение на базе Ubuntu. Кроме того, поддержкой Windows заинтересовались и разработчики самодостаточных пакетов Flatpak, которые намерены обеспечить возможность установки собранных для Linux Flatpak-пакетов в Windows через поставку runtime-наборов Flatpak для WSL (Windows Subsystem for Linux). Для развития проекта в репозитории Flatpak создана отдельная WSL-ветка. Из пока нерешённых проблем упоминается отсутствие должного уровня изоляции приложений, так как в WSL не поддерживаются seccomp и пространства имён для сетевой подсистемы.