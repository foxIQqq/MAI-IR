Компания Cisco выпустила свободный антивирусный пакет ClamAV 0.102

Компания Cisco представила новый значительный выпуск свободного антивирусного пакета ClamAV 0.102.0. Напомним, что проект перешёл в руки Cisco в 2013 году после покупки компании Sourcefire, развивающей ClamAV и Snort. Код проекта распространяется под лицензией GPLv2. Ключевые улучшения: Функциональность прозрачной проверки открываемых файлов (on-access scanning, проверка в момент открытия файла) перенесена из clamd в отдельный процесс clamonacc, реализованный по аналогии с clamdscan и clamav-milter. Указанное изменение позволило организовать работу clamd под обычным пользователем без необходимости получения root-привилегий. Кроме того, в clamonacc добавлена возможность удаления, копирования или замены проблемных файлов, налажено сканирование созданных и перемещённых файлов, обеспечена поддержка обработчиков VirusEvent в режиме on-access; Значительно переработана программа freshclam, в которой появилась поддержка HTTPS и возможность работы с зеркалами, обрабатывающими запросы на сетевых портах, отличных от 80. Базовые операции работы с БД вынесены в отдельную библиотеку libfreshclam; Добавлена поддержка извлечения данных из архивов egg (ESTsoft), не требующая установки несвободной библиотеки UnEgg; Добавлена возможность ограничения времени сканирования, которая по умолчанию выставлена в 120 секунд. Лимит можно изменить через директиву MaxScanTime в clamd.conf или параметр "--max-scantime" в утилите clamscan; Улучшена обработка исполняемых файлов, снабжённых цифровыми подписями Authenticode. Добавлена возможность создания белых и чёрных списков сертификатов. Улучшен разбор формата PE; Добавлена возможность создания сигнатур байткода для распаковки исполняемых файлов Mach-O и ELF; Проведено переформатирование всей кодовой базы при помощи утилиты clang-format; Налажено автоматизированное тестирование ClamAV в сервисе Google OSS-Fuzz; Проведена работа по устранению предупреждений компилятора при сборке с опциями "-Wall" и "-Wextra"; Для платформы Windows портирована утилита clamsubmit и режим извлечения метаданных в clamscan (--gen-json); Документация перемещена в специальный раздел на сайте и теперь доступна online, помимо поставки внутри архива в каталоге docs/html.